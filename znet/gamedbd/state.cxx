#include "callid.hxx"

#ifdef WIN32
#include <winsock2.h>
#include "gnproto.h"
#include "gncompress.h"
#else
#include "protocol.h"
#include "binder.h"
#endif

namespace GNET
{

static GNET::Protocol::Type _state_GameDBServer[] = 
{
	RPC_DBSNSGETROLE,
	RPC_PASSPORTGETROLELIST,
	PROTOCOL_DELROLEANNOUNCE,
	RPC_DBCREATEFACBASE,
	RPC_GETFACBASE,
	RPC_PUTFACBASE,
	RPC_DBSAVEWEBORDER,
	RPC_GETCASHAVAIL,
	RPC_DBCREATEROLE,
	RPC_DBDELETEROLE,
	RPC_DBUNDODELETEROLE,
	RPC_DBDELETEFACTION,
	RPC_DBUNDELETEFACTION,
	RPC_DBDELETEFAMILY,
	RPC_DBUNDELETEFAMILY,
	RPC_PUTUSER,
	RPC_GETUSER,
	RPC_DELUSER,
	RPC_GETROLE,
	RPC_DELROLE,
	RPC_PUTROLEBASE,
	RPC_UPDATEROLEBASE,
	RPC_GETROLEBASE,
	RPC_GETROLEINFO,
	RPC_PUTROLESTATUS,
	RPC_GETROLESTATUS,
	RPC_PUTROLEPOCKET,
	RPC_GETROLEPOCKET,
	RPC_PUTROLETASK,
	RPC_GETROLETASK,
	RPC_PUTROLEDATA,
	RPC_DBMODIFYROLEDATA,
	RPC_DBRESTOREROLEDATA,
	RPC_GETROLEDATA,
	RPC_GETROLEBASE2,
	RPC_PUTROLEBASE2,
	RPC_TRADEINVENTORY,
	RPC_TRADESAVE,
	RPC_PUTROLE,
	RPC_GETMONEYINVENTORY,
	RPC_PUTMONEYINVENTORY,
	RPC_GETROLEBASESTATUS,
	RPC_PUTROLESTOREHOUSE,
	RPC_GETROLESTOREHOUSE,
	RPC_PUTROLEFORBID,
	RPC_GETROLEFORBID,
	RPC_GETROLEID,
	PROTOCOL_ROLELOGIN,
	RPC_GETFRIENDLIST,
	RPC_PUTFRIENDLIST,
	RPC_PUTMESSAGE,
	RPC_GETMESSAGE,
	RPC_DBFRIENDCALLBACKINFO,
	RPC_DBFRIENDCALLBACKMAIL,
	RPC_DBUPDATECALLBACKINFO,
	RPC_DBCHECKAWARD,
	RPC_DBFRIENDCALLBACKSUBSCRIBE,
	RPC_GETUSERROLES,
	RPC_CANCHANGEROLENAME,
	RPC_CLEARSTOREHOUSEPASSWD,
	RPC_RENAMEROLE,
	RPC_UID2LOGICUID,
	RPC_ROLEID2UID,
	RPC_GETTASKDATARPC,
	RPC_DBSETCASHPASSWORD,
	RPC_PUTTASKDATARPC,
	RPC_TRANSACTIONACQUIRE,
	RPC_TRANSACTIONABORT,
	RPC_TRANSACTIONCOMMIT,
	RPC_DBGETMAILLIST,
	RPC_DBGETMAIL,
	RPC_DBGETMAILATTACH,
	RPC_DBSETMAILATTR,
	RPC_DBSENDMAIL,
	RPC_DBDELETEMAIL,
	RPC_DBGETMAILALL,
	RPC_DBAUCTIONOPEN,
	RPC_DBAUCTIONBID,
	RPC_DBAUCTIONGET,
	RPC_DBAUCTIONCLOSE,
	RPC_DBAUCTIONLIST,
	RPC_DBAUCTIONTIMEOUT,
	PROTOCOL_ANNOUNCEZONEID,
	PROTOCOL_ANNOUNCEZONEID2,
	PROTOCOL_ANNOUNCEZONEID3,
	RPC_GETADDCASHSN,
	RPC_CASHSERIAL,
	PROTOCOL_ADDCASH,
	PROTOCOL_ADDCASH_RE,
	RPC_DBCRSSVRTEAMSGET,
	RPC_DBCRSSVRTEAMSCREATE,
	RPC_DBCRSSVRTEAMSRENAME,
	RPC_DBCRSSVRTEAMSDEL,
	RPC_DBCRSSVRTEAMSJOIN,
	RPC_DBCRSSVRTEAMSCHGCAPTAIN,
	RPC_DBCRSSVRTEAMSLEAVE,
	RPC_DBCRSSVRTEAMSROLEPUNISHSCORE,
	RPC_DBCRSSVRTEAMSGETSEASONTOP,
	RPC_DBCRSSVRTEAMSSEASONTOPSAVE,
	RPC_DBCROSSCRSSVRTEAMS,
	RPC_DBCROSSCRSSVRTEAMSDISMISS,
	RPC_DBCROSSCRSSVRTEAMSRENAME,
	RPC_DBCROSSCRSSVRTEAMSSEARCH,
	RPC_SYNCCRSSVRTEAMSSCORE,
	RPC_SYNCCRSSVRTEAMSROLE,
	RPC_SYNCCRSSVRTEAMS,
	RPC_DBFACTIONADD,
	RPC_DBFACTIONDEL,
	RPC_DBFACTIONJOIN,
	RPC_DBFACTIONGET,
	RPC_DBFACTIONLEAVE,
	RPC_DBFACTIONSYNC,
	RPC_DBFACTIONUPDATE,
	RPC_DBFACTIONRENAME,
	RPC_DBSECTJOIN,
	RPC_DBSECTQUIT,
	RPC_DBSECTGET,
	RPC_DBSECTUPDATE,
	RPC_DBFAMILYADD,
	RPC_DBFAMILYGET,
	RPC_DBFAMILYDEL,
	RPC_DBFAMILYJOIN,
	RPC_DBFAMILYLEAVE,
	RPC_DBFAMILYUPDATE,
	RPC_DBFAMILYAPPOINT,
	RPC_DBFAMILYSYNC,
	RPC_DBHOSTILEADD,
	RPC_DBHOSTILEDELETE,
	RPC_DBHOSTILEUPDATE,
	RPC_DBHOSTILEPROTECT,
	RPC_DBFACTIONADDMONEY,
	RPC_DBFACTIONWITHDRAWMONEY,
	RPC_DBVERIFYMASTER,
	RPC_DBFACTIONBRIEF,
	RPC_DBFACTIONAPPOINT,
	RPC_DBPUTTOPTABLE,
	RPC_DBGETTOPTABLE,
	RPC_PUTSPOUSE,
	RPC_DBSTOCKLOAD,
	RPC_DBSTOCKTRANSACTION,
	RPC_DBSTOCKBALANCE,
	RPC_DBSTOCKCOMMISSION,
	RPC_DBSTOCKCANCEL,
	RPC_DBAUTOLOCKSET,
	RPC_DBGETTOPFLOWERDATA,
	RPC_DBUPDATETOPFLOWERDATA,
	RPC_DBFLOWERGETROLEID,
	RPC_DBFLOWERGETROLEEXIST,
	RPC_DBSIEGELOAD,
	RPC_DBSIEGEEND,
	RPC_DBSIEGESETASSISTANT,
	RPC_DBSIEGECHALLENGE,
	RPC_DBINSTANCINGACTIVATE,
	RPC_DBHOMETOWNEXCHGMONEY,
	RPC_DBSIEGEGET,
	RPC_DBSIEGEPUTDETAIL,
	RPC_DBBATTLEJOIN,
	PROTOCOL_DOMAINCMD,
	RPC_DBRAWREAD,
	RPC_QUERYUSERID,
	RPC_FORBIDUSER,
	RPC_DBFORBIDUSER,
	RPC_DBGETCOMMONDATA,
	RPC_DBPUTCOMMONDATA,
	RPC_DBSNSGETPLAYERINFO,
	RPC_DBSNSGETPLAYERINFOCACHE,
	RPC_DBSNSUPDATEROLEINFO,
	RPC_DBSNSGETROLEINFO,
	RPC_DBSNSUPDATEPLAYERINFO,
	RPC_DBSNSGETMESSAGE,
	RPC_DBSNSUPDATEMESSAGE,
	RPC_DBREFGETREFERRAL,
	RPC_DBREFGETREFERRER,
	RPC_DBREFUPDATEREFERRER,
	RPC_DBREFUPDATEREFERRAL,
	RPC_DBREFWITHDRAWTRANS,
	RPC_DBCHANGEPROFILE,
	RPC_DBCLEARCONSUMABLE,
	PROTOCOL_REPAIRROLELIST,
	RPC_DBHOMETOWNGETINFO,
	RPC_DBHOMETOWNPUTINFO,
	RPC_DBHOMETOWNPUTCOMPOINFO,
	RPC_DBFUNGAMEGETINFO,
	RPC_DBFUNGAMEGETSCORE,
	RPC_DBFUNGAMEPUTINFO,
	RPC_DBFUNGAMEPUTSCORE,
	RPC_DBTERRITORYLISTLOAD,
	RPC_DBTERRITORYLISTSAVE,
	RPC_DBTERRITORYCHALLENGE,
	RPC_DBTERRITORYSAVE,
	RPC_DBUNIQUEAUCTIONLOAD,
	RPC_DBUNIQUEAUCTIONSAVE,
	RPC_MODIFYROLECREATETIME,
	RPC_DBCIRCLEGET,
	RPC_DBCIRCLEHISGET,
	RPC_DBCIRCLEJOIN,
	RPC_DBCIRCLEAPPOINT,
	RPC_DBCIRCLESYNC,
	RPC_DBCONSIGNTABLELOAD,
	RPC_DBCONSIGNPREPOST,
	RPC_DBCONSIGNQUERY,
	RPC_DBCONSIGNFAIL,
	RPC_DBCONSIGNPOST,
	RPC_DBCONSIGNPRECANCEL,
	RPC_DBCONSIGNMAIL,
	RPC_DBCONSIGNGETROLESIMPLEINFO,
	RPC_DBCONSIGNSHELFCANCEL,
	RPC_DBCONSIGNSHELF,
	RPC_DBCONSIGNSOLD,
	RPC_DBCONSIGNQUERYBACKUP,
	PROTOCOL_DBCONSIGNSKIPSN,
	RPC_DBCONSIGNPREPOSTROLE,
	RPC_DBCONSIGNSOLDROLE,
	RPC_DBCONSIGNGETROLE,
	RPC_DBCONSIGNROLEFAIL,
	RPC_FETCHPLAYERDATA,
	RPC_ACTIVATEPLAYERDATA,
	RPC_TOUCHPLAYERDATA,
	RPC_SAVEPLAYERDATA,
	RPC_FREEZEPLAYERDATA,
	RPC_PLAYERIDENTITYMATCH,
	RPC_DELPLAYERDATA,
	RPC_DBGATEGETUSER,
	RPC_DBGATEGETROLE,
	RPC_DBGATEROLERELATION,
	RPC_DBGATEACTIVATE,
	RPC_DBGATEDEACTIVATE,
	RPC_GETCASHTOTAL,
	RPC_DBRAIDOPEN,
	RPC_ADDGLOBALCOUNTER,
	RPC_GETGLOBALCOUNTER,
	RPC_DBCHANGEROLENAME,
	RPC_DBROLENAMELIST,
	RPC_DBQUERYROLENAME,
	RPC_DBCHANGEFACTIONNAME,
	RPC_DBKINGDOMLOAD,
	RPC_DBKINGDOMSETWINNER,
	RPC_DBKINGDOMSAVE,
	RPC_DBKINGDOMAPPOINT,
	RPC_DBKINGDOMDISCHARGE,
	RPC_DBKINGDOMTASKISSUE,
	RPC_DBKINGDOMTASKCLOSE,
	RPC_DBKINGDOMTASKEND,
	RPC_DBKINGGETREWARD,
	RPC_DBGETTOUCHORDER,
	RPC_OPERATIONCMD,
	RPC_DBGETSERVICEFORBIDCMD,
	RPC_DEBUGOPERATIONCMD,
};

GNET::Protocol::Manager::Session::State state_GameDBServer(_state_GameDBServer,
						sizeof(_state_GameDBServer)/sizeof(GNET::Protocol::Type), 86400);

static GNET::Protocol::Type _state_GameDBClient[] = 
{
	RPC_PASSPORTGETROLELIST,
	PROTOCOL_DELROLEANNOUNCE,
	RPC_DBCREATEFACBASE,
	RPC_GETFACBASE,
	RPC_PUTFACBASE,
	RPC_DBSAVEWEBORDER,
	RPC_GETCASHAVAIL,
	RPC_DBCREATEROLE,
	RPC_DBDELETEROLE,
	RPC_DBUNDODELETEROLE,
	RPC_DBDELETEFACTION,
	RPC_DBUNDELETEFACTION,
	RPC_DBDELETEFAMILY,
	RPC_DBUNDELETEFAMILY,
	RPC_PUTUSER,
	RPC_GETUSER,
	RPC_DELUSER,
	RPC_GETROLE,
	RPC_DELROLE,
	RPC_DELROLE,
	RPC_PUTROLEBASE,
	RPC_UPDATEROLEBASE,
	RPC_GETROLEBASE,
	RPC_GETROLEINFO,
	RPC_PUTROLESTATUS,
	RPC_GETROLESTATUS,
	RPC_PUTROLEPOCKET,
	RPC_GETROLEPOCKET,
	RPC_PUTROLETASK,
	RPC_GETROLETASK,
	RPC_TRADEINVENTORY,
	RPC_TRADESAVE,
	RPC_PUTROLE,
	RPC_GETMONEYINVENTORY,
	RPC_PUTMONEYINVENTORY,
	RPC_GETROLEBASESTATUS,
	RPC_PUTROLESTOREHOUSE,
	RPC_GETROLESTOREHOUSE,
	RPC_PUTROLEFORBID,
	RPC_GETROLEFORBID,
	RPC_GETROLEID,
	RPC_GETFRIENDLIST,
	RPC_PUTFRIENDLIST,
	RPC_PUTMESSAGE,
	RPC_GETMESSAGE,
	RPC_DBFRIENDCALLBACKINFO,
	RPC_DBFRIENDCALLBACKMAIL,
	RPC_DBUPDATECALLBACKINFO,
	RPC_DBCHECKAWARD,
	RPC_DBFRIENDCALLBACKSUBSCRIBE,
	RPC_GETUSERROLES,
	RPC_CANCHANGEROLENAME,
	RPC_CLEARSTOREHOUSEPASSWD,
	RPC_RENAMEROLE,
	RPC_UID2LOGICUID,
	RPC_ROLEID2UID,
	RPC_GETTASKDATARPC,
	RPC_DBSETCASHPASSWORD,
	RPC_PUTTASKDATARPC,
	RPC_TRANSACTIONACQUIRE,
	RPC_TRANSACTIONABORT,
	RPC_TRANSACTIONCOMMIT,
	RPC_DBVERIFYMASTER,
	RPC_DBGETMAILLIST,
	RPC_DBGETMAIL,
	RPC_DBGETMAILATTACH,
	RPC_DBSETMAILATTR,
	RPC_DBSENDMAIL,
	RPC_DBDELETEMAIL,
	RPC_DBGETMAILALL,
	RPC_DBAUCTIONOPEN,
	RPC_DBAUCTIONBID,
	RPC_DBAUCTIONGET,
	RPC_DBAUCTIONCLOSE,
	RPC_DBAUCTIONLIST,
	RPC_DBAUCTIONTIMEOUT,
	RPC_GETADDCASHSN,
	RPC_CASHSERIAL,
	PROTOCOL_ADDCASH,
	PROTOCOL_ADDCASH_RE,
	RPC_DBCRSSVRTEAMSGET,
	RPC_DBCRSSVRTEAMSCREATE,
	RPC_DBCRSSVRTEAMSRENAME,
	RPC_DBCRSSVRTEAMSDEL,
	RPC_DBCRSSVRTEAMSJOIN,
	RPC_DBCRSSVRTEAMSCHGCAPTAIN,
	RPC_DBCRSSVRTEAMSLEAVE,
	RPC_DBCRSSVRTEAMSROLEPUNISHSCORE,
	RPC_DBCRSSVRTEAMSGETSEASONTOP,
	RPC_DBCRSSVRTEAMSSEASONTOPSAVE,
	RPC_DBCROSSCRSSVRTEAMS,
	RPC_DBCROSSCRSSVRTEAMSDISMISS,
	RPC_DBCROSSCRSSVRTEAMSRENAME,
	RPC_DBCROSSCRSSVRTEAMSSEARCH,
	RPC_SYNCCRSSVRTEAMSSCORE,
	RPC_SYNCCRSSVRTEAMSROLE,
	RPC_SYNCCRSSVRTEAMS,
	RPC_DBFACTIONADD,
	RPC_DBFACTIONDEL,
	RPC_DBFACTIONJOIN,
	RPC_DBFACTIONGET,
	RPC_DBFACTIONLEAVE,
	RPC_DBFACTIONSYNC,
	RPC_DBFACTIONUPDATE,
	RPC_DBFACTIONBRIEF,
	RPC_DBFACTIONAPPOINT,
	RPC_DBFACTIONRENAME,
	RPC_DBSECTJOIN,
	RPC_DBSECTQUIT,
	RPC_DBSECTGET,
	RPC_DBSECTUPDATE,
	RPC_DBFAMILYADD,
	RPC_DBFAMILYGET,
	RPC_DBFAMILYDEL,
	RPC_DBFAMILYJOIN,
	RPC_DBFAMILYLEAVE,
	RPC_DBFAMILYUPDATE,
	RPC_DBFAMILYAPPOINT,
	RPC_DBFAMILYSYNC,
	RPC_DBHOSTILEADD,
	RPC_DBHOSTILEDELETE,
	RPC_DBHOSTILEUPDATE,
	RPC_DBHOSTILEPROTECT,
	RPC_DBFACTIONADDMONEY,
	RPC_DBFACTIONWITHDRAWMONEY,
	RPC_DBPUTTOPTABLE,
	RPC_DBGETTOPTABLE,
	PROTOCOL_UPDATETOPTABLE,
	RPC_PUTSPOUSE,
	RPC_DBSTOCKLOAD,
	RPC_DBSTOCKTRANSACTION,
	RPC_DBSTOCKBALANCE,
	RPC_DBSTOCKCOMMISSION,
	RPC_DBSTOCKCANCEL,
	RPC_DBAUTOLOCKSET,
	RPC_DBSIEGELOAD,
	RPC_DBSIEGEEND,
	RPC_DBSIEGESETASSISTANT,
	RPC_DBSIEGECHALLENGE,
	RPC_DBINSTANCINGACTIVATE,
	RPC_DBHOMETOWNEXCHGMONEY,
	RPC_DBSIEGEGET,
	RPC_DBSIEGEPUTDETAIL,
	RPC_DBBATTLEJOIN,
	PROTOCOL_DOMAINCMD_RE,
	RPC_QUERYUSERID,
	RPC_FORBIDUSER,
	RPC_DBFORBIDUSER,
	RPC_DBGETCOMMONDATA,
	RPC_DBPUTCOMMONDATA,
	RPC_DBSNSGETPLAYERINFO,
	RPC_DBSNSGETPLAYERINFOCACHE,
	RPC_DBSNSUPDATEROLEINFO,
	RPC_DBSNSGETROLEINFO,
	RPC_DBSNSUPDATEPLAYERINFO,
	RPC_DBSNSGETMESSAGE,
	RPC_DBSNSUPDATEMESSAGE,
	RPC_DBREFGETREFERRAL,
	RPC_DBREFGETREFERRER,
	RPC_DBREFUPDATEREFERRER,
	RPC_DBREFUPDATEREFERRAL,
	RPC_DBREFWITHDRAWTRANS,
	RPC_DBCHANGEPROFILE,
	RPC_DBCLEARCONSUMABLE,
	RPC_DBHOMETOWNGETINFO,
	RPC_DBHOMETOWNPUTINFO,
	RPC_DBHOMETOWNPUTCOMPOINFO,
	RPC_DBFUNGAMEGETINFO,
	RPC_DBFUNGAMEGETSCORE,
	RPC_DBFUNGAMEPUTINFO,
	RPC_DBFUNGAMEPUTSCORE,
	RPC_DBTERRITORYLISTLOAD,
	RPC_DBTERRITORYLISTSAVE,
	RPC_DBTERRITORYCHALLENGE,
	RPC_DBTERRITORYSAVE,
	RPC_DBUNIQUEAUCTIONLOAD,
	RPC_DBUNIQUEAUCTIONSAVE,
	RPC_MODIFYROLECREATETIME,
	RPC_DBCIRCLEGET,
	RPC_DBCIRCLEHISGET,
	RPC_DBCIRCLEJOIN,
	RPC_DBCIRCLEAPPOINT,
	RPC_DBCIRCLESYNC,
	RPC_DBCONSIGNTABLELOAD,
	RPC_DBCONSIGNPREPOST,
	RPC_DBCONSIGNQUERY,
	RPC_DBCONSIGNFAIL,
	RPC_DBCONSIGNPOST,
	RPC_DBCONSIGNPRECANCEL,
	RPC_DBCONSIGNMAIL,
	RPC_DBCONSIGNGETROLESIMPLEINFO,
	RPC_DBCONSIGNSHELFCANCEL,
	RPC_DBCONSIGNSHELF,
	RPC_DBCONSIGNSOLD,
	RPC_DBCONSIGNQUERYBACKUP,
	RPC_DBCONSIGNPREPOSTROLE,
	RPC_DBCONSIGNSOLDROLE,
	RPC_DBCONSIGNGETROLE,
	RPC_DBCONSIGNROLEFAIL,
	RPC_FETCHPLAYERDATA,
	RPC_ACTIVATEPLAYERDATA,
	RPC_TOUCHPLAYERDATA,
	RPC_SAVEPLAYERDATA,
	RPC_FREEZEPLAYERDATA,
	RPC_PLAYERIDENTITYMATCH,
	RPC_DELPLAYERDATA,
	RPC_GETCASHTOTAL,
	RPC_DBRAIDOPEN,
	RPC_ADDGLOBALCOUNTER,
	RPC_GETGLOBALCOUNTER,
	RPC_DBCHANGEROLENAME,
	RPC_DBROLENAMELIST,
	RPC_DBQUERYROLENAME,
	RPC_DBCHANGEFACTIONNAME,
	RPC_DBKINGDOMLOAD,
	RPC_DBKINGDOMSETWINNER,
	RPC_DBKINGDOMSAVE,
	RPC_DBKINGDOMAPPOINT,
	RPC_DBKINGDOMDISCHARGE,
	PROTOCOL_UPDATEQUEEN,
	RPC_DBKINGDOMTASKISSUE,
	RPC_DBKINGDOMTASKCLOSE,
	RPC_DBKINGDOMTASKEND,
	RPC_DBKINGGETREWARD,
	RPC_DBGETTOPFLOWERDATA,
	RPC_DBUPDATETOPFLOWERDATA,
	RPC_DBFLOWERGETROLEID,
	RPC_DBFLOWERGETROLEEXIST,
	RPC_DBGETTOUCHORDER,
	RPC_OPERATIONCMD,
	RPC_DBGETSERVICEFORBIDCMD,
	RPC_DEBUGOPERATIONCMD,
};

GNET::Protocol::Manager::Session::State state_GameDBClient(_state_GameDBClient,
						sizeof(_state_GameDBClient)/sizeof(GNET::Protocol::Type), 86400);


};

