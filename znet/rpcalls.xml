<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="rpcalls.xsl"?>

<application namespace="GNET" project="ZNET">

	<rpcdata name="Integer">
		<variable name="value" type="int" default="0"/>
	</rpcdata>      
	<rpcdata name="GPair">
		<variable name="key" type="int" default="0"/>
		<variable name="value" type="int" default="0"/>
	</rpcdata>

	<!--  ****************************************************************  -->
	<!--  Protocols used only logservice and logclient		 	-->
	<!--  Protocols typeid is 59 - 62 					-->
	<!--  ***************************************************************** -->

	<protocol name="StatInfoVital" maxsize="1024" prior="1" type="59">
		<variable name="priority" type="int"/>
		<variable name="msg" type="std::string" default="std::string()" attr="ref"/>
		<variable name="hostname" type="std::string" default="std::string()" attr="ref"/>
		<variable name="servicename" type="std::string" default="std::string()" attr="ref"/>
	</protocol>

	<protocol name="StatInfo" maxsize="1024" prior="2" type="60">
		<variable name="priority" type="int"/>
		<variable name="msg" type="std::string" default="std::string()" attr="ref"/>
		<variable name="hostname" type="std::string" default="std::string()" attr="ref"/>
		<variable name="servicename" type="std::string" default="std::string()" attr="ref"/>
	</protocol>

	<protocol name="RemoteLogVital" maxsize="1024" prior="1" type="61">
		<variable name="priority" type="int"/>
		<variable name="msg" type="std::string" default="std::string()" attr="ref"/>
		<variable name="hostname" type="std::string" default="std::string()" attr="ref"/>
		<variable name="servicename" type="std::string" default="std::string()" attr="ref"/>
	</protocol>

	<protocol name="RemoteLog" maxsize="1024" prior="2" type="62">
		<variable name="priority" type="int"/>
		<variable name="msg" type="std::string" default="std::string()" attr="ref"/>
		<variable name="hostname" type="std::string" default="std::string()" attr="ref"/>
		<variable name="servicename" type="std::string" default="std::string()" attr="ref"/>
	</protocol>

	<state name="LogNull" timeout="3600" attr="null">
	</state>

	<state name="LogNormal" timeout="3600">
		<protocol ref="StatInfoVital"/>
		<protocol ref="StatInfo"/>
		<protocol ref="RemoteLogVital"/>
		<protocol ref="RemoteLog"/>
	</state>

	<service name="logservice">
		<manager name="Logservice" type="server" initstate="LogNormal"/>
		<manager name="LogserviceTcp" type="server" initstate="LogNormal"/>

		<state ref="LogNormal" />

		<protocol ref="StatInfoVital" />
		<protocol ref="StatInfo" />
		<protocol ref="RemoteLogVital" />
		<protocol ref="RemoteLog" />
	</service>

	<service name="logclient">
		<manager name="Logclient" type="client" initstate="LogNull" reconnect="1"/>
		<manager name="LogclientTcp" type="client" initstate="LogNull" reconnect="1"/>

		<state ref="LogNull" />

		<protocol ref="StatInfoVital" />
		<protocol ref="StatInfo" />
		<protocol ref="RemoteLogVital" />
		<protocol ref="RemoteLog" />
	</service>


	<state name="LoggerNull" timeout="3600" attr="null">
	</state>

	<service name="log_client">
		<manager name="Log2Udp" type="client" initstate="LoggerNull" reconnect="1"/>
		<manager name="Log2Tcp" type="client" initstate="LoggerNull" reconnect="1"/>

		<state ref="LoggerNull" />
	</service>

	<service name="logserver">
		<manager name="Log2Udp" type="client" initstate="LoggerNull" reconnect="1"/>
		<manager name="Log2Tcp" type="client" initstate="LoggerNull" reconnect="1"/>

		<state ref="LoggerNull" />
		<protocol ref="StatInfoVital" />
		<protocol ref="StatInfo" />
		<protocol ref="RemoteLogVital" />
		<protocol ref="RemoteLog" />
		<protocol ref="LogStockCommission" />
		<protocol ref="LogStockBalance" />
		<protocol ref="LogStockTransaction" />
	</service>
	<!--  ****************************************************************************  -->
	<!--  Protocols and Rpcs Log2 							    -->
	<!--  Protocols and Rpcs typeid is 12000					    -->
	<!--  ****************************************************************************  -->

	<protocol debug="0" name="LogStockCommission" maxsize="512" prior="101" type="12000">
		<variable name="order" type="StockOrder" default="StockOrder()" attr="ref"/>
	</protocol>
	<protocol debug="0" name="LogStockBalance" maxsize="512" prior="101" type="12001">
		<variable name="roleid" type="int" default="0"/>
		<variable name="tid" type="unsigned int" default="0"/>
		<variable name="order_volume" type="int" default="0"/>
		<variable name="ack_volume" type="int" default="0"/>
		<variable name="ack_money" type="int" default="0"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="cash_buy" type="int" default="0"/>
		<variable name="cash_sell" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="LogStockTransaction" maxsize="512" prior="101" type="12002">
		<variable name="roleid" type="int" default="0"/>
		<variable name="withdraw" type="char" default="0"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="total_cash" type="int" default="0"/>
		<variable name="total_money" type="int" default="0"/>
	</protocol>

	<!--  ****************************************************************************  -->
	<!--  Protocols and Rpcs used only in Linkd Deliveryd and Client                    -->
	<!--  Protocols and Rpcs typeid is 1 - 64 , 128-500                                 -->
	<!--  ****************************************************************************  -->
	<protocol debug="0" name="Challenge" maxsize="128" prior="101" type="1">
		<variable name="nonce" type="Octets" attr="ref" />
		<variable name="version" type="unsigned int"/>
		<variable name="edition" type="Octets" attr="ref" />
		<variable name="algo" type="char" default="0" />
		<variable name="server_attr" type="int64_t" default="0"/>
	</protocol>

	<protocol debug="0" name="Response" maxsize="256" prior="101" type="3">
		<variable name="identity" type="Octets" attr="ref" />
		<variable name="response" type="Octets" attr="ref" />
		<variable name="state" type="Octets" attr="ref"/> <!-- 国家区域标识 -->
		<variable name="use_token" type="char" default="0"/>
		<variable name="mid" type="Octets" attr="ref" default="Octets()"/>
	</protocol>

	<protocol debug="0" name="KeyExchange" maxsize="32" prior="101" type="2">
		<variable name="nonce" type="Octets" attr="ref" />
		<variable name="blkickuser" type="char"	default="0"/>
	</protocol>

	<protocol debug="0" name="OnlineAnnounce" maxsize="64" prior="101" type="4">
		<variable name="userid" type="int" />
		<variable name="localsid" type="unsigned int" />
		<variable name="remain_time" type="int" default="0"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="free_time_left" type="int" default="0"/>
		<variable name="free_time_end" type="int" default="0"/>
		<variable name="district_id" type="int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="ErrorInfo" maxsize="256" prior="1" type="5">
		<variable name="errcode" type="unsigned char" />
		<variable name="info" type="Octets" attr="ref" />
	</protocol>
	<protocol debug="0" name="ServerMessage" maxsize="128" prior="1" type="11">
		<variable name="errcode" type="int" />
		<variable name="message" type="Octets" attr="ref" />
	</protocol>

	<protocol debug="0" name="StatusAnnounce" maxsize="32" prior="1" type="6">
		<variable name="userid" type="int" />
		<variable name="localsid" type="unsigned int" />
		<variable name="status" type="unsigned char" />
	</protocol>
	
	<protocol debug="0" name="RoleStatusAnnounce" maxsize="64" prior="1" type="7">
		<variable name="zoneid" type="int" />
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int" />
		<variable name="status" type="unsigned char" />
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
	</protocol>

	<protocol debug="0"  name="DeliverStatus" maxsize="32" prior="1" type="8">
		<variable name="dstid" type="int"/>
		<variable name="srcid" type="int"/>
		<variable name="status" type="int"/>
		<variable name="localsid" type="unsigned int" />
	</protocol>

	<protocol debug="0" name="GetServerRTT" maxsize="16" prior="1" type="9">
		<variable name="time" type="int"/>
	</protocol>

	<protocol debug="0"  name="KickoutUser" maxsize="32" prior="101" type="10">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="cause" type="unsigned char" default="ERR_KICKOUT"/>
	</protocol>
			
	<rpcdata name="UserLoginArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="blkickuser" type="char"	default="0"/>
		<variable name="freecreatime" type="int" default="0"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="accountname" type="Octets" attr="ref" default="Octets()"/>
		<!--au set maxsize=128 -->
	</rpcdata>      
	<rpcdata name="UserLoginRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="remain_playtime" type="int" default="0"/>
		<variable name="func" type="int" default="0"/>
		<variable name="funcparm" type="int" default="0"/>
		<variable name="blIsGM" type="char" default="0"/>
		<variable name="free_time_left" type="int" default="0"/>
		<variable name="free_time_end" type="int" default="0"/>
		<variable name="creatime" type="int" default="0"/>
	</rpcdata>          
	<rpc debug="0" name="UserLogin" type="15" argument="UserLoginArg" result="UserLoginRes" maxsize="256" prior="101" timeout="40"/>

        <!-- for second generation perfectworld protected -->
	<rpcdata name="UserLoginArg2">
		<variable name="userid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="blkickuser" type="char"	default="0"/>
		<variable name="freecreatime" type="int" default="0"/>
		<variable name="used_elec_number" type="Octets" attr="ref" default="Octets()"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="Octets" attr="ref" default="Octets()"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="accountname" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>      
	<rpcdata name="UserLoginRes2">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="remain_playtime" type="int" default="0"/>
		<variable name="func" type="int" default="0"/>
		<variable name="funcparm" type="int" default="0"/>
		<variable name="blIsGM" type="char" default="0"/>
		<variable name="free_time_left" type="int" default="0"/>
		<variable name="free_time_end" type="int" default="0"/>
                <variable name="creatime" type="int" default="0"/>
                <variable name="adduppoint" type="int" default="0"/>
                <variable name="soldpoint" type="int" default="0"/>
                <variable name="auth" type="ByteVector" attr="ref" default="ByteVector()"/>
                <variable name="gender" type="char" default="2"/>
		<variable name="coupon" type="int" default="0"/>
		<variable name="today_exchange_coupon" type="int" default="0"/>
		<variable name="today_remain_exchange_coupon" type="int" default="0"/>
                <variable name="nickname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>          
	<rpc debug="0" name="UserLogin2" type="8067" argument="UserLoginArg2" result="UserLoginRes2" maxsize="512" prior="101" timeout="40"/>

	<rpcdata name="UserLogoutArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>      
	<rpcdata name="UserLogoutRes">
		<variable name="retcode" type="char" default="-1"/>
	</rpcdata>          
	<rpc debug="0" name="UserLogout" type="33" argument="UserLogoutArg" result="UserLogoutRes" maxsize="128" prior="101" timeout="30"/>

	<protocol name="ReportIP" maxsize="64" prior="1" type="35">
		<variable name="userid" type="int" default="-1"/>
		<variable name="ip" type="int" default="0"/>
	</protocol>
	<protocol name="UpdateRemainTime" maxsize="64" prior="1" type="36">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="int" default="-1"/> <!-- for au, this is aid -->
		<variable name="remain_time" type="int" default="0"/>
		<variable name="free_time_left" type="int" default="0"/>
		<variable name="free_time_end" type="int" default="0"/>
	</protocol>

	<rpcdata name="LineInfo" attr="vector">
		<variable name="id" type="int" default="0"/>
		<variable name="name" type="Octets" default="Octets(0)"/>
		<variable name="attribute" type="Octets" default="Octets(0)"/>
		<variable name="ishide" type="char" default="0"/>
	</rpcdata>

	<protocol name="LineList" maxsize="8192" prior="1" type="37">
		<variable name="linelist" type="LineInfoVector"/>
                <variable name="algorithm" type="int" default="0"/>
	</protocol>

	<rpcdata name="LinePlayerLimit" attr="vector">
		<variable name="line_id" type="int" default="0"/>
		<variable name="cur_num" type="int" default="0"/>
		<variable name="max_num" type="int" default="1"/>
		<variable name="attr" type="unsigned int" default="0"/>
	</rpcdata>

	<rpcdata name="GetLinePlayerLimitArg">
		<variable name="version" type="unsigned int" default="0"/>
	</rpcdata>

	<rpcdata name="LinePlayerNumberLimits">
		<variable name="limits" type="LinePlayerLimitVector"/>
	</rpcdata>

	<rpcdata name="SetLinePlayerLimitRes">
		<variable name="retcode" type="char" default="-1"/>
	</rpcdata>

	<rpc debug="0" name="GetLinePlayerLimit" type="38" argument="GetLinePlayerLimitArg" result="LinePlayerNumberLimits" maxsize="16384" prior="1" timeout="10"/><!--iweb协议 修改需放到同步目录-->
	<rpc debug="0" name="SetLinePlayerLimit" type="39" argument="LinePlayerNumberLimits" result="SetLinePlayerLimitRes" maxsize="16384" prior="1" timeout="10"/><!--iweb协议-->
	
	<state name="Null" timeout="5" />
	
	<!--  ****************************************************************************  -->
	<!--  Protocols and Rpcs used only in Linkd Deliveryd and Client and Game			-->
	<!--  Protocols and Rpcs typeid is 63 - 127,128-500									-->
	<!--  ****************************************************************************  -->
	<protocol debug="0" name="PlayerKickout" maxsize="32" prior="1" type="63">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int"/>
		<variable name="localsid" type="int"/>
	</protocol>
	<protocol debug="0" name="PlayerKickout_Re" maxsize="32" prior="1" type="64">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="src_zoneid" type="int" default="0"/><!--踢跨服玩家引入-->
	</protocol>

	<protocol debug="0" name="PlayerLogin" maxsize="1024" prior="1" type="97">
		<variable name="roleid" type="int"/>
		<variable name="lineid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="auth" type="ByteVector" default="ByteVector()"/>
		<variable name="usepos" type="int" default="0"/>
		<variable name="x" type="float" default="0"/>
		<variable name="y" type="float" default="0"/>
		<variable name="z" type="float" default="0"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="territory_role" type="char" default="0"/><!--阵营 1:攻方 2:守方 3:旁观-->
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
	</protocol>
	
	<protocol debug="0" name="PlayerLogin_Re" maxsize="8192" prior="1" type="66">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="level" type="unsigned char"/>
		<variable name="occupation" type="unsigned char"/>
		<variable name="factionid" type="int"/>
		<variable name="factiontitle" type="int"/>
		<variable name="familyid" type="int"/>
		<variable name="circleid" type="int"/>
		<!--variable name="circletitlemask" type="unsigned char"/-->
		<variable name="contribution" type="int"/>
		<variable name="devotion" type="int"/>
		<variable name="jointime" type="int"/>
		<variable name="src_provider_id" type="int" default="-1"/>
		<variable name="battlescore" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="x" type="float" default="0"/>
		<variable name="y" type="float" default="0"/>
		<variable name="z" type="float" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
		<variable name="client_tag" type="int" default="0"/>
		<variable name="roleinfo_pack" type="Octets" default="Octets()"/>
		<variable name="lastlogin_ip" type="int" default="0"/>
		<variable name="checksum" type="Octets" default="Octets()"/>
		<!--variable name="direct_enter_raid" type="char" default="0"/--><!--0普通登陆，1直接登陆副本-->
	</protocol>

	<protocol debug="0" name="PlayerOffline" maxsize="32" prior="1" type="67">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="PlayerOffline_Re" maxsize="32" prior="1" type="68">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
	</protocol>

	<protocol debug="0" name="PlayerLogout" maxsize="32" prior="101" type="69">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol debug="0" name="SelectRole" maxsize="32" prior="101" type="70">
		<variable name="roleid" type="int"/>
		<variable name="lineid" type="int"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
	</protocol>
	
	<protocol debug="0" name="SelectRole_Re" maxsize="8192" prior="101" type="71">
		<variable name="result" type="int"/>
		<variable name="auth" type="ByteVector" default="ByteVector()"/>
		<variable name="select_roleinfo" type="RoleInfo" default="RoleInfo()"/>
		<variable name="lastlogin_ip" type="int" default="0"/>
		<variable name="direct_enter_raid" type="char" default="0"/><!--0普通登陆，1直接登陆副本-->
		<variable name="checksum" type="Octets" default="Octets()"/>
	</protocol>

	<!--重连相关协议  -->
	<protocol debug="0" name="TryReconnect" maxsize="64" prior="101" type="50">
		<variable name="roleid" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="checksum" type="Octets" attr="ref"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="localsid" type="int" default="0" /> <!--服务器填充 -->
	</protocol>

	<protocol debug="0" name="TryReconnect_Re" maxsize="128" prior="101" type="51">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="localsid" type="int" default="0"/> <!--服务器填充 -->
		<variable name="zoneid" type="int" default="0"/>
		<variable name="district_id" type="int" default="0"/>
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="account" type="Octets" attr="ref" default="Octets()"/>
	</protocol>

	<protocol debug="0" name="PlayerReconnect" maxsize="32" prior="101" type="52">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol debug="0" name="PlayerReconnect_Re" maxsize="32" prior="101" type="53">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
	</protocol>
	

	<protocol debug="0" name="EnterWorld" maxsize="32" prior="101" type="72">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="locktime" type="int" default="0"/>
		<variable name="timeout" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol debug="0" name="AnnounceProviderID" maxsize="512" prior="101" type="73">
		<variable name="id" type="int"/>
		<variable name="attr" type="unsigned int"/>
		<variable name="lineinfo" type="LineInfo" default="LineInfo()"/>
		<variable name="serialno" type="int" default="0"/>
		<variable name="edition" type="Octets" attr="ref" default="Octets()" />
	</protocol>

	<protocol debug="0" name="AnnounceChallengeAlgo" maxsize="16" prior="1" type="136">
		<variable name="challenge_algo" type="char"/>
                <variable name="auth_version" type="int" default="0"/>
	</protocol><!--iweb协议-->
	
	<protocol debug="0" name="S2CGamedataSend" maxsize="2097152" prior="100" type="74">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="C2SGamedataSend" maxsize="65535" prior="100" type="75">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GamedataSend" maxsize="2097152" prior="1" type="34">
		<variable name="data" type="Octets" attr="ref" coordinate="false"/>
	</protocol>

	<rpcdata name="Player" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="S2CMulticast" maxsize="102400" prior="100" type="77">
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="playerlist" type="PlayerVector"/>
	</protocol>
	<protocol debug="0" name="S2CBroadcast" maxsize="102400" prior="1" type="78">
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>

	<protocol debug="0" name="PublicChat" maxsize="1024" prior="1" type="79"> <!--player to linkserver to gameserver -->
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="item_pos" type="int" default="-1"/>
	</protocol><!--iweb协议-->
	
	<protocol debug="0" name="ChatMessage" maxsize="2048" prior="1" type="80"> <!-- link server to player -->
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="srcroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="srcrolelevel" type="int" default="0"/>
		<variable name="srcfactionid" type="unsigned int" default="0"/>
		<variable name="srcsectid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="WorldChat" maxsize="1024" prior="1" type="133"> <!-- link server to player -->
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="sender_zoneid" type="int" default="0"/>
	</protocol><!--iweb协议-->
	
	<protocol debug="0" name="ChatMultiCast" maxsize="102400" prior="1" type="81"> <!-- game server to link server--> 
		<variable name="playerlist" type="PlayerVector"/>
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="srcroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="srcrolelevel" type="int" default="0"/><!--如果channel是LOCAL gs会填充发送者的等级以便接收方屏蔽-->
		<variable name="srcfactionid" type="unsigned int" default="0"/>
		<variable name="srcsectid" type="int" default="0"/>
	</protocol>
	<rpcdata name="RoleInfo" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="gender" type="unsigned char" default="0"/>
		<variable name="faceid" type="unsigned char" default="0"/>
		<variable name="hairid" type="unsigned char" default="0"/>
		<variable name="earid"	type="unsigned char" default="0"/>
		<variable name="tailid"	type="unsigned char" default="0"/>
		<variable name="occupation"	type="unsigned char" default="0"/>
		<variable name="level"	type="int"	default="1"/>
		<variable name="name"	type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="equipment" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="status" type="char" default="0"/>
		<variable name="delete_time" type="int" default="0"/>
		<variable name="create_time" type="int" default="0"/>
		<variable name="lastlogin_time" type="int" default="0"/>
		<variable name="posx" type="float" default="0.0"/>
		<variable name="posy" type="float" default="0.0"/>
		<variable name="posz" type="float" default="0.0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="custom_status" type="Octets" default="Octets()"/>
		<variable name="charactermode" type="Octets" default="Octets()"/>
		<variable name="src_zoneid" type="int" default="0"/>
		<variable name="fashionid" type="unsigned char"  default="0"/>
		<variable name="cultivation" type="short" default="0"/>
	</rpcdata>
	<protocol debug="0" name="RoleList" maxsize="32" prior="101" type="82">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="handle" type="int" />
	</protocol>
	<protocol debug="0" name="RoleList_Re" maxsize="16384" prior="101" type="83">
		<variable name="result" type="int"/>
		<variable name="handle" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="rolelist" type="RoleInfoVector" default="RoleInfoVector()" attr="ref"/>
		<variable name="referrer" type="int" default="0" />
	</protocol>
	<protocol debug="0" name="CreateRole" maxsize="8192" prior="101" type="84">
		<variable name="userid" type="int" />
		<variable name="localsid" type="unsigned int" />
		<variable name="roleinfo" type="RoleInfo"/>
		<variable name="referid" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="CreateRole_Re" maxsize="8192" prior="101" type="85">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleinfo" type="RoleInfo" default="RoleInfo()"/>
		<variable name="referrer" type="int" default="0"/>
		<variable name="refretcode" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="DeleteRole" maxsize="32" prior="101" type="86">
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="DeleteRole_Re" maxsize="32" prior="101" type="87">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="101"/>
	</protocol>
	<protocol debug="0" name="UndoDeleteRole" maxsize="32" prior="101" type="88">
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UndoDeleteRole_Re" maxsize="32" prior="101" type="89">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol debug="0" name="KeepAlive" maxsize="16" prior="0" type="90">
		<variable name="code" type="char"/>
	</protocol>
	<protocol debug="0" name="IsConnAlive" maxsize="16" prior="0" type="196">
		<variable name="counter" type="int"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfo" maxsize="2048" prior="1" type="91">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfo_Re" maxsize="1536" prior="1" type="92">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="player" type="GRoleBase"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfo2" maxsize="2048" prior="1" type="161">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerid" type="int"/>
		<variable name="cloneid" type="int"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfo2_Re" maxsize="1536" prior="1" type="162">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="cloneid" type="int"/>
		<variable name="player" type="GRoleBase"/>
	</protocol>
	<protocol debug="0" name="GChangeRolename" type="163" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="newname" type="Octets" attr="ref"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GChangeRolename_Re" type="164" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="newname" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="ChangeRolename_Re" type="165" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="newname" type="Octets" attr="ref"/>
		<variable name="localsid" type="int"/>
	</protocol>
	<rpcdata name="DBChangeRolenameArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets()"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBChangeRolenameRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="familyid" type="int" default="0"/>
		<variable name="circleid" type="int" default="0"/>
		<variable name="sectid" type="int" default="0"/>
		<variable name="rolenamehis" type="GRoleNameHisVector" default="GRoleNameHisVector()"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBChangeRolename" type="166" maxsize="2097152" prior="1" timeout="30"/>
	<protocol debug="0" name="QueryRolenameHistory" type="167" maxsize="64" prior="1">
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="NameHistory">
		<variable name="roleid" type="int" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="level"	type="int" default="1"/>
		<variable name="reborn_cnt" type="int" default="0"/> 
		<variable name="gender" type="char" default="0"/>
		<variable name="namelist" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
	</rpcdata>
	<protocol debug="0" name="QueryRolenameHistory_Re" type="168" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="list" type="std::vector&lt;NameHistory&gt;" attr="ref"/>
	</protocol>
	<rpcdata name="GRoleNameHis" attr="vector">
		<variable name="name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="endtime" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBQueryRoleNameArg">
		<variable name="name" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBQueryRoleNameRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="list" type="std::vector&lt;NameHistory&gt;" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBQueryRoleName" type="191" maxsize="1024" prior="1" timeout="30"/>
	<rpcdata name="DBRoleNameListArg">
		<variable name="page" type="int" attr="ref" default="0"/>
	</rpcdata>
	<rpcdata name="ID2Name" attr="vector">
		<variable name="id" type="int" default="0"/>
		<variable name="name" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBRoleNameListRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="items" type="ID2NameVector" attr="ref" default="ID2NameVector()"/>
		<variable name="page" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBRoleNameList" type="169" maxsize="13107200" prior="1" timeout="30"/>
	<protocol debug="0" name="PlayerHeartBeat" maxsize="32" prior="1" type="93">
		<variable name="roleid" type="int"/>
		<variable name="link_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FriendNameChange" maxsize="128" prior="1" type="190">
		<variable name="roleid" type="int"/>
		<variable name="oldname" type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="newname" type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="GChangeFactionName" type="192" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="fid" type="int"/>
		<variable name="newname" type="Octets" attr="ref"/>
		<variable name="scale" type="char" default="0"/> <!--0:帮派 1:家族-->
		<variable name="itemid" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GChangeFactionName_Re" type="193" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="fid" type="int"/>
		<variable name="newname" type="Octets" attr="ref"/>
		<variable name="scale" type="char" default="0"/> <!--0:帮派 1:家族-->
	</protocol>
	<protocol debug="0" name="ChangeFactionName_Re" type="194" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="fid" type="int"/>
		<variable name="newname" type="Octets" attr="ref"/>
		<variable name="scale" type="char" default="0"/> <!--0:帮派 1:家族-->
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="ChatSingleCast" maxsize="1024" prior="1" type="94"> <!-- game server to link server--> 
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="srcroleid" type="int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="dstlocalsid" type="unsigned int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	
	<protocol debug="0" name="PlayerStatusSync" maxsize="64" prior="1" type="95"> 
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="status" type="int" default="-1"/>
		<variable name="gs_id" type="int" default="-1"/>
	</protocol>

	<protocol debug="0" name="PrivateChat" maxsize="1024" prior="1" type="96">
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="src_name" type="Octets" attr="ref"/>
		<variable name="srcroleid" type="int"/>
		<variable name="dst_name" type="Octets" attr="ref"/>
		<variable name="dstroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="srcrolelevel" type="int" default="0"/><!--如果channel是NORMAL gs会填充发送者的等级以便接收方屏蔽-->
		<variable name="srcfactionid" type="unsigned int" default="0"/>
		<variable name="srcsectid" type="int" default="0"/>
		<variable name="route" type="unsigned char" default="0"/>
		<variable name="referrer" type="int" default="0"/>
	</protocol><!--iweb协议-->
	
	<protocol debug="0" name="PlayerBaseInfoCRC" maxsize="512" prior="1" type="98">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfoCRC_Re" maxsize="512" prior="1" type="99">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
		<variable name="CRClist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="SetUIConfig" maxsize="4096" prior="1" type="102">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="ui_config" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetUIConfig_Re" maxsize="64" prior="1" type="103">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetUIConfig" maxsize="64" prior="1" type="104">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetUIConfig_Re" maxsize="4096" prior="1" type="105">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="ui_config" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="DisconnectPlayer" maxsize="64" prior="1" type="106">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="gameid" type="int" default="0"/>
	</protocol>
	
	<rpcdata name="PlayerBriefInfo" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="occupation"	type="unsigned char" default="0"/>
		<variable name="name"	type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="gender" type="char" default="0"/>
	</rpcdata>
	<protocol debug="0" name="GetPlayerBriefInfo" maxsize="2048" prior="1" type="107">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
		<variable name="reason" type="unsigned char"/>
	</protocol>
	<protocol debug="0" name="GetPlayerBriefInfo_Re" maxsize="16384" prior="1" type="108">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="PlayerBriefInfoVector"/>
		<variable name="reason" type="unsigned char"/>
	</protocol>
	
	<rpcdata name="OnlinePlayerStatus" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="gid" type="int" default="-1"/>		<!-- gameserver id the role belongs to -->
		<variable name="link_id" type="int" default="-1"/>	<!-- linkserver id the role belongs to -->
		<variable name="link_sid" type="unsigned int" default="0"/> <!-- gameserver id the role belongs to -->
	</rpcdata>
	<protocol debug="0" name="PlayerStatusAnnounce" maxsize="819200" prior="1" type="109">
		<variable name="status" type="char"/>	<!--status of the role, ongame, offline... -->
		<variable name="playerstatus_list" type="OnlinePlayerStatusVector"/>
	</protocol>
	<protocol debug="0" name="QueryPlayerStatus" maxsize="1024" prior="1" type="110">
		<variable name="rolelist" type="IntVector"/>
	</protocol>
	
	<protocol debug="0" name="GetTaskData" maxsize="8192" prior="1" type="111">
		<variable name="taskid" type="int"/>
		<variable name="playerid" type="int"/>
        <variable name="env" type="Octets"/>
	</protocol>
	<protocol debug="0" name="GetTaskData_Re" maxsize="8192" prior="1" type="112">
		<variable name="taskid" type="int"/>
		<variable name="playerid" type="int"/>
        <variable name="env" type="Octets"/>
        <variable name="retcode" type="int"/>
		<variable name="taskdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetTaskData" maxsize="288" prior="1" type="113">
		<variable name="taskid" type="int"/>
		<variable name="taskdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetTaskData_Re" maxsize="32" prior="1" type="114">
		<variable name="retcode" type="int"/>
	</protocol>

	<rpcdata name="GTaskData">
        <variable name="taskid" type="int" default="-1"/>
        <variable name="settime" type="unsigned int" default="0"/>
		<variable name="taskdata" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	
	<rpc debug="0" name="GetTaskDataRpc" maxsize="512" type="115" argument="GTaskData" result="GTaskData" prior="1" timeout="30"/>
	<rpc debug="0" name="PutTaskDataRpc" maxsize="512" type="134" argument="GTaskData" result="RpcRetcode" prior="1" timeout="30"/>

	<protocol debug="0" name="GetPlayerIDByName" maxsize="64" prior="1" type="118">
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="reason" type="unsigned char" default="0"/>
	</protocol>
	<protocol debug="0" name="GetPlayerIDByName_Re" maxsize="64" prior="1" type="119">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="roleid" type="int"/>
		<variable name="reason" type="unsigned char" default="0"/>
	</protocol>	
	<protocol debug="0" name="ChatBroadCast" maxsize="1024" prior="1" type="120"> <!-- game/delivery server to link server--> 
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="srcroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="AnnounceGM" maxsize="512" prior="1" type="121">
		<variable name="roleid" type="int"/>
		<variable name="auth" type="ByteVector" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GMPrivilegeChange" maxsize="32" prior="1" type="122">
		<variable name="userid" type="int"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="AnnounceForbidInfo" type="123" maxsize="384" prior="1">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="forbid" type="GRoleForbid" />
		<variable name="disconnect" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="ForwardChat" maxsize="512" prior="1" type="8000">
		<variable name="zoneid" type="int"/>
		<variable name="lineid" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="msg" type="Octets" attr="ref"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="AuthdVersion" maxsize="256" prior="1" type="8010">
		<variable name="version" type="int" />
                <variable name="retcode" type="int"/>
		<variable name="reserved2" type="int" />
	</protocol>
	<protocol debug="0" name="DisableAutolock" maxsize="512" prior="1" type="8011">
		<variable name="userid" type="int"/>
	</protocol><!--iweb协议 修改需放到同步目录-->
	<rpcdata name="DiscountGrade" attr="vector">
		<variable name="amount_begin" type="int"/>
		<variable name="discount" type="int"/>
		<variable name="reserved1" type="int"/>
		<variable name="reserved2" type="Octets"/>
	</rpcdata>
	<rpcdata name="MerchantDiscount" attr="vector">
		<variable name="id" type="int"/> <!--商家id-->
		<variable name="name" type="Octets"/> <!--商家名-->
		<variable name="reserved" type="int"/>
		<variable name="discount" type="DiscountGradeVector"/>
	</rpcdata>
	<protocol debug="0" name="DiscountAnnounce" maxsize="512" prior="1" type="8064">
		<variable name="discount" type="MerchantDiscountVector"/>
		<variable name="reserved1" type="int" default="0"/> <!--已经被诛仙用来作为 localsid 使用; glinkd收到它时 判断为0则广播-->
		<variable name="reserved2" type="Octets" default="Octets(0)"/>
	</protocol>

	<rpcdata name="GMQueryRoleInfoRes">
		<variable name="status" type="int"/>
	</rpcdata>
	<rpc debug="0" name="GMQueryRoleInfo" maxsize="256" argument="RoleId" result="GMQueryRoleInfoRes" type="124" prior="1" timeout="10"/><!--iweb协议-->
	
	<protocol debug="0" name="SendChangeProfile" maxsize="64" prior="1" type="116">
		<variable name="roleid" type="int" />
		<variable name="faceid" type="unsigned char" />
		<variable name="hairid" type="unsigned char" />
		<variable name="earid"	type="unsigned char" />
		<variable name="tailid"	type="unsigned char" />
		<variable name="fashionid" type="unsigned char" />
	</protocol>
	<protocol debug="0" name="SendChangeProfile_Re" maxsize="64" prior="1" type="117">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" />
		<variable name="faceid" type="unsigned char" />
		<variable name="hairid" type="unsigned char" />
		<variable name="earid"	type="unsigned char" />
		<variable name="tailid"	type="unsigned char" />
		<variable name="fashionid" type="unsigned char" />
	</protocol>
	<rpcdata name="DBChangeProfileArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="faceid" type="unsigned char" default="0" />
		<variable name="hairid" type="unsigned char" default="0" />
		<variable name="earid"	type="unsigned char" default="0" />
		<variable name="tailid"	type="unsigned char" default="0" />
		<variable name="fashionid" type="unsigned char" default="0" />
	</rpcdata>
	<rpc debug="0" name="DBChangeProfile" maxsize="256" result="RpcRetcode" type="125" prior="1"/>

	<rpcdata name="DBClearConsumableArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="logintime" type="int" default="0"/>
		<variable name="dryrun" type="char" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBClearConsumable" maxsize="64" result="RpcRetcode" type="7000" prior="1"/>

	<rpcdata name="QueryUseridArg">
		<variable name="rolename" type="Octets" attr="ref"/>
	</rpcdata>
	<rpcdata name="QueryUseridRes">
		<variable name="result" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="QueryUserid" maxsize="256" type="8001" prior="1" timeout="10"/><!--iweb协议-->
	<protocol debug="0" name="SetHelpStates" maxsize="4096" prior="1" type="128">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="help_states" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetHelpStates_Re" maxsize="64" prior="1" type="129">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetHelpStates" maxsize="64" prior="1" type="130">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetHelpStates_Re" maxsize="8192" prior="1" type="131">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="help_states" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="AnnounceServerAttribute" maxsize="16" prior="1" type="132"><!--iweb协议-->
		<variable name="attr" type="int64_t"/> <!-- server attributes -->
	</protocol>
	<protocol debug="0" name="TryChangeGS" maxsize="64" prior="1" type="143">
		<variable name="roleid" type="int"/>
		<variable name="dst_lineid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="TryChangeGS_Re" maxsize="64" prior="1" type="144">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="dst_lineid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="reason" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="DoChangeGS" maxsize="64" prior="1" type="145">
		<variable name="roleid" type="int"/>
		<variable name="dst_lineid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="DoChangeGS_Re" maxsize="128" prior="1" type="146">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="dst_lineid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="mapid" type="int" default="0"/>
		<variable name="reason" type="int" default="0"/>
		<variable name="scalex" type="float" default="0"/>
		<variable name="scaley" type="float" default="0"/>
		<variable name="scalez" type="float" default="0"/>
	</protocol>

	<protocol debug="0" name="PlayerChangeGS" maxsize="128" prior="1" type="140">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="gslineid" type="int" default="0"/>
		<variable name="mapid" type="int" default="0"/>
		<variable name="reason" type="int" default="0"/>
		<variable name="scalex" type="float" default="0"/>
		<variable name="scaley" type="float" default="0"/>
		<variable name="scalez" type="float" default="0"/>
	</protocol>
	<protocol debug="0" name="PlayerChangeGS_Re" maxsize="128" prior="1" type="141">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="gslineid" type="int" default="0"/>
		<variable name="mapid" type="int" default="0"/>
		<variable name="reason" type="int" default="0"/>
		<variable name="scalex" type="float" default="0"/>
		<variable name="scaley" type="float" default="0"/>
		<variable name="scalez" type="float" default="0"/>
	</protocol>
	<protocol debug="0" name="SetChatEmotion" maxsize="32"  prior="1" type="142">
		<variable name="roleid" type="int"/>
		<variable name="emotion" type="unsigned char"/>
	</protocol>

	<!-- Contest relative protocol-->
	<rpcdata name="ContestPlace" attr="vector">
		<variable name="rolename" type="Octets" default="Octets()"/>
		<variable name="score" type="int" default="0"/>
	</rpcdata>

	<protocol debug="0" name="ContestInviteBroadcast" maxsize="16" prior="1" type="150">
		<variable name="remain_time" type="int"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="ContestInvite" maxsize="16" prior="1" type="151">
		<variable name="invite" type="int"/>
		<variable name="remain_time" type="int"/>
		<variable name="localsid" type="unsigned int" /> 
	</protocol>
	<protocol debug="0" name="ContestInvite_Re" maxsize="16" prior="1" type="152">
		<variable name="roleid" type="int"/>
		<variable name="accept_invite" type="char"/>
	</protocol>
	<protocol debug="0" name="ContestBegin" maxsize="32" prior="1" type="153">
		<variable name="roleid" type="int"/>
		<variable name="star_amount" type="char"/>
		<variable name="right_amount" type="char" /> 
		<variable name="score" type="int"/>
		<variable name="localsid" type="unsigned int" /> 
	</protocol>
	<protocol debug="0" name="ContestQuestion" maxsize="1024" prior="1" type="154">
		<variable name="questionid" type="char" /> 
		<variable name="question" type="Octets" attr="ref"/>
		<variable name="answerlist" type="std::vector&lt;Octets&gt;" attr="ref" />
		<variable name="localsid" type="unsigned int" /> 
	</protocol>
	<protocol debug="0" name="ContestAnswer" maxsize="32" prior="1" type="155">
		<variable name="roleid" type="int"/>
		<variable name="questionid" type="char"/> 
		<variable name="answer" type="char"/> 
		<variable name="usestar" type="char"/> 
	</protocol>
	<protocol debug="0" name="ContestAnswer_Re" maxsize="32" prior="1" type="156">
		<variable name="roleid" type="int" />
		<variable name="questionid" type="char" /> 
		<variable name="result" type="char"/> 
		<variable name="score" type="int" /> 
		<variable name="sum" type="int" /> 
		<variable name="star_amount" type="char" /> 
		<variable name="right_amount" type="char" /> 
		<variable name="series_right" type="char" /> 
		<variable name="answer" type="unsigned char"/> 
		<variable name="localsid" type="unsigned int" /> 
	</protocol>
	<protocol debug="0" name="ContestExit" maxsize="16" prior="1" type="157">
		<variable name="roleid" type="int" />
	</protocol>
	<protocol debug="0" name="ContestPlaceNotify" maxsize="1024" prior="1" type="158">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/> 
		<variable name="placelist" type="ContestPlaceVector"/> 
	</protocol>
	<protocol debug="0" name="ContestEnd" maxsize="16" prior="1" type="159">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/> 
	</protocol>
	<protocol debug="0" name="ContestResult" maxsize="32" prior="1" type="160">
		<variable name="roleid" type="int"/>
		<variable name="score" type="int"/>
		<variable name="place" type="int"/>
		<variable name="right_amount" type="int"/>
	</protocol>

	<!-- fun game relative protocol-->
	<protocol debug="0" name="FunGamedataSend" maxsize="32768" prior="1" type="170">
		<variable name="data" type="Octets" attr="ref" coordinate="false"/>
	</protocol>
	<protocol debug="0" name="S2CFunGamedataSend" maxsize="32768" prior="100" type="171">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="C2SFunGamedataSend" maxsize="128" prior="100" type="172">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>

	<rpcdata name="GFunGameInfo">
		<variable name="money" type="int64_t" default="0" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFunGameScore">
		<variable name="score" type="int64_t" default="0" />
		<variable name="win_count" type="int" default="0"/>
		<variable name="lose_count" type="int" default="0"/>
		<variable name="draw_count" type="int" default="0"/>
		<variable name="escape_count" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFunGameGetInfoArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFunGameGetInfoRes">
		<variable name="retcode" type="int" />
		<variable name="fungame_info" type="GFunGameInfo" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBFunGameGetInfo" maxsize="1024" prior="1" type="182" timeout="30"/>

	<rpcdata name="DBFunGameGetScoreArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="gametype" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFunGameGetScoreRes">
		<variable name="retcode" type="int" />
		<variable name="game_score" type="Octets" default="Octets()" attr="ref"/><!--不同游戏的octets可能对应不同结构--><!--可能大部分是GFunGameScore-->
	</rpcdata>
	<rpc debug="0" name="DBFunGameGetScore" maxsize="128" prior="1" type="185" timeout="30"/>

	<rpcdata name="DBFunGamePutInfoArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="fungame_info" type="GFunGameInfo" default="GFunGameInfo()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBFunGamePutInfo" maxsize="1024" prior="1" type="183" result="RpcRetcode" timeout="30"/>

	<rpcdata name="DBFunGamePutScoreArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="gametype" type="int" default="0"/>
		<variable name="fungame_score" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBFunGamePutScore" maxsize="128" prior="1" type="184" result="RpcRetcode" timeout="30"/>

	<rpcdata name="OperationCmdArg">
		<variable name="operationtype" type="int" default="0"/><!--1: 屏蔽服务-->
		<variable name="code" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<rpcdata name="OperationCmdRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="errmsg" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="OperationCmd" maxsize="1024" prior="1" type="187" timeout="30"/><!--iweb 发给gdeliveryd 修改服务器属性-->
	<rpcdata name="ServiceForbidCmd">
		<variable name="cmdtype" type="int" default="0"/>
		<variable name="arglist" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="dst" type="int" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="ForbidService" maxsize="1024" prior="0" type="188">
		<variable name="cmdlist" type="std::vector&lt;ServiceForbidCmd&gt;" default="std::vector&lt;ServiceForbidCmd&gt;()" attr="ref"/>	
	</protocol>

	<rpcdata name="GServiceForbidCmdList">
		<variable name="version" type="int" default="0"/>
		<variable name="cmdlist" type="std::vector&lt;ServiceForbidCmd&gt;" default="std::vector&lt;ServiceForbidCmd&gt;()" attr="ref"/>	
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBGetServiceForbidCmdArg">
		<variable name="version" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBGetServiceForbidCmdRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="cmdlist" type="std::vector&lt;ServiceForbidCmd&gt;" default="std::vector&lt;ServiceForbidCmd&gt;()" attr="ref"/>	
	</rpcdata>
	<rpc debug="0" name="DBGetServiceForbidCmd" maxsize="1024" prior="1" type="189" timeout="30"/>
	<rpcdata name="DebugOperationCmdArg">
		<variable name="clear" type="int" default="0"/>
		<variable name="cmdlist" type="std::vector&lt;ServiceForbidCmd&gt;" default="std::vector&lt;ServiceForbidCmd&gt;()" attr="ref"/>	
	</rpcdata>
	<rpcdata name="DebugOperationCmdRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DebugOperationCmd" maxsize="1024" prior="1" type="197" timeout="30"/>

	<protocol debug="0" name="ACClientTimeout" maxsize="64" prior="1" type="198">
		<variable name="roleid" type="int"/>
	</protocol>

	<!-- ****************************************************************************-->
	<!-- 				hometown related protocol 173-199							 -->
	<!-- ****************************************************************************-->
	<protocol debug="0" name="HometowndataSend" maxsize="163840" prior="1" type="173">
		<variable name="data" type="Octets" attr="ref" coordinate="false"/>
	</protocol>
	<protocol debug="0" name="C2SHometowndataSend" maxsize="1024" prior="100" type="174">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="S2CHometowndataSend" maxsize="163840" prior="100" type="175">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<rpcdata name="GHometownPlayer">
		<variable name="money" type="int64_t" default="0" />
		<variable name="last_exchgmoney_time" type="int" default="0" />
		<variable name="compo_list" type="std::set&lt;int&gt;" default="std::set&lt;int&gt;()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GHometownInfo">
		<variable name="player" type="GHometownPlayer" default="GHometownPlayer()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFarmPlayer">
		<variable name="charm" type="int64_t" default="0"/>
		<variable name="money"  type="int64_t" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="states" type="Octets" default="Octets()"  attr="ref"/>
		<variable name="items"	type="Octets" default="Octets()" attr="ref"/>
		<variable name="cooldown"	type="Octets" default="Octets()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFarmCrop">
		<variable name="id" type="int" default="0" />
		<variable name="seed_time" type="int" default="0"/>
		<variable name="grow_time" type="int" default="0"/>
		<variable name="grow_period" type="int" default="0"/>
		<variable name="grow_stop_end" type="int" default="0"/>
		<variable name="state_grow_time" type="int" default="0"/>
		<variable name="protect_period" type="Octets" default="Octets()"/>
		<variable name="fruit_left" type="int" default="0"/>
		<variable name="fruit_total" type="int" default="0"/>
		<variable name="states" type="Octets" default="Octets()" attr="ref"/>
		<variable name="cooldown"	type="Octets" default="Octets()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFarmField">
		<variable name="id" type="int" default="0"/>
		<variable name="type" type="char" default="0"/>
		<variable name="friend_id" type="int" default="0"/>
		<variable name="friend_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="states" type="Octets" default="Octets()" attr="ref"/>
		<variable name="has_crop" type="bool" default="false"/>
		<variable name="crop" type="GFarmCrop" default="GFarmCrop()" attr="ref"/>
		<variable name="cooldown"	type="Octets" default="Octets()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFarm">
		<variable name="protect_period" type="Octets" default="Octets()"/>
		<variable name="states" type="Octets" default="Octets()" attr="ref" />
		<variable name="fields" type="std::vector&lt;GFarmField&gt;" default="std::vector&lt;GFarmField&gt;()" attr="ref"/>	
		<variable name="cooldown"	type="Octets" default="Octets()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFarmCompoInfo">
		<variable name="owner" type="GFarmPlayer" default="GFarmPlayer()" attr="ref"/>
		<variable name="farm" type="GFarm" default="GFarm()" attr="ref"/>
		<variable name="farm_dynamic" type="Octets" default="Octets()" attr="ref"/>
		<variable name="action_dynamic" type="Octets" default="Octets()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>

	<rpcdata name="DBHometownGetInfoArg">
		<variable name="sponsor" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBHometownGetInfoRes">
		<variable name="retcode" type="int" />
		<variable name="hometown_info" type="GHometownInfo" attr="ref"/>
		<variable name="friend_list" type="std::set&lt;int&gt;" attr="ref"/>
		<variable name="compo_info" type="std::map&lt;int, Octets&gt;" attr="ref"/><!--不同组件的octets对应不同结构，比如农场组件对应GFarmCompoInfo-->
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="DBHometownGetInfo" maxsize="2949120" prior="1" type="176" timeout="30"/>

	<rpcdata name="DBHometownPutInfoArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="info" type="GHometownInfo" default="GHometownInfo()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBHometownPutInfo" maxsize="163840" prior="1" type="177" result="RpcRetcode" timeout="30"/>

	<rpcdata name="DBHometownPutCompoInfoArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="compo_id" type="int" default="0"/>
		<variable name="info" type="Octets" default="Octets()" attr="ref"/><!--不同组件对应不同结构，比如农场组件对应GFarmCompoInfo-->
	</rpcdata>
	<rpc debug="0" name="DBHometownPutCompoInfo" maxsize="163840" prior="1" type="178" result="RpcRetcode" timeout="30"/>

	<protocol debug="0" name="SendHometownExchgMoney" maxsize="2097152" prior="1" type="179">
		<variable name="roleid" type="int" />
		<variable name="amount" type="int" default="0" />
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>

	<protocol debug="0" name="HometownExchgMoney_Re" maxsize="64" prior="1" type="180">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" default="0" />
		<variable name="hometown_money" type="int64_t" default="0"/><!--兑换后玩家的家园通用币数-->
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<rpcdata name="DBHometownExchgMoneyArg">
		<variable name="roleid" type="int" default="0" />
		<variable name="amount" type="int" default="0" />
		<variable name="hometown_money" type="int64_t" default="0"/><!--现有的家园通用币数-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBHometownExchgMoneyRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBHometownExchgMoney" maxsize="2097152" prior="1" type="181" timeout="30"/>

	<!-- **************************************************************************** -->
	<!-- 		 	Protocols and Rpcs about GameMaster tools	350-500			  	 -->
	<!-- **************************************************************************** -->
	<protocol debug="0" name="GMOnlineNum" maxsize="64" prior="1" type="350">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GMOnlineNum_Re" maxsize="64" prior="1" type="351">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="total_num" type="int"/>
		<variable name="local_num" type="int"/>
	</protocol>
	<protocol debug="0" name="GMListOnlineUser" maxsize="64" prior="1" type="352">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="handler" type="int"/>
		<variable name="cond"	type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<rpcdata name="GMPlayerInfo" attr="vector">
		<variable name="userid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="linkid" type="int" default="-1"/>
	    <variable name="localsid" type="unsigned int" default="0"/>	
		<variable name="gsid" type="int" default="-1"/>
		<variable name="status" type="char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<protocol debug="0" name="GMListOnlineUser_Re" maxsize="102400" prior="1" type="353">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="handler" type="int"/>
		<variable name="userlist" type="GMPlayerInfoVector"/>
	</protocol>
	<!-- GMKickoutUser will forbid account -->
	<protocol debug="0" name="GMKickoutUser" maxsize="256" prior="1" type="354">
		<variable name="gmroleid" type="int"/> <!-- roleid of game master -->
		<variable name="localsid" type="int"/>
		<variable name="kickuserid" type="int"/>
		<variable name="forbid_time" type="int" default="600"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="GMKickoutUser_Re" maxsize="64" prior="1" type="355">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/> <!-- roleid of game master -->
		<variable name="localsid" type="int"/>
		<variable name="kickuserid" type="int"/>
	</protocol>
	<!-- GMShutup will forbid account -->
	<protocol debug="0" name="GMShutup" maxsize="256" prior="1" type="356">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dstuserid" type="int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="GMShutup_Re" maxsize="64" prior="1" type="357">
		<variable name="retcode" type="int"/>
		<variable name="dstuserid" type="int"/>
		<variable name="forbid_time" type="int"/>
	</protocol>
	<protocol debug="0" name="GMRestartServer" maxsize="64" prior="1" type="358">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="gsid" type="int"/>
		<variable name="restart_time" type="int"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="GMRestartServer_Re" maxsize="64" prior="1" type="359">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="gsid" type="int"/>
	</protocol><!--iweb协议-->
	<!-- GMKickoutRole only forbid Role -->
	<protocol debug="0" name="GMKickoutRole" maxsize="256" prior="1" type="360">
		<variable name="gmroleid" type="int"/> <!-- roleid of game master -->
		<variable name="localsid" type="int"/>
		<variable name="kickroleid" type="int"/>
		<variable name="forbid_time" type="int" default="600"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="GMKickoutRole_Re" maxsize="64" prior="1" type="361">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/> <!-- roleid of game master -->
		<variable name="localsid" type="int"/>
		<variable name="kickroleid" type="int"/>
	</protocol><!--iweb协议-->
	<!-- GMShutupRole only forbid Role -->
	<protocol debug="0" name="GMShutupRole" maxsize="256" prior="1" type="362">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="GMShutupRole_Re" maxsize="64" prior="1" type="363">
		<variable name="retcode" type="int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="forbid_time" type="int"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="GMToggleChat" maxsize="64" prior="1" type="364">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="enable" type="char"/>
	</protocol>	
	<protocol debug="0" name="GMToggleChat_Re" maxsize="64" prior="1" type="365">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="enable" type="char"/>
	</protocol>
	<protocol debug="0" name="GMForbidRole" maxsize="256" prior="1" type="366">
		<variable name="fbd_type" type="unsigned char"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="GMForbidRole_Re" maxsize="64" prior="1" type="367">
		<variable name="retcode" type="int"/>
		<variable name="fbd_type" type="unsigned char"/>
		<variable name="dstroleid" type="int"/>
		<variable name="forbid_time" type="int"/>
	</protocol><!--iweb协议-->

	<protocol debug="0" name="Report2GM" maxsize="256" prior="1" type="368">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="zoneid" type="int"/>
		<variable name="mapzone" type="Octets" attr="ref"/>
		<variable name="posx" type="float"/>
		<variable name="posy" type="float"/>
		<variable name="posz" type="float"/>
		<variable name="content" type="Octets" attr="ref"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="Report2GM_Re" maxsize="64" prior="1" type="369">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	
	<protocol debug="0" name="Complain2GM" maxsize="256" prior="1" type="370">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="comp_rolename" type="Octets" attr="ref"/>
		<variable name="zoneid" type="int"/>
		<variable name="mapzone" type="Octets" attr="ref"/>
		<variable name="posx" type="float"/>
		<variable name="posy" type="float"/>
		<variable name="posz" type="float"/>
		<variable name="content" type="Octets" attr="ref"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="Complain2GM_Re" maxsize="64" prior="1" type="371">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="AnnounceLinkType" maxsize="32" prior="1" type="372">
		<variable name="link_type" type="unsigned char"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="SetMaxOnlineNum" maxsize="64" prior="1" type="373">
		<variable name="maxnum" type="int"/>
		<variable name="fake_maxnum" type="int"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="SetMaxOnlineNum_Re" maxsize="64" prior="1" type="374">
		<variable name="retcode" type="int"/>
	</protocol><!--iweb协议-->
	<rpcdata name="GetMaxOnlineNumArg">
		<variable name="padding" type="int"/>
	</rpcdata>
	<rpcdata name="GetMaxOnlineNumRes">
		<variable name="retcode" type="int"/>
		<variable name="maxnum"  type="int"/>
		<variable name="fake_maxnum"  type="int"/>
		<variable name="curnum"  type="int"/>
	</rpcdata>
	<rpc debug="0" name="GetMaxOnlineNum" maxsize="64" prior="1" type="375" argument="GetMaxOnlineNumArg" result="GetMaxOnlineNumRes" timeout="30"/><!--iweb协议-->

	<rpcdata name="GMGetGameAttriArg">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="attribute" type="unsigned char"/>
	</rpcdata>
	<rpcdata name="GMGetGameAttriRes">
		<variable name="value" type="Octets"/>
	</rpcdata>
	<rpc name="GMGetGameAttri" argument="GMGetGameAttriArg" result="GMGetGameAttriRes" maxsize="1024" type="376" prior="1" timeout="30"/><!--iweb协议-->
	<rpcdata name="GMSetGameAttriArg">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="attribute" type="unsigned char"/>
		<variable name="value" type="Octets"/>
	</rpcdata>
	<rpcdata name="GMSetGameAttriRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc name="GMSetGameAttri" argument="GMSetGameAttriArg" result="GMSetGameAttriRes" maxsize="1024" type="377" prior="1" timeout="30"/><!--iweb协议-->
	<protocol debug="0" name="GMForbidSellPoint" maxsize="64" prior="1" type="378">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="blOn" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="GMForbidSellPoint_Re" maxsize="64" prior="1" type="379">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GMShutdownLine" maxsize="64" prior="1" type="380">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="gs_id" type="int"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="GMShutdownLine_Re" maxsize="64" prior="1" type="381">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="gs_id" type="int"/>
	</protocol><!--iweb协议-->

	<protocol debug="0" name="GShopSetDiscountScheme" maxsize="16" prior="1" type="390">
		<variable name="scheme" type="unsigned int" />
	</protocol>

	<protocol debug="0" name="GShopSetSaleScheme" maxsize="16" prior="1" type="391">
		<variable name="scheme" type="unsigned int" />
	</protocol><!--iweb协议-->

	<rpcdata name="GShopScheme">
		<variable name="discount" type="unsigned int" default="0"/>
		<variable name="sale"	type="unsigned int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GShopGetScheme" type="392" argument="Integer" result="GShopScheme" maxsize="16" prior="1" timeout="30"/>

	<protocol debug="0" name="GShopNotifyScheme" maxsize="32" prior="1" type="393">
		<variable name="discount" type="unsigned int" default="0"/>
		<variable name="sale"	type="unsigned int" default="0"/>
	</protocol>
	<!--  ****************************************************************************  -->
	<!--             Protocols and Rpcs used  in authd typeid is 501 - 600        	    -->
	<!--  ****************************************************************************  -->
	<rpcdata name="GQueryPasswdArg">
		<variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="challenge" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="loginip" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GQueryPasswdRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="response" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="GQueryPasswd" type="502" argument="GQueryPasswdArg" result="GQueryPasswdRes" maxsize="128" prior="101" timeout="40"/><!--iweb协议-->
	<rpcdata name="AccntParam" attr="vector">
		<variable name="type" type="unsigned int" default="0"/>
		<variable name="value" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="AccountingRequest" maxsize="128" prior="101" type="503">
		<variable name="stamp" type="unsigned int" />
		<variable name="userid" type="int" />
		<variable name="authenticator" type="Octets" attr="ref" />
		<variable name="attributes" type="AccntParamVector"/>
	</protocol>

	<protocol debug="0" name="AccountingResponse" maxsize="32" prior="101" type="504">
		<variable name="stamp" type="unsigned int" />
		<variable name="userid" type="int" />
		<variable name="authenticator" type="Octets" attr="ref" />
	</protocol>
	<protocol debug="0" name="AnnounceZoneid" maxsize="32" prior="101" type="505">
		<variable name="zoneid" type="char"/>  <!--game zone id -->
		<variable name="aid" type="char" default="-1"/>		<!-- accounting area id-->
		<variable name="blreset" type="char" default="0"/> <!-- whether clear all online records of this zoneid-->
	</protocol>
	<protocol debug="0" name="AnnounceZoneid2" maxsize="32" prior="101" type="523">
		<variable name="zoneid" type="int"/>
		<variable name="aid" type="int" />
		<variable name="blreset" type="char"/>
	</protocol>
    <protocol debug="0" name="AnnounceZoneid3" maxsize="64" prior="2" type="527">
        <variable name="zoneid" type="int"/>
        <variable name="aid" type="int" />
        <variable name="blreset" type="char"/>
        <variable name="ip1" type="int"/>
        <variable name="ip2" type="int"/>
        <variable name="ip3" type="int"/>
        <variable name="version" type="int"/>
        <variable name="reserved2" type="int"/>
    </protocol>
	<protocol debug="0" name="QueryUserPrivilege" type="506" maxsize="32" prior="101">
		<variable name="userid" type="int"/>
		<variable name="zoneid" type="char"/>
	</protocol>
	<protocol debug="0" name="QueryUserPrivilege2" type="524" maxsize="32" prior="2">
		<variable name="userid" type="int"/>
		<variable name="zoneid" type="int"/>
	</protocol>
	<protocol debug="0" name="QueryUserPrivilege_Re" type="507" maxsize="512" prior="101">
		<variable name="userid" type="int"/>
		<variable name="auth" type="ByteVector" attr="ref"/>
	</protocol><!--iweb协议-->
	<protocol debug="0" name="QueryUserForbid" type="508" maxsize="32" prior="101">
		<variable name="userid" type="int"/>
		<variable name="zoneid" type="char"/>
	</protocol>
	<protocol debug="0" name="QueryUserForbid2" type="525" maxsize="32" prior="2">
		<variable name="userid" type="int"/>
		<variable name="zoneid" type="int"/>
	</protocol>
	<protocol debug="0" name="QueryUserForbid_Re" type="509" maxsize="4096" prior="101">
		<variable name="userid" type="int"/>
		<variable name="list_type" type="int"/><!--0:forbid list at login,1:reply of forbid-->
		<variable name="forbid" type="GRoleForbidVector"/>
	</protocol>

	<!-- below protocol is used by gameserver to query information -->
	<protocol debug="0" name="QueryRewardType" type="510" maxsize="64" prior="101">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="QueryRewardType_Re" type="511" maxsize="64" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="reward" type="int"/>
		<variable name="param" type="int"/>
                <variable name="fill_info_mask" type="int" default="0"/><!--补填提示与奖励-->
	</protocol>
	<rpcdata name="GameAttr" attr="vector">
		<variable name="attr" type="unsigned char" default="0"/>
		<variable name="value" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<protocol debug="0" name="QueryGameServerAttr" type="512" maxsize="32" prior="101">
		<variable name="paddings" type="unsigned char" default="0"/>
	</protocol>
	<protocol debug="0" name="QueryGameServerAttr_Re" type="513" maxsize="2048" prior="101">
		<variable name="attr" type="GameAttrVector" attr="ref"/> 
	</protocol>

	<rpcdata name="MatrixPasswdArg">
                <variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="challenge" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="loginip" type="int" default="0"/>
        </rpcdata>
        <rpcdata name="MatrixPasswdRes">
                <variable name="retcode" type="int" default="-1"/>
                <variable name="userid" type="int" default="-1"/>
                <variable name="algorithm" type="int" default="0"/>
                <variable name="response" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="matrix" type="Octets" attr="ref" default="Octets(0)"/>
        </rpcdata>
        <rpc debug="0" name="MatrixPasswd" type="550" argument="MatrixPasswdArg" result="MatrixPasswdRes" maxsize="512" prior="101" 
timeout="30"/>

        <!-- for second generation perfectworld proteced -->
	<rpcdata name="MatrixPasswdArg2">
                <variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="challenge" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="loginip" type="int" default="0"/>
        </rpcdata>
        <rpcdata name="MatrixPasswdRes2">
                <variable name="retcode" type="int" default="-1"/>
                <variable name="userid" type="int" default="-1"/>
                <variable name="algorithm" type="int" default="0"/>
                <variable name="response" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="matrix" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="seed" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="pin" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="rtime" type="int" default="0"/>
                <variable name="currenttime" type="int" default="0"/>
                <variable name="forbid" type="GRoleForbidVector"/>
		<variable name="last_used_elec_number" type="Octets" attr="ref" default="Octets()"/>
        </rpcdata>
        <rpc debug="0" name="MatrixPasswd2" type="8066" argument="MatrixPasswdArg2" result="MatrixPasswdRes2" maxsize="1024" prior="101" timeout="30"/>

        <!-- for North America Core Platform -->
	<rpcdata name="MatrixTokenArg">
                <variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="token" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="loginip" type="int" default="0"/>
		<variable name="challenge" type="Octets" attr="ref" default="Octets(0)"/>
        </rpcdata>
        <rpcdata name="MatrixTokenRes">
                <variable name="retcode" type="int" default="-1"/>
                <variable name="userid" type="int" default="-1"/>
                <variable name="algorithm" type="int" default="0"/>
                <variable name="response" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="matrix" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="MatrixToken" type="8070" argument="MatrixTokenArg" result="MatrixTokenRes" maxsize="512" prior="101" timeout="30"/>
	<rpcdata name="RoleSimple" attr="vector">
		<variable name="roleid" type="int64_t" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="PassportGetRoleListArg">
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="PassportGetRoleListRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="rolelist" type="RoleSimpleVector" attr="ref" default="RoleSimpleVector()"/>
	</rpcdata>
	<rpc debug="0" name="PassportGetRoleList" type="8013" maxsize="1024" prior="1" timeout="20"/>
        <rpcdata name="UserSSOInfo"><!--联合登录用户信息-->
                <variable name="isagent" type="char" default="0"/>
                <variable name="userid" type="int64_t" default="0"/>
                <variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="agentname" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="agentaccount" type="Octets" attr="ref" default="Octets(0)"/>
        </rpcdata>
        <protocol debug="0" name="SSOGetTicketReq" maxsize="2048" prior="101" type="8016">
                <variable name="user" type="UserSSOInfo"/>
                <variable name="loginip" type="int" default="0"/>
                <variable name="toaid" type="int" default="-1"/>
                <variable name="tozoneid" type="int" default="-1"/>
                <variable name="info" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="local_context" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="reserved" type="Octets" attr="ref" default="Octets(0)"/>
        </protocol>
        <protocol debug="0" name="SSOGetTicketRep" maxsize="2048" prior="101" type="8017">
                <variable name="retcode" type="int"/>
                <variable name="user" type="UserSSOInfo"/>
                <variable name="ticket" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="local_context" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="reserved" type="Octets" attr="ref" default="Octets(0)"/>
        </protocol>
        <protocol debug="0" name="MatrixChallenge" maxsize="64" prior="101" type="551">
                <variable name="algorithm" type="int"/>
                <variable name="nonce" type="unsigned int" default="0" />
        </protocol>
        <protocol debug="0" name="MatrixResponse" maxsize="64" prior="101" type="552">
                <variable name="response" type="unsigned int"/>
        </protocol>
        <protocol debug="0" name="MatrixFailure" maxsize="64" prior="101" type="553">
                <variable name="userid" type="int" default="0"/>
                <variable name="loginip" type="int" default="0"/>
                <variable name="weight" type="int" default="0"/>
        </protocol>
	<protocol debug="0" name="AddictionControl" maxsize="512" prior="101" type="556">
		<variable name="zoneid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="rate" type="int" default="0"/>
		<variable name="msg" type="int" default="0"/>
		<variable name="data" type="std::vector&lt;GPair&gt;" attr="ref" default="std::vector&lt;GPair&gt;()"/>
	</protocol>

	<!-- below protocol is used by cash transfer -->
	<rpcdata name="GetAddCashSNArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="GetAddCashSNRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GetAddCashSN" type="514" argument="GetAddCashSNArg" result="GetAddCashSNRes" maxsize="128" prior="0" timeout="60"/>
	<rpcdata name="CashSerialArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="force" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="CashSerialRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="CashSerial" type="8009" maxsize="128" prior="0" timeout="60"/>
	<protocol debug="0" name="AddCash" type="515" maxsize="256" prior="0">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
		<variable name="cash" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="AddCash_Re" type="516" maxsize="256" prior="0">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="UseCash" type="517" maxsize="128" prior="0">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="aid" type="int" default="-1"/>
		<variable name="point" type="int" default="-1"/>
		<variable name="cash" type="int" default="-1"/>
	</protocol>
	<protocol debug="0" name="UseCash_Re" type="518" maxsize="128" prior="0">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
	</protocol>
	<protocol debug="0" name="VerifyMaster" type="519" maxsize="128" prior="0">
                <variable name="zoneid" type="int" default="-1"/>
                <variable name="roleid" type="int" default="-1"/>
                <variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="faction" type="Octets" attr="ref" default="Octets(0)"/>
        </protocol>
        <protocol debug="0" name="VerifyMaster_Re" type="520" maxsize="128" prior="0">
                <variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="ret" type="int" default="-1"/>
        </protocol>


	<!-- below protocol is used by cert verification -->
	<protocol debug="0" name="CertRequest" type="545" maxsize="8192" prior="102">
		<variable name="reserved1" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="CertAnswer" type="546" maxsize="8192" prior="102">
		<variable name="authd_cert" type="Octets"/>
		<variable name="reserved1" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="CertKey" type="547" maxsize="8192" prior="102">
		<variable name="d_key1_encrypt" type="Octets"/>
		<variable name="d_key2_encrypt" type="Octets"/>
		<variable name="reserved1" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="CertFinish" type="548" maxsize="8192" prior="102">
		<variable name="reserved1" type="int" default="0"/>
	</protocol>

	<rpcdata name="CertChallengeArg">
		<variable name="challenge" type="Octets" />
		<variable name="reserved" type="Octets"/>
	</rpcdata>
	<rpcdata name="CertChallengeRes">
		<variable name="authd_cert" type="Octets" />
		<variable name="response" type="Octets"/>
	</rpcdata>
	<rpc debug="0" name="CertChallenge" type="549" argument="CertChallengeArg" result="CertChallengeRes" maxsize="8192" prior="102" timeout="40"/>

	<!--  ****************************************************************************  -->
	<!--             Protocols and Rpcs used  in Sell Point is 601 - 699        	    -->
	<!--  ****************************************************************************  -->
	<rpcdata name="SellID">
		<variable name="roleid" type="int" default="0"/>
		<variable name="sellid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="TransID">
		<variable name="zoneid" type="int" default="0"/>
		<variable name="serialno" type="int" default="0"/>
	</rpcdata>
	<protocol name="TransBuyPoint" type="616" maxsize="512" prior="1">
		<variable name="tid" type="TransID"/>
		<variable name="sellid" type="SellID"/>
		<variable name="buyer" type="int"/>
		<variable name="price" type="int"/>
		<variable name="point" type="int"/>
		<variable name="aid" type="int"/>
	</protocol>	
	<protocol name="TransBuyPoint_Re" type="617" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="TransID"/>
		<variable name="sellid" type="SellID"/>
		<variable name="buyer" type="int"/>
		<variable name="price" type="int"/>
		<variable name="point" type="int"/>
		<variable name="aid" type="int"/>
	</protocol>    
	<!--  ****************************************************************************  -->
	<!--             Protocols and Rpcs used  in gameDB typeid is 3001 - 3500      	    -->
	<!--  ****************************************************************************  -->
	<rpcdata name="UserID">
		<variable name="id" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="UserArg">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="loginip" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="User">
		<variable name="logicuid" type="unsigned int" default="0"/>	
		<variable name="rolelist" type="unsigned int" default="0"/>
		<variable name="cash" type="int" default="0"/>	
		<variable name="money" type="int" default="0"/>	
		<variable name="cash_add" type="unsigned int" default="0"/>	
		<variable name="cash_buy" type="unsigned int" default="0"/>	
		<variable name="cash_sell" type="unsigned int" default="0"/>	
		<variable name="cash_used" type="unsigned int" default="0"/>	
		<variable name="add_serial" type="int" default="0"/>
		<variable name="use_serial" type="int" default="0"/>
		<variable name="exg_log" type="std::vector&lt;StockLog&gt;" default="std::vector&lt;StockLog&gt;()"/>
		<variable name="cash_password" type="Octets" attr="ref"/>
		<variable name="autolock" type="std::vector&lt;GPair&gt;" default="std::vector&lt;GPair&gt;()"/>
		<variable name="status" type="char" default="0"/>
		<variable name="forbid" type="GRoleForbidVector"/>
		<variable name="referrer" type="int" default="0"/>
		<variable name="flag" type="char" default="0"/><!--0x01 crushed-->
		<variable name="lastlogin_ip" type="int" default="0"/>
		<!--没字段扩充了 一些无关紧要字段可以放到 data_group 里面-->
		<!--key:USER_DATA_CASHADD2, value:xxx 13年5月资料片之后的充值累积额-->
		<variable name="data_group" type="std::map&lt;int,int&gt;"/>
		<variable name="unprocessed_orders" type="std::vector&lt;int64_t&gt;" attr="ref"/><!--账号未领取的web商城订单列表-->
		<variable name="reserved3" type="short" default="0"/>
	</rpcdata>
	<rpcdata name="UserRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="User"/>
	</rpcdata>	
	<rpcdata name="UserPair">
		<variable name="key" type="UserID"/>
		<variable name="value" type="User"/>
	</rpcdata>
	<rpc debug="0" name="PutUser" type="3001" argument="UserPair" result="RpcRetcode" table="user" attr="put" key="key" value="value" maxsize="4096" prior="1" timeout="20"/><!--iweb协议-->
	<rpc debug="0" name="GetUser" type="3002" argument="UserArg" result="UserRes" table="user" attr="get" retcode="retcode" value="value" maxsize="4096" prior="1" timeout="30"/><!--iweb协议-->
	<rpc debug="0" name="DelUser" type="3003" argument="UserID" result="RpcRetcode" table="user" attr="del" maxsize="64" prior="1" timeout="20"/>

	<rpcdata name="GRoleForbid" attr="vector">
		<variable name="type" type="unsigned char" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GRoleBase">
		<variable name="version" type="unsigned char" default="1" fixvalue="true"/>
		<variable name="id" type="unsigned int"  default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="faceid" type="unsigned char"  default="0"/>
		<variable name="hairid" type="unsigned char"  default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
		<variable name="status" type="unsigned char" default="0"/><!--whether the role is ready to delete -->
		<variable name="delete_time" type="int" default="0"/> <!--delete time-->
		<variable name="create_time" type="int" default="0"/>
		<variable name="lastlogin_time" type="int" default="0"/>
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="title" type="unsigned char" default="0"/>
		<variable name="config_data" type = "Octets" default="Octets(0)"/>
		<variable name="help_states" type="Octets" default="Octets(0)"/>
		<variable name="forbid" type="GRoleForbidVector"/>
		<variable name="spouse" type="unsigned int" default="0"/>
		<variable name="jointime" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="sectid" type="int" default="0"/>
		<variable name="initiallevel" type="short" default="0"/>
		<variable name="earid" type="unsigned char" default="0"/>
		<variable name="tailid" type="unsigned char" default="0"/>
		<variable name="circletrack" type = "Octets" default="Octets(0)" attr="ref"/>
		<variable name="fashionid" type="unsigned char"  default="0"/>
		<!--deliveryd 用到的字段就放这里扩充吧, datagroup中的字段暂时都是从跨服回来不覆盖原服的值，如有修改，在saveplayerdata中自行修改-->
		<variable name="datagroup" type="std::map&lt;int, int&gt;" attr="ref"/><!--Map作用：存名值对，比如存冷却时间，第一个参数是冷却类型，第二个参数是冷却时间-->
		<variable name="reserved3" type="char" default="0"/>
	</rpcdata>

	<rpcdata name="GRoleBase2">
		<variable name="id" type="int" default="0" />
		<variable name="bonus_withdraw" type="int" default="0" /><!--玩家从下线获得的鸿利值-->
		<variable name="bonus_reward" type="int" default="0" /><!--玩家获得的鸿利奖赏-->
		<variable name="bonus_used" type="int" default="0" /><!--玩家消费的鸿利值-->
		<variable name="exp_withdraw_today" type="int64_t" default="0" /><!--本日该玩家从所有下线身上已经提取的总经验值-->
		<variable name="exp_withdraw_time" type="int" default="0" /><!--上次领取经验时间-->
		<variable name="composkills" type="Octets" default="Octets(0)"/><!--复合技能-->
		<variable name="tower_raid" type="Octets" default="Octets(0)" attr="ref"/><!--爬塔副本-->
		<variable name="deity_level" type="unsigned short" default="0"/><!--元神等级-->
		<variable name="data_timestamp" type="int" default="0" />
		<variable name="src_zoneid" type="int" default="0" />
		<variable name="deity_exp" type="int64_t" default="0" /><!--封神修为-->
		<variable name="dp" type="int" default="0" /><!--神力-->
		<variable name="littlepet" type="Octets" default="Octets(0)"/><!--诛小仙-->
		<variable name="flag_mask" type="unsigned char" default="0" /><!--布尔型标记扩充使用此字段 每次扩充之后请检查角色交易时的默认处理方式是否正确-->
		<variable name="ui_transfer" type="Octets" default="Octets(0)"/><!--上古世界传送-->
		<variable name="collision_info" type="Octets" default="Octets(0)"/><!--碰撞战场信息-->
		<variable name="runescore" type="int" default="0" /><!--元魂洗练值-->
		<variable name="comsumption" type="int64_t" default="0" /><!--消费值-->
		<variable name="astrology_info" type="Octets" default="Octets(0)"/><!--星座信息-->
		<variable name="liveness_info" type="Octets" default="Octets(0)" /><!-- 活跃度 -->
		<variable name="sale_promotion_info" type="Octets" default="Octets(0)" /><!--台历数据-->
		<variable name="propadd" type="Octets" default="Octets(0)" />
		<variable name="multi_exp" type="Octets" default="Octets(0)" />
		<variable name="fuwen_info" type="Octets" default="Octets(0)" />
		<!--重要！！！！扩充字段时需要确认角色寄售时 这个属性是否需要复制给买家 DBConsignSoldRole -->
		<!--gs 用到的 int 型字段就放这里扩充吧-->
		<variable name="datagroup" type="std::map&lt;int, int64_t&gt;" attr="ref"/>
		<variable name="phase" type="Octets" default="Octets(0)" /><!--相位-->
		<variable name="award_info_6v6" type="Octets" default="Octets(0)" />
		<variable name="hide_and_seek_info" type="Octets" default="Octets(0)" /><!--捉迷藏副本-->
		<variable name="newyear_award_info" type="Octets" default="Octets(0)" /> <!--新年奖励-->
		<variable name="reserved14" type="char" default="0" />
		<variable name="reserved15" type="int" default="0" />
		<variable name="reserved16" type="int" default="0" />
		<!--扩充字段时检查一下不要在PutRole时被gs错误覆盖-->
	</rpcdata>

	<rpcdata name="GRoleBase2old">
		<variable name="id" type="int" default="0" />
		<variable name="bonus_withdraw" type="int" default="0" /><!--玩家从下线获得的鸿利值-->
		<variable name="bonus_reward" type="int" default="0" /><!--玩家获得的鸿利奖赏-->
		<variable name="bonus_used" type="int" default="0" /><!--玩家消费的鸿利值-->
		<variable name="exp_withdraw_today" type="int64_t" default="0" /><!--本日该玩家从所有下线身上已经提取的总经验值-->
		<variable name="exp_withdraw_time" type="int" default="0" /><!--上次领取经验时间-->
		<variable name="composkills" type="Octets" default="Octets(0)"/><!--复合技能-->
		<variable name="tower_raid" type="Octets" default="Octets(0)" attr="ref"/><!--爬塔副本-->
		<variable name="deity_level" type="unsigned short" default="0"/><!--元神等级-->
		<variable name="data_timestamp" type="int" default="0" />
		<variable name="src_zoneid" type="int" default="0" />
		<variable name="deity_exp" type="int64_t" default="0" /><!--封神修为-->
		<variable name="dp" type="int" default="0" /><!--神力-->
		<variable name="littlepet" type="Octets" default="Octets(0)"/><!--诛小仙-->
		<variable name="flag_mask" type="unsigned char" default="0" /><!--布尔型标记扩充使用此字段 每次扩充之后请检查角色交易时的默认处理方式是否正确-->
		<variable name="ui_transfer" type="Octets" default="Octets(0)"/><!--上古世界传送-->
		<variable name="collision_info" type="Octets" default="Octets(0)"/><!--碰撞战场信息-->
		<variable name="runescore" type="int" default="0" /><!--元魂洗练值-->
		<variable name="comsumption" type="int64_t" default="0" /><!--消费值-->
		<variable name="astrology_info" type="Octets" default="Octets(0)"/><!--星座信息-->
		<variable name="liveness_info" type="Octets" default="Octets(0)" /><!-- 活跃度 -->
		<variable name="sale_promotion_info" type="Octets" default="Octets(0)" /><!--台历数据-->
		<variable name="propadd" type="Octets" default="Octets(0)" />
		<variable name="multi_exp" type="Octets" default="Octets(0)" />
		<variable name="fuwen_info" type="Octets" default="Octets(0)" />
		<!--重要！！！！扩充字段时需要确认角色寄售时 这个属性是否需要复制给买家 DBConsignSoldRole -->
		<!--gs 用到的 int 型字段就放这里扩充吧-->
		<variable name="datagroup" type="std::map&lt;int, int64_t&gt;" attr="ref"/>
		<variable name="phase" type="Octets" default="Octets(0)" /><!--相位-->
		<variable name="award_info_6v6" type="Octets" default="Octets(0)" />
	</rpcdata>
	
	<rpcdata name="GRoleStatus">
		<variable name="version" type="char" default="1"/><!--0x02 crushed-->
		<variable name="id" type="unsigned int"  default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="level" type="short" default="0"/>
		<variable name="cur_title" type="short" default="0"/>
		<variable name="exp" type="int64_t" default="0"/>
		<variable name="pp" type="int" default="0"/>
		<variable name="hp" type="int" default="0"/>
		<variable name="mp" type="int" default="0"/>
		<variable name="posx" type="float" default="0"/>
		<variable name="posy" type="float" default="0"/>
		<variable name="posz" type="float" default="0"/>
		<variable name="pkvalue" type="int" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="time_used" type="int" default="0"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="produceskill" type="int" default="0"/>
		<variable name="produceexp" type="int" default="0"/>
		<variable name="custom_status" type="Octets" attr="ref"/>
		<variable name="filter_data" type="Octets" attr="ref"/>
		<variable name="charactermode" type="Octets" attr="ref"/>
		<variable name="instancekeylist" type="Octets" attr="ref"/>
		<variable name="dbltime_data" type="Octets" attr="ref"/>
		<variable name="petcorral" type ="Octets" attr="ref"/>
		<variable name="var_data" type="Octets" attr="ref" />
		<variable name="skills" type="Octets" attr="ref" />
		<variable name="storehousepasswd" type="Octets" attr="ref" />
		<variable name="coolingtime" type="Octets" attr="ref" />
		<variable name="recipes" type="Octets" attr="ref"/>
		<variable name="waypointlist" type="Octets" attr="ref" />
		<variable name="credit" type="Octets" attr="ref" />
		<variable name="titlelist" type="Octets" attr="ref" />
		<variable name="contribution" type="int" default="0"/>
		<variable name="combatkills" type="int" default="0"/>
		<variable name="devotion" type="int" default="0"/>
		<variable name="talismanscore" type="int" default="0"/>
		<variable name="updatetime" type="int" default="0"/>
		<variable name="battlescore" type="int" default="0"/>
		<variable name="petdata" type ="Octets" attr="ref"/>
		<variable name="reborndata" type="Octets" default="Octets(0)"/>
		<variable name="cultivation" type="short" default="0"/>
		<variable name="reserved1" type="int" default="0"/> <!--不要使用这个字段， 默认角色这个字段已经被写坏  -->
		<variable name="fashion_hotkey" type="Octets" attr="ref"/>
		<variable name="raid_data" type="Octets" attr="ref"/>
		<variable name="five_year" type="Octets" default="Octets(0)" attr="ref"/><!--改成跨服pk竞猜用-->
		<variable name="treasure_info" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<rpcdata name="GPocketInventory" attr="vector">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="pos" type="short" default="-1"/>
		<variable name="count" type="short" default="0"/>
	</rpcdata>

	<rpcdata name="GRoleInventory" attr="vector">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="pos" type="int" default="-1"/>
		<variable name="count" type="int" default="0"/>
		<variable name="client_size" type="short" default="0"/>
		<variable name="max_count" type="short" default="0"/>
		<variable name="data" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="proctype" type="int" default="0"/>
		<variable name="expire_date" type="int" default="0"/>
		<variable name="guid1" type="int" default="0"/>
		<variable name="guid2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GRolePocket">
		<variable name="capacity" type="unsigned int" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="items" type="GRoleInventoryVector"  attr="ref"/>
		<variable name="equipment" type="GRoleInventoryVector" attr="ref" />
		<variable name="petbadge" type="GRoleInventoryVector" attr="ref" />
		<variable name="petequip" type="GRoleInventoryVector" attr="ref" />
		<variable name="pocket_capacity" type="short" default="0"/>
		<variable name="pocket_items" type="GPocketInventoryVector" attr="ref"/>
		<variable name="fashion" type="GRoleInventoryVector" attr="ref"/>
		<variable name="mountwing" type="Octets" attr="ref"/>
		<variable name="gifts" type="GRoleInventoryVector"  attr="ref"/>
	</rpcdata>
	<rpcdata name="GRoleStorehouse">
		<variable name="capacity" type="unsigned int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="items" type="GRoleInventoryVector"  attr="ref"/>
		<variable name="capacity2" type="unsigned char" default="0"/>
		<variable name="items2" type="GRoleInventoryVector"  attr="ref"/>
		<variable name="fuwen" type="GRoleInventoryVector" attr="ref"/><!--符文包裹 属于包裹范畴 但 GRolePocket 没有字段了-->
		<variable name="reserved3" type="char" default="0"/>
		<variable name="reserved1" type="short" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GRoleTask">
		<variable name="task_data" type="Octets" attr="ref" />
		<variable name="task_complete" type="Octets" attr="ref" />
		<variable name="task_finishtime" type="Octets" attr="ref" />
		<variable name="task_inventory" type="GRoleInventoryVector"  attr="ref"/>
	</rpcdata>
	<rpcdata name="GRoleData">
		<variable name="base" type="GRoleBase" attr="ref" />
		<variable name="status" type="GRoleStatus" attr="ref" />
		<variable name="pocket" type="GRolePocket" attr="ref" />
		<variable name="storehouse" type="GRoleStorehouse" attr="ref" />
		<variable name="task" type="GRoleTask" attr="ref" />
		<variable name="base2" type="GRoleBase2" attr="ref" />
		<variable name="achievement" type="GRoleAchievement" attr="ref"/>
	</rpcdata>
	<rpcdata name="GPet">
		<variable name="index" type="int" default="0"/>
		<variable name="data" type="Octets" attr="ref" />
	</rpcdata>
	<rpcdata name="GPetCorral">
		<variable name="capacity" type="int" default="0" />
		<variable name="pets" type="std::vector&lt;GPet>" default="std::vector&lt;GPet>()" attr="ref"/>
	</rpcdata>
	<rpcdata name="GSysLog">
		<variable name="roleid" type="int" default="0"/>
		<variable name="time" type="int" default="-1"/>
		<variable name="ip" type="int" default="0"/>
		<variable name="source" type="short" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="items" type="GRoleInventoryVector"  attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBConfig">
		<variable name="init_time" type="int" default="0"/>
		<variable name="open_time" type="int" default="0"/>
		<variable name="is_central_db" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GShopLog">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="order_id" type="int" default="0"/>
		<variable name="item_id" type="int"  default="0"/>
		<variable name="expire" type="int" default="0"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="order_count" type="int" default="0"/>
		<variable name="cash_need" type="int" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="guid1" type="int" default="0"/>
		<variable name="guid2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GRoleAward">
		<variable name="vipaward" type="Octets" default="Octets()"/> 	<!-- VIP系统奖励 -->
		<variable name="onlineaward" type="Octets" default="Octets()"/> 	<!-- 在线倒计时奖励 -->
		<variable name="reserved1" type="Octets" default="Octets()"/>
		<variable name="reserved2" type="Octets" default="Octets()"/>
	</rpcdata>
	<rpcdata name="GRoleDetail">
		<variable name="id" type="unsigned int"  default="0"/>
		<variable name="userid" type="unsigned int"  default="0"/>
		<variable name="status" type="GRoleStatus" attr="ref"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="faceid" type="unsigned char"  default="0"/>
		<variable name="hairid" type="unsigned char"  default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
		<variable name="create_time" type="int" default="0"/>
		<variable name="cash_add2" type="unsigned int" default="0"/>	
		<variable name="cash_total" type="int" default="0"/>	
		<variable name="cash_used" type="unsigned int" default="0"/>	
		<variable name="cash_serial" type="int" default="0"/>	
		<variable name="loginip" type="int" default="0"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="title" type="unsigned char" default="0"/>
		<variable name="sectid" type="int" default="0"/>
		<variable name="initiallevel" type="short" default="0"/>
		<variable name="spouse" type="unsigned int" default="0"/>
		<variable name="jointime" type="int" default="0"/>
		<variable name="inventory" type="GRolePocket" att="ref"/>
		<variable name="storehouse" type="GRoleStorehouse" att="ref"/>
		<variable name="task" type="GRoleTask" att="ref"/>
		<variable name="logs" type="std::vector&lt;GShopLog>" att="ref"/>
		<variable name="referrer" type="int" default="0"/>
		<variable name="achievement" type="GRoleAchievement" att="ref"/>
		<variable name="circleid" type="unsigned int" default="0"/>
		<variable name="circletitlemask" type="unsigned char" default="0"/>
		<variable name="award" type="GRoleAward" attr="ref"/> <!-- 角色奖励数据 -->
		<variable name="fashionid" type="unsigned char"  default="0"/>
		<!--base2数据直接复制-->
		<variable name="base2" type="GRoleBase2" attr="ref"/>
		<variable name="weborders" type="WebOrderVector" attr="ref"/><!--用于 getrole-->
		<variable name="processed_weborders" type="std::vector&lt;int64_t&gt;" attr="ref"/><!--用于 putrole-->
	</rpcdata>
	<rpcdata name="GRoleInfo">
		<variable name="status" type="char" default="0"/> 
		<variable name="uptime" type="int" default="0"/> 
		<variable name="id" type="unsigned int"  default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="faceid" type="unsigned char"  default="0"/>
		<variable name="hairid" type="unsigned char"  default="0"/>
		<variable name="earid" type="unsigned char"  default="0"/>
		<variable name="tailid" type="unsigned char"  default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="spouse" type="unsigned int" default="0"/>
		<variable name="sectid" type="int" default="0"/>
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="title" type="unsigned char" default="0"/>
		<variable name="posx" type="float" default="0"/>
		<variable name="posy" type="float" default="0"/>
		<variable name="posz" type="float" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="custom_status" type="Octets"/>
		<variable name="charactermode" type="Octets"/>
		<variable name="equipment" type="GRoleInventoryVector"  attr="ref"/>
		<variable name="delete_flag" type="char" default="0"/> 
		<variable name="create_time" type="int" default="0"/>
		<variable name="delete_time" type="int" default="0"/> 
		<variable name="lastlogin_time" type="int" default="0"/>
		<variable name="forbid" type="GRoleForbidVector"/>
		<variable name="config_data" type = "Octets" default="Octets(0)"/>
		<variable name="help_states" type="Octets" default="Octets(0)"/>
		<variable name="reborndata" type="Octets" default="Octets(0)"/>
		<variable name="reborn_cnt" type="int" default="0"/> 
		<variable name="cultivation" type="short" default="0"/>
		<variable name="data_timestamp" type="int" default="0"/>
		<variable name="src_zoneid" type="int" default="0"/>
		<variable name="fashionid" type="unsigned char"  default="0"/>
		<variable name="ct_leave_cool" type="int" default="0"/>
		<variable name="ct_teamid" type="int" default="0"/>
		<variable name="ct_score" type="int" default="0"/><!--玩家积分-->
		<variable name="ct_last_max_score" type="int" default="0"/><!--上周个人积分最大值-->
		<variable name="ct_last_punish_time" type="int" default="0"/><!--最近一次结算惩罚的时间-->
		<variable name="ct_last_battle_count" type="int" default="0"/><!--上周打得场次-->
		<variable name="fac_coupon_add" type="int64_t" default="0"/><!--帮派金券累计值-->
	</rpcdata>

	<rpcdata name="GRoleTableUser" bdbtable="user" key="RoleId">
		<variable name="user" type="User" />
	</rpcdata>
	<rpcdata name="GRoleTableBase" bdbtable="base" key="RoleId">
		<variable name="base" type="GRoleBase" />
	</rpcdata>
	<rpcdata name="GRoleTableStatus" bdbtable="status" key="RoleId">
		<variable name="status" type="GRoleStatus" />
	</rpcdata>
	<rpcdata name="GRoleTableInventory" bdbtable="inventory" key="RoleId">
		<variable name="inventory" type="GRolePocket" />
	</rpcdata>
	<rpcdata name="GRoleTableStorehouse" bdbtable="storehouse" key="RoleId">
		<variable name="storehouse" type="GRoleStorehouse" />
	</rpcdata>
	<rpcdata name="GRoleTableTask" bdbtable="task" key="RoleId">
		<variable name="task" type="GRoleTask" />
	</rpcdata>
	<rpcdata name="GRoleTableFriendlist" bdbtable="friendlist" key="RoleId">
		<variable name="friendlist" type="GFriendList" />
	</rpcdata>
	<rpcdata name="GRoleTableMessages" bdbtable="messages" key="RoleId">
		<variable name="messages" type="MessageVector" />
	</rpcdata>
	<rpcdata name="GRoleTableClsconfig" bdbtable="clsconfig" key="RoleId">
		<variable name="version" type="char" default="1" fixvalue="true"/>
		<variable name="base" type="GRoleBase"/>
		<variable name="status" type="GRoleStatus"/>
		<variable name="inventory" type="GRolePocket" />
		<variable name="storehouse" type="GRoleStorehouse" />
	</rpcdata>
	<rpcdata name="GRoleTableRolename" bdbtable="rolename" key="Octets">
		<variable name="id" type="RoleId" />
	</rpcdata>
	<rpcdata name="GRoleTableWaitdel" bdbtable="waitdel" key="RoleId">
		<variable name="delete_time" type="int" />
	</rpcdata>
	
	<rpcdata name="GRoleAchievement">
		<variable name="version" type="int" default="0"/>
		<variable name="achieve_map" type="Octets" attr="ref" />
		<variable name="achieve_active" type="Octets" attr="ref" />
		<variable name="achieve_spec_info" type="Octets" attr="ref" />
		<variable name="achieve_award_map" type="Octets" attr="ref"/>
		<variable name="reserved4" type="char" default="0"/>
		<variable name="reserved1" type="short" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>

	<rpcdata name="GTableDefinition" bdbtable="waitdel" key="RoleId">
		<variable name="user" type="User" />
		<variable name="base" type="GRoleBase" />
		<variable name="status" type="GRoleStatus" />
		<variable name="task" type="GRoleTask" />
		<variable name="inventory" type="GRolePocket" />
		<variable name="storehouse" type="GRoleStorehouse" />
		<variable name="mailbox" type="GMailBox" />
		<variable name="friends" type="GFriendList" />
		<variable name="messages" type="MessageVector" />
		<variable name="family" type="GFamily" />
		<variable name="faction" type="GFactionInfo" />
		<variable name="sect" type="GSect" />
		<variable name="order" type="StockOrder" />
		<variable name="gtask" type="GTaskData" />
		<variable name="citystore" type="GTerritoryStore" />
		<variable name="syslog" type="GSysLog" />
		<variable name="top" type="GTopTable" />
		<variable name="config" type="Octets" />
		<variable name="factionname" type="int" />
		<variable name="familyname" type="int" />
		<variable name="waitdel" type="int" />
		<variable name="clsconfig" type="GRoleTableClsconfig" />
		<variable name="rolename" type="int" />
		<variable name="shoplog" type="char" />
		<variable name="auction" type="char" />
		<variable name="commondata" type="Octets" />
		<variable name="snsplayerinfo" type="GSNSPlayerInfoCache" />
		<variable name="snsmessage" type="GSNSMessage" />
		<variable name="base2" type="GRoleBase2" />
		<variable name="referral" type="GReferral" />
		<variable name="clrrole" type="std::vector&lt;ClearRoleData&gt;" />
		<variable name="achievement" type="GRoleAchievement" />
		<variable name="hometown" type="Octets" default="Octets()" attr="ref" />
		<variable name="topflower" type="GTableTopFlowerData" />
		<variable name="kingdom" type="GKingdomInfo" />
		<variable name="crssvrteams" type="GCrssvrTeamsData" />
		<variable name="crssvrteamsname" type="int" />

		<!--variable name="fungame" type="Octets" default="Octets()" attr="ref" /-->
		<variable name="uniqueauction" type="GUniqueAuction" />
		<variable name="circle" type="GCircleDB" />
		<variable name="consign" type="GConsignDB" />
		<variable name="finished_consign" type="GConsignDB" />
		<variable name="gtactivate" type="GGTActivate" />
		<variable name="friendcallback" type="GFriendCallback"/>
		<variable name="award" type="GRoleAward" />
		<variable name="dropcounter" type="int" />
		<variable name="rolenamehis" type="GRoleNameHisVector" />
		<variable name="operationcmd" type="GServiceForbidCmdList" />
		<variable name="weborder" type="WebOrder" />
		<variable name="factionbase" type="GFactionBase" />
		<!--加新表之后要修改合服程序!!! 请参考<诛仙添加数据库表规则.docx>-->
	</rpcdata>

	<rpcdata name="RoleId">
		<variable name="id" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="RoleArg">
		<variable name="key" type="RoleId" default="RoleId(0)" attr="ref"/>
		<variable name="data_mask" type="int" default="0"/>
		<variable name="line_id" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="RoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="data_mask" type="int" default="0"/>
		<variable name="value" type="GRoleDetail"/>
	</rpcdata>
	<rpc debug="0" name="GetRole" type="3005" argument="RoleArg" result="RoleRes" table="base" attr="get" retcode="retcode" value="value" maxsize="2097152" prior="1" timeout="20"/>
	<rpc debug="0" name="DelRole" type="3006" argument="RoleId" result="RpcRetcode" table="base" attr="del" maxsize="512" prior="1" timeout="20"/>
	
	<rpcdata name="DBCreateRoleArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="logicuid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="roleinfo" type="RoleInfo" default="RoleInfo()" attr="ref"/>
		<variable name="real_referrer" type="int" default="0"/>
		<variable name="au_suggest_referrer" type="int" default="0"/>
		<variable name="player_suggest_referrer" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCreateRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="rolelist" type="unsigned int" default="0"/>
		<variable name="roleinfo" type="GRoleInfo"/>
		<variable name="real_referrer" type="int" default="0"/>
		<variable name="refretcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBCreateRole" type="3007" argument="DBCreateRoleArg" result="DBCreateRoleRes" maxsize="16384" prior="1" timeout="60"/><!--iweb协议-->
	
	<rpcdata name="DBDeleteRoleArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="create_rollback" type="char" default="0"/>  <!--whether need to response result to client -->
	</rpcdata>
	<rpcdata name="DBDeleteRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="rolelist" type="unsigned int" default="0"/>
		<variable name="faction" type="unsigned int" default="0"/>
		<variable name="family" type="unsigned int" default="0"/>
		<variable name="circleid" type="unsigned int" default="0"/>
		<variable name="namelist" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
	</rpcdata>
	<rpc debug="0" name="DBDeleteRole" type="3008" argument="DBDeleteRoleArg" result="DBDeleteRoleRes" maxsize="1024" prior="1" timeout="60"/><!--iweb协议-->
	<rpcdata name="DBDeleteFactionArg">
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="create_rollback" type="char" default="0"/>  <!--whether need to response result to client -->
	</rpcdata>
	<rpcdata name="DBDeleteFactionRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="namelist" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
	</rpcdata>
	<rpc debug="0" name="DBDeleteFaction" type="3051" argument="DBDeleteFactionArg" result="DBDeleteFactionRes" maxsize="1024" prior="1" timeout="60"/>
	
	<rpc debug="0" name="DBUndeleteFaction" type="3052" argument="FactionId" result="DelFactionRes" maxsize="64" prior="1" timeout="30"/>
	
	<rpcdata name="DBDeleteFamilyArg">
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="create_rollback" type="char" default="0"/>  <!--whether need to response result to client -->
	</rpcdata>
	<rpcdata name="DBDeleteFamilyRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="namelist" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
	</rpcdata>
	<rpc debug="0" name="DBDeleteFamily" type="3053" argument="DBDeleteFamilyArg" result="DBDeleteFamilyRes" maxsize="1024" prior="1" timeout="60"/>
	
	<rpc debug="0" name="DBUndeleteFamily" type="3054" argument="FamilyId" result="DelFactionRes" maxsize="64" prior="1" timeout="30"/>
	<rpcdata name="DBUndoDeleteRoleArg">
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="DBUndoDeleteRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="gameserver_id" type="char" default="-1"/>
		<variable name="posx" type="float" default="0.0"/>
		<variable name="posy" type="float" default="0.0"/>
		<variable name="posz" type="float" default="0.0"/>
	</rpcdata>
	<rpc debug="0" name="DBUndoDeleteRole" type="3009" argument="DBUndoDeleteRoleArg" result="DBUndoDeleteRoleRes" maxsize="32" prior="1" timeout="10"/>

	<rpcdata name="AccountAddRoleArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="AccountAddRoleRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpc name="AccountAddRole" type="3010" argument="AccountAddRoleArg" result="AccountAddRoleRes" maxsize="128" prior="1" timeout="10"/>
	
	<rpcdata name="AccountDelRoleArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="AccountDelRoleRes">
		<variable name="retcode" type="char" default="-1"/>
	</rpcdata>
	<rpc name="AccountDelRole" type="3011" argument="AccountDelRoleArg" result="AccountDelRoleRes" maxsize="128" prior="1" timeout="10"/>

	<rpcdata name="RoleBasePair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleBase"/>
	</rpcdata>
	<rpcdata name="RoleBaseRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleBase"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleBase" type="3012" argument="RoleBasePair" result="RpcRetcode" table="base" attr="put" key="key" value="value" maxsize="16384" prior="1" timeout="20"/><!--iweb协议-->
	<rpc debug="0" name="GetRoleBase" type="3013" argument="RoleId" result="RoleBaseRes" table="base" attr="get" retcode="retcode" value="value" maxsize="16384" prior="1" timeout="30"/>

	<rpcdata name="RoleStatusPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleStatus"/>
	</rpcdata>
	<rpcdata name="RoleStatusRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleStatus"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleStatus" type="3014" argument="RoleStatusPair" result="RpcRetcode" table="status" attr="put" key="key" value="value" maxsize="16384" prior="1" timeout="20"/><!--iweb协议-->
	<rpc debug="0" name="GetRoleStatus" type="3015" argument="RoleId" result="RoleStatusRes" table="status" attr="get" retcode="retcode" value="value" maxsize="16384" prior="1" timeout="20"/><!--iweb协议-->

	<rpcdata name="RolePocketPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRolePocket"/>
	</rpcdata>
	<rpcdata name="RolePocketRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRolePocket"/>
	</rpcdata>
	<rpc debug="0" name="PutRolePocket" type="3016" argument="RolePocketPair" result="RpcRetcode" maxsize="1310720" prior="1" timeout="10"/><!--iweb协议-->
	<rpc debug="0" name="GetRolePocket" type="3017" argument="RoleId" result="RolePocketRes" maxsize="1310720" prior="1" timeout="10"/><!--iweb协议-->
	<rpcdata name="DBSetCashPasswordArg">
		<variable name="userid" type="int"/>
		<variable name="source" type="int"/>
		<variable name="password" type="Octets" attr="ref" />
	</rpcdata>
	<rpcdata name="DBSetCashPasswordRes">
		<variable name="retcode" type="int" default="-1" />
	</rpcdata>
	<rpc debug="0" name="DBSetCashPassword" type="3100" argument="DBSetCashPasswordArg" result="DBSetCashPasswordRes" maxsize="256" prior="1" timeout="20"/>

	<rpcdata name="RoleTaskPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleTask"/>
	</rpcdata>
	<rpcdata name="RoleTaskRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleTask"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleTask" type="3018" argument="RoleTaskPair" result="RpcRetcode" maxsize="65536" prior="1" timeout="10"/><!--iweb协议-->
	<rpc debug="0" name="GetRoleTask" type="3019" argument="RoleId" result="RoleTaskRes" maxsize="65536" prior="1" timeout="10"/><!--iweb协议-->

	<rpcdata name="RoleDataPair">
		<variable name="key" type="RoleId"/>
		<variable name="overwrite" type="char"/>
		<variable name="value" type="GRoleData"/>
	</rpcdata>
	<rpcdata name="RoleDataRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleData"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleData" type="8002" argument="RoleDataPair" result="RpcRetcode" maxsize="5242880" prior="1" timeout="20"/><!--iweb协议-->
	<rpc debug="0" name="GetRoleData" type="8003" argument="RoleId" result="RoleDataRes" maxsize="5242880" prior="1" timeout="30"/><!--iweb协议-->

	<rpcdata name="ClearRoleData">
		<variable name="time" type="int" default="0"/>
		<variable name="pocket" type="GRolePocket" default="GRolePocket()" attr="ref"/>
		<variable name="storehouse" type="GRoleStorehouse" default="GRoleStorehouse()" attr="ref"/>
	</rpcdata>

	<rpcdata name="DBModifyRoleDataArg">
		<variable name="roleid" type="int"/>
		<variable name="mask" type="unsigned int" default="0" />
		<variable name="level" type="int" default="0"/>
		<variable name="exp" type="int64_t" default="0"/>
		<variable name="pocket_money" type="unsigned int" default="0"/>
		<variable name="store_money" type="unsigned int" default="0"/>
		<variable name="pkvalue" type="int" default="0"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="potential" type="int" default="0"/>
		<variable name="occupation" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBModifyRoleDataRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="total_money" type="int64_t" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBModifyRoleData" type="8005" maxsize="1024" prior="1" timeout="30" /><!--iweb协议-->

	<rpcdata name="DBRestoreRoleDataArg">
		<variable name="roleid" type="int"/>
		<variable name="force" type="int"/>
	</rpcdata>
	<rpcdata name="DBRestoreRoleDataRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="restore_time" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBRestoreRoleData" type="8006" maxsize="1024" prior="1" timeout="30" /><!--iweb协议-->
	<rpcdata name="RoleBase2Pair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleBase2"/>
	</rpcdata>
	<rpcdata name="RoleBase2Res">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleBase2"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleBase2" type="8007" argument="RoleBase2Pair" result="RpcRetcode" maxsize="1048576" prior="1" timeout="20"/><!--iweb协议-->
	<rpc debug="0" name="GetRoleBase2" type="8008" argument="RoleId" result="RoleBase2Res" maxsize="1048576" prior="1" timeout="30"/><!--iweb协议-->
	<rpcdata name="TradeInventoryArg">
		<variable name="roleid1" type="unsigned int" default="0"/>
		<variable name="roleid2" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="TradeInventoryRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="pocket1" type="GRolePocket"/>
		<variable name="pocket2" type="GRolePocket"/>
	</rpcdata>
	<rpc debug="0" name="TradeInventory" type="3020" argument="TradeInventoryArg" result="TradeInventoryRes" table="inventory" attr="get" retcode="retcode" value="goods1" maxsize="3000000" prior="1" timeout="10"/>

	<rpcdata name="TradeSaveArg">
		<variable name="roleid1" type="unsigned int" default="0"/>
		<variable name="roleid2" type="unsigned int" default="0"/>
		<variable name="money1" type="unsigned int" default="0"/>
		<variable name="money2" type="unsigned int" default="0"/>
		<variable name="goods1" type="std::vector&lt;GRoleInventory>"/>
		<variable name="goods2" type="std::vector&lt;GRoleInventory>"/>
	</rpcdata>
	<rpcdata name="TradeSaveRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="TradeSave" type="3021" argument="TradeSaveArg" result="TradeSaveRes" table="inventory" attr="put" key="roleid1" value="sellgoods1" maxsize="300000" prior="1" timeout="20"/>

	<rpcdata name="GetMoneyInventoryArg">
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="GetMoneyInventoryRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="timestamp" type="int" default="-1"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="goods" type="GRoleInventoryVector"/>
	</rpcdata>
	<rpc debug="0" name="GetMoneyInventory" type="3022" argument="GetMoneyInventoryArg" result="GetMoneyInventoryRes" table="inventory" attr="get" retcode="retcode" value="goods" maxsize="131072" prior="1" timeout="25"/>
	<rpcdata name="PutMoneyInventoryArg">
		<variable name="roleid" type="unsigned int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="goods" type="GRoleInventoryVector"/>
	</rpcdata>
	<rpc debug="0" name="PutMoneyInventory" type="3023" argument="PutMoneyInventoryArg" result="RpcRetcode" table="inventory" attr="put" key="roleid" value="goods" maxsize="131072" prior="1" timeout="10"/>

	<rpcdata name="RolePair">
		<variable name="key" type="RoleId"/>
		<variable name="data_mask" type="int" default="0"/>
		<variable name="line_id" type="int" default="0"/>
		<variable name="priority" type="char" default="0"/>
		<variable name="value" type="GRoleDetail"/>
	</rpcdata>
	<rpc debug="0" name="PutRole" type="3024" argument="RolePair" result="RpcRetcode" table="base" attr="put" key="key" value="value" maxsize="2097152" prior="1" timeout="20"/>

	<rpcdata name="GetRoleBaseStatusRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="base" type="GRoleBase"/>
		<variable name="status" type="GRoleStatus"/>
	</rpcdata>
	<rpc debug="0" name="GetRoleBaseStatus" type="3025" argument="RoleId" result="GetRoleBaseStatusRes" table="base" attr="get" retcode="retcode" value="base" maxsize="16384" prior="1" timeout="10"/>

	<rpcdata name="RoleStorehousePair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleStorehouse" attr="ref"/>
	</rpcdata>
	<rpcdata name="RoleStorehouseRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleStorehouse" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleStorehouse" type="3026" argument="RoleStorehousePair" result="RpcRetcode" table="storehouse" attr="put" key="key" value="value" maxsize="131072" prior="1" timeout="10"/><!--iweb协议-->
	<rpc debug="0" name="GetRoleStorehouse" type="3027" argument="RoleId" result="RoleStorehouseRes" table="storehouse" attr="get" retcode="retcode" value="value" maxsize="131072" prior="1" timeout="10"/><!--iweb协议-->

	<protocol debug="0"  name="RoleLogin" type="3028" maxsize="64" prior="1">
		<variable name="roleid" type="int" />
	</protocol>

	<rpcdata name="WaitDelKey" attr="vector">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="type" type="unsigned char" default="0"/>
	</rpcdata>

	<protocol debug="0" name="DelRoleAnnounce" type="3029" maxsize="512" prior="1">
		<variable name="waitdelist" type="WaitDelKeyVector" />
	</protocol>

	<rpcdata name="RoleForbidPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleForbidVector"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleForbid" type="3030" argument="RoleForbidPair" result="RpcRetcode" table="forbid" attr="put" key="key" value="value" maxsize="16384" prior="1" timeout="10"/>
	<rpcdata name="GetRoleForbidArg">
		<variable name="key" type="RoleId"/>
	</rpcdata>
	<rpcdata name="GetRoleForbidRes">
		<variable name="retcode" type="int"/>
		<variable name="value" type="GRoleForbidVector"/>
	</rpcdata>
	<rpc debug="0" name="GetRoleForbid" type="3031" argument="GetRoleForbidArg" result="GetRoleForbidRes" table="forbid" attr="get" key="key" value="value" retcode="retcode" maxsize="16384" prior="1" timeout="10"/>

	<rpcdata name="GetRoleIdArg">
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reason" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="GetRoleIdRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="GetRoleId" type="3033" argument="GetRoleIdArg" result="GetRoleIdRes" table="rolename" attr="get" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="10"/><!--iweb协议-->

	<rpcdata name="TransactionTimeout">
		<variable name="timeout" type="unsigned int" default="15"/>
	</rpcdata>
	<rpcdata name="TransactionId">
		<variable name="id" type="unsigned int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="TransactionAcquire" type="3034" argument="TransactionTimeout" result="TransactionId" maxsize="128" prior="1" timeout="10"/>
	<rpc debug="0" name="TransactionAbort" type="3035" argument="TransactionId" result="RpcRetcode" maxsize="128" prior="1" timeout="10"/>
	<rpc debug="0" name="TransactionCommit" type="3036" argument="TransactionId" result="RpcRetcode" maxsize="128" prior="1" timeout="10"/>

	<rpcdata name="PreCreateRoleArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="uselogic" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreCreateRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="logicuid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="PreCreateRole" type="3037" argument="PreCreateRoleArg" result="PreCreateRoleRes" table="unamerole" attr="get" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->
	<rpcdata name="PostCreateRoleArg">
		<variable name="success" type="char" default="1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostCreateRoleRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCreateRole" type="3038" argument="PostCreateRoleArg" result="PostCreateRoleRes" table="unamerole" attr="put" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->
	<rpcdata name="PostDeleteRoleArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="namelist" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
	</rpcdata>
	<rpcdata name="PostDeleteRoleRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostDeleteRole" type="3039" argument="PostDeleteRoleArg" result="PostDeleteRoleRes" table="unamerole" attr="put" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->
	<rpcdata name="PreChangeRolenameArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreChangeRolenameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreChangeRolename" type="3070" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostChangeRolenameArg">
		<variable name="success" type="char" default="1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostChangeRolenameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostChangeRolename" type="3071" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PreChangeFactionnameArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="scale" type="char" default="0"/> <!--0:帮派 1:家族-->
	</rpcdata>
	<rpcdata name="PreChangeFactionnameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreChangeFactionname" type="3072" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostChangeFactionnameArg">
		<variable name="success" type="char" default="1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="scale" type="char" default="0"/> <!--0:帮派 1:家族-->
	</rpcdata>
	<rpcdata name="PostChangeFactionnameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostChangeFactionname" type="3073" maxsize="2097152" prior="1" timeout="15"/>
	<rpcdata name="DBChangeFactionnameArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets()"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="scale" type="char" default="0"/> <!--0:帮派 1:家族-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBChangeFactionnameRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
		<!--variable name="namehis" type="GRoleNameHisVector" default="GRoleNameHisVector()"/-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBChangeFactionname" type="195" maxsize="2097152" prior="1" timeout="30"/>

	<rpcdata name="PreCreateFactionArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="factionname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreCreateFactionRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="factionid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreCreateFaction" type="3040" argument="PreCreateFactionArg" result="PreCreateFactionRes" table="unamefaction" attr="get" key="factionname" value="factionid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostCreateFactionArg">
		<variable name="success" type="char" default="1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="factionid" type="int" default="-1"/>
		<variable name="factionname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostCreateFactionRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCreateFaction" type="3041" argument="PostCreateFactionArg" result="PostCreateFactionRes" table="unamefaction" attr="put" key="factionname" value="factionid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostDeleteFactionArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="factionid" type="int" default="-1"/>
		<variable name="namelist" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
	</rpcdata>
	<rpcdata name="PostDeleteFactionRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostDeleteFaction" type="3042" argument="PostDeleteFactionArg" result="PostDeleteFactionRes" table="unamefaction" attr="put" key="factionname" value="factionid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="PreCreateFamilyArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="familyname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreCreateFamilyRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="familyid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreCreateFamily" type="3046" argument="PreCreateFamilyArg" result="PreCreateFamilyRes" maxsize="1024" prior="1" timeout="20"/>
	<rpcdata name="PostCreateFamilyArg">
		<variable name="success" type="char" default="1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="familyid" type="int" default="-1"/>
		<variable name="familyname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostCreateFamilyRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCreateFamily" type="3049" argument="PostCreateFamilyArg" result="PostCreateFamilyRes" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="PostDeleteFamilyArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="familyid" type="int" default="-1"/>
		<variable name="namelist" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
	</rpcdata>
	<rpcdata name="PostDeleteFamilyRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostDeleteFamily" type="3050" argument="PostDeleteFamilyArg" result="PostDeleteFamilyRes" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="RoleInfoRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="value" type="GRoleInfo"/>
	</rpcdata>
	<rpc debug="0" name="GetRoleInfo" type="3045" argument="RoleId" result="RoleInfoRes" maxsize="16384" prior="1" timeout="30"/>

	<protocol debug="0" name="RepairRoleList" type="3043" maxsize="64" prior="1">
	 	<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
       	</protocol>

	<rpcdata name="GetCashTotalRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="cash_total" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="cash_add2" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GetCashTotal" type="3057" argument="RoleId" result="GetCashTotalRes" maxsize="64" prior="1" timeout="30"/>
	<!--protocol debug="0" name="FakeAddCash" type="3058" maxsize="256" prior="0">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
		<variable name="cash" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FakeAddCash_Re" type="3059" maxsize="256" prior="0">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
	</protocol-->
	<rpcdata name="ModifyRoleCreateTimeArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="dec_year" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="ModifyRoleCreateTimeRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="ModifyRoleCreateTime" type="3060" argument="ModifyRoleCreateTimeArg" result="ModifyRoleCreateTimeRes" maxsize="16" prior="1" timeout="30"/>
	<!--protocol debug="0" name="AddGlobalCounter" type="3061" maxsize="128" prior="1">
		<variable name="team_id" type="int"/>
		<variable name="team_seq" type="int" default="0"/>
		<variable name="name_id" type="int" default="0"/>
		<variable name="battle_faction" type="int" default="0"/>
		<variable name="template_id" type="int" default="-1"/>
		<variable name="item_id" type="int" default="0"/>
		<variable name="start_time" type="int" default="-1"/>
		<variable name="duration" type="int" default="0"/>
		<variable name="max_count" type="int" default="0"/>
		<variable name="world_tag" type="int" default="0"/>
		<variable name="x" type="float" default="0.0f"/>
		<variable name="y" type="float" default="0.0f"/>
		<variable name="z" type="float" default="0.0f"/>
		<variable name="drop_count" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="AddGlobalCounter_Re" type="3062" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="team_id" type="int"/>
		<variable name="team_seq" type="int" default="0"/>
		<variable name="name_id" type="int" default="0"/>
		<variable name="battle_faction" type="int" default="0"/>
		<variable name="item_id" type="int" default="-1"/>
		<variable name="world_tag" type="int" default="0"/>
		<variable name="x" type="float" default="0.0f"/>
		<variable name="y" type="float" default="0.0f"/>
		<variable name="z" type="float" default="0.0f"/>
		<variable name="drop_count" type="int" default="0"/>
	</protocol-->
	<rpcdata name="AddGlobalCounterArg">
		<variable name="template_id" type="int" default="-1"/>
		<variable name="start_time" type="int" default="-1"/>
		<variable name="duration" type="int" default="0"/><!--hour-->
		<variable name="max_count" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="AddGlobalCounterRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="AddGlobalCounter" type="3063" argument="AddGlobalCounterArg" result="AddGlobalCounterRes" maxsize="256" prior="1" timeout="30"/>
	<protocol debug="0" name="GlobalDropBroadCast" type="3064" maxsize="32" prior="1"> 
		<variable name="roleid" type="int"/>
		<variable name="itemid" type="int"/>
		<variable name="remainnumber" type="int"/>
		<!--variable name="data" type="Octets" attr="ref"/-->
	</protocol>
	<rpcdata name="GlobalCounterInfo">
		<variable name="itemid" type="int" default="-1"/>
		<variable name="template_id" type="int" default="-1"/>
		<variable name="start_time" type="int" default="-1"/>
		<variable name="duration" type="int" default="0"/><!--hour-->
		<variable name="max_count" type="int" default="0"/>
		<variable name="speak_interval" type="int" default="-1"/>
	</rpcdata>
	<protocol debug="0" name="RegisterGlobalCounter" type="3065" maxsize="10240" prior="1"> 
		<variable name="fields" type="std::vector&lt;GlobalCounterInfo&gt;" default="std::vector&lt;GlobalCounterInfo&gt;()"/>
	</protocol>
	<rpcdata name="GetGlobalCounterArg">
		<variable name="template_id" type="int" default="-1"/>
		<variable name="start_time" type="int" default="-1"/>
		<variable name="duration" type="int" default="0"/><!--hour-->
	</rpcdata>
	<rpcdata name="GetGlobalCounterRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="cur_count" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GetGlobalCounter" type="3066" argument="GetGlobalCounterArg" result="GetGlobalCounterRes" maxsize="256" prior="1" timeout="30"/>
	<protocol debug="0" name="GlobalDropRemainBroadCast" type="3067" maxsize="32" prior="1"> 
		<variable name="itemid" type="int"/>
		<variable name="remainnumber" type="int"/>
		<!--variable name="data" type="Octets" attr="ref"/-->
	</protocol>
	<protocol debug="0" name="S2CMulticast2" maxsize="102400" prior="100" type="3068">
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="playerlist" type="PlayerVector"/>
	</protocol>
	<protocol debug="0" name="S2CLineBroadcast" maxsize="102400" prior="100" type="186">
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="lineid" type="int" default="-1"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--             Protocols and Rpcs used  in uniquenamed and common gamedbd typeid is 3401 - 3500      	    -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GRoleBrief">
		<variable name="roleid" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level" type="int" default="0"/>
		<variable name="money" type="int64_t" default="0"/>
		<variable name="cashadd" type="int" default="0"/>
		<variable name="cashused" type="int" default="0"/>
		<variable name="itemnum" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GetUserRolesArg">
		<variable name="userid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="GetUserRolesRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roles" type="IntOctetsVector"/>
		<variable name="data" type="std::vector&lt;GRoleBrief>" att="ref"/>
	</rpcdata>
	<rpc debug="0" name="GetUserRoles" type="3401" argument="GetUserRolesArg" result="GetUserRolesRes" retcode="retcode" maxsize="1024" prior="1" timeout="10"/><!--iweb协议-->

	<rpcdata name="ClearStorehousePasswdArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reserved" type="Octets" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="ClearStorehousePasswd" type="3402" argument="ClearStorehousePasswdArg" result="RpcRetcode" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->

	<rpcdata name="CanChangeRolenameArg">
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="setcanchange" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="CanChangeRolenameRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="CanChangeRolename" type="3403" argument="CanChangeRolenameArg" result="CanChangeRolenameRes" maxsize="1024" prior="1" timeout="10"/><!--iweb协议-->

	<rpcdata name="RenameRoleArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="RenameRole" type="3404" argument="RenameRoleArg" result="RpcRetcode" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->

	<rpcdata name="Uid2LogicuidArg">
		<variable name="userid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="Uid2LogicuidRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="logicuid"  type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="Uid2Logicuid" type="3411" argument="Uid2LogicuidArg" result="Uid2LogicuidRes" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->

	<rpcdata name="Roleid2UidArg">
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="Roleid2UidRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid"  type="int" default="0"/>
		<variable name="src_zoneid"  type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="Roleid2Uid" type="3412" argument="Roleid2UidArg" result="Roleid2UidRes" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->

	<rpcdata name="RolenameExistsArg">
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="RolenameExistsRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="status" type="int" default="-1"/>
		<variable name="time" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="RolenameExists" type="3413" argument="RolenameExistsArg" result="RolenameExistsRes" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->

	<rpcdata name="UserRoleCountArg">
		<variable name="userid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="UserRoleCountRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="count"  type="int" default="0"/>
		<variable name="rolelist"  type="unsigned int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="UserRoleCount" type="3414" argument="UserRoleCountArg" result="UserRoleCountRes" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->

	<rpcdata name="MoveRoleCreateArg">
		<variable name="fromzoneid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="MoveRoleCreateRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="MoveRoleCreate" type="3415" argument="MoveRoleCreateArg" result="MoveRoleCreateRes" maxsize="1024" prior="1" timeout="15"/><!--iweb协议-->

	<!--  ****************************************************************************************************  -->
	<!--   Protocols and Rpcs used  in Trade System is 4001 - 4100   				   	    -->
	<!--  ****************************************************************************************************  -->
	<protocol debug="0" name="TradeStart" type="4001" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="partner_roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="TradeStart_Re" type="4002" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="partner_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="TradeStartRqstArg">
		<variable name="roleid" type="int" default="-1"/>  <!--roleid who will receive the request-->
		<variable name="localsid" type="unsigned int" default="0"/>  <!--roleid who will receive the request-->
		<variable name="start_roleid" type="int" default="-1"/> <!--roleid who start the transaction-->
	</rpcdata>
	<rpcdata name="TradeStartRqstRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="TradeStartRqst" type="4003" maxsize="32" prior="1" argument="TradeStartRqstArg" result="TradeStartRqstRes" timeout="60"/>
	<protocol debug="0" name="TradeAddGoods" type="4004" maxsize="64" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="money" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeAddGoods_Re" type="4005" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="owner_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="money" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeRemoveGoods" type="4006" maxsize="64" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="money" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeRemoveGoods_Re" type="4007" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="owner_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="money" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeMoveObj" type="4008" maxsize="64" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="dst_pos" type="int"/>
	</protocol>
	<protocol debug="0" name="TradeMoveObj_Re" type="4009" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="src_pos" type="int"/>
		<variable name="count" type="int"/>	
		<variable name="dst_pos" type="int"/>
	</protocol>
	<protocol debug="0" name="TradeSubmit" type="4010" maxsize="64" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeSubmit_Re" type="4011" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="submit_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeConfirm" type="4012" maxsize="32" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeConfirm_Re" type="4013" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="confirm_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeDiscard" type="4014" maxsize="32" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeDiscard_Re" type="4015" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="discard_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeEnd" type="4016" maxsize="32" prior="1"> <!--delivery to player to announce trade is end-->
		<variable name="tid" type="unsigned int"/>
		<variable name="cause" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>

	<protocol debug="0" name="GTradeStart" type="4017" maxsize="32" prior="1">  <!--used for announce gameserver-->
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid1" type="int"/>
		<variable name="localsid1" type="unsigned int"/>
		<variable name="roleid2" type="int"/>
		<variable name="localsid2" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GTradeStart_Re" type="4018" maxsize="32" prior="1">  <!--used for announce gameserver-->
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GTradeEnd" type="4019" maxsize="32" prior="1"> <!--announce game server, trade is end-->
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid1" type="int"/>
		<variable name="need_readDB1" type="char"/>
		<variable name="roleid2" type="int"/>
		<variable name="need_readDB2" type="char"/>
	</protocol>
	<protocol debug="0" name="GTradeDiscard" type="4020" maxsize="32" prior="1"> <!--Game server to gdelivery to discard the transaction-->
		<variable name="tid" type="unsigned int"/>
		<variable name="paddings" type="char"/>
	</protocol>
	
	<!--  ****************************************************************************************************  -->
	<!--      			 Protocols and Rpcs used  in Mail System is 4200 - 4300   				   	            -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GMailID" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="mail_id" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="GMailDefRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GMailHeader" attr="vector">
		<variable name="id" type="unsigned char" default="0"/>
		<variable name="sender" type="int" default="-1"/>
		<variable name="sndr_type" type="unsigned char" default="0"/> <!-- Is sender a NPC,bidding-sys,Player -->
		<variable name="receiver" type="int" default="-1"/>
		<variable name="title"    type="Octets" default="Octets()"/>
		<variable name="send_time" type="int" default="0"/>
		<variable name="attribute" type="unsigned char" default="0"/> <!-- read/unread, attachment/or not, preserver/or not -->
		<variable name="sender_name" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="GMail" attr="vector">
		<variable name="header" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="context" type="Octets" default="Octets()"/> <!-- max context length is 400 bytes-->
		<variable name="attach_obj" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
		<variable name="attach_money" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="GMailSyncData">
		<variable name="userid" type="unsigned int" default="0"/>
		<variable name="data_mask" type="int" default="0"/>
		<variable name="cash_total" type="int" default="0"/>	
		<variable name="cash_used" type="unsigned int" default="0"/>	
		<variable name="cash_serial" type="int" default="0"/>	
		<variable name="inventory" type="GRolePocket" default="GRolePocket()" attr="ref"/>
		<variable name="storehouse" type="GRoleStorehouse" default="GRoleStorehouse()" attr="ref"/>
		<variable name="logs" type="std::vector&lt;GShopLog>" att="ref"/>
	</rpcdata>
	<rpcdata name="GMailBox">
		<variable name="timestamp" type="unsigned int" default="0"/>
		<variable name="status" type="unsigned int" default="0"/>
		<variable name="mails" type="GMailVector" default="GMailVector()" attr="ref"/>
	</rpcdata>

	<!-- announce client a new mail has come -->
	<protocol name="CheckNewMail" type="4200" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="AnnounceNewMail" type="4201" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="remain_time" type="int"/>
	</protocol>
	<protocol name="GetMailList" type="4202" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="GetMailList_Re" type="4203" maxsize="10240" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="maillist" type="GMailHeaderVector" default="GMailHeaderVector()" attr="ref"/>
	</protocol>
	<protocol name="GetMail" type="4204" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
	</protocol>
	<protocol name="GetMail_Re" type="4205" maxsize="2048" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail" type="GMail" default="GMail()" attr="ref"/>
	</protocol>
	<protocol name="GetMailAttachObj" type="4206" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
		<variable name="obj_type" type="unsigned char"/> <!-- object or money -->
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="GetMailAttachObj_Re" type="4207" maxsize="2048" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="mail_id" type="unsigned char"/>
		<variable name="money_left" type="unsigned int"/>
		<variable name="item_left" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="DeleteMail" type="4208" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
	</protocol>
	<protocol name="DeleteMail_Re" type="4209" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
	</protocol>
	<protocol name="PreserveMail" type="4210" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
		<variable name="blPreserve" type="unsigned char"/> <!-- whether preserve mail-->
	</protocol>
	<protocol name="PreserveMail_Re" type="4211" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
		<variable name="blPreserve" type="unsigned char"/> <!-- whether preserve mail-->
	</protocol>
	<protocol name="PlayerSendMail" type="4212" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="receiver" type="int"/>
		<variable name="title"    type="Octets"/>
		<variable name="context" type="Octets"/> <!-- max context length is 400 bytes-->
		<variable name="attach_obj_id" type="int" default="-1"/>
		<variable name="attach_obj_num" type="int" default="0"/>
		<variable name="attach_obj_pos" type="int" default="-1"/>
		<variable name="attach_money" type="unsigned int" default="0"/>
		<variable name="sender_name" type="Octets" default="Octets()" attr="ref"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="PlayerSendMail_Re" type="4213" maxsize="4096" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="receiver" type="int"/>
		<variable name="attach_obj_num" type="int" default="0"/>
		<variable name="attach_obj_pos" type="int" default="-1"/>
		<variable name="attach_money" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SysSendMail" type="4214" maxsize="4096" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="sysid" type="int"/>
		<variable name="sys_type" type="unsigned char"/> <!-- NPC or Bidding-system-->
		<variable name="receiver" type="int"/>
		<variable name="title"    type="Octets"/>
		<variable name="context" type="Octets"/> <!-- max context length is 400 bytes-->
		<variable name="attach_obj" type="GRoleInventory" attr="ref"/>
		<variable name="attach_money" type="unsigned int"/>
	</protocol><!--iweb协议-->
	<protocol name="SysSendMail_Re" type="4215" maxsize="4096" prior="1">
		<variable name="retcode" type="unsigned short"/> 
		<variable name="tid" type="unsigned int"/>
	</protocol><!--iweb协议-->

	<protocol name="GMailEndSync" type="4216" maxsize="2097152" prior="1">
		<variable name="tid"    type="unsigned int"/>
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="syncdata" type="GMailSyncData" attr="ref" default="GMailSyncData()"/>
	</protocol>
	<!-- common data  between gs and delivery -->
	<protocol name="CommonDataSync" type="4217" maxsize="655360" prior="101">
		<variable name="session_key" type="int"/>
		<variable name="data_type" type="int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<rpcdata name="CommonDataArg">
		<variable name="session_key" type="int"/>
		<variable name="data_type" type="int"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="user_data" type="int"/>
	</rpcdata>
	<rpcdata name="CommonDataRes">
		<variable name="session_key" type="int"/>
		<variable name="result" type="int" />
		<variable name="data" type="Octets" attr="ref"/>
	</rpcdata>
	<rpc name="CommonDataChange" type="4218" maxsize="10240" prior="101" argument="CommonDataArg" result="CommonDataRes" timeout="30"/>


	<rpcdata name="GCommonData">
		<variable name="scole" type="int" default="0"/>
		<variable name="key" type="int" default="0"/>
		<variable name="value" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPutCommonDataArg">
		<variable name="data" type="std::vector&lt;GCommonData&gt;" attr="ref"/>
	</rpcdata>
	<rpc name="DBPutCommonData" type="4265" maxsize="524288" prior="1" argument="DBPutCommonDataArg" result="Integer" timeout="30"/>
	<rpcdata name="DBGetCommonDataArg">
		<variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBGetCommonDataRes">
		<variable name="retcode" type="short"/>
		<variable name="data" type="std::vector&lt;GCommonData&gt;" attr="ref"/>
		<variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc name="DBGetCommonData" type="4266" maxsize="524288" prior="1" argument="DBGetCommonDataArg" result="DBGetCommonDataRes" timeout="30"/>
	<rpcdata name="CommonDataQueryArg"><!--iweb查询全局变量-->
		<variable name="key" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="CommonDataQueryRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="value" type="int" default="-1"/>
	</rpcdata>
	<rpc name="CommonDataQuery" type="4267" maxsize="32" prior="1" timeout="30"/><!--iweb协议-->
	
	<!-- 客户找回贵重物品相关协议 -->
	<protocol name="SysRecoveredObjMail" type="4219" maxsize="4096" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="sys_type" type="unsigned char"/> <!-- NPC or Bidding-system-->
		<variable name="receiver" type="int"/>
		<variable name="title"    type="Octets"/>
		<variable name="context" type="Octets"/> <!-- max context length is 400 bytes-->
		<variable name="obj" type="Octets" attr="ref"/>
		<variable name="checksum" type="Octets" attr="ref"/>
	</protocol><!--iweb协议-->
	<protocol name="SysRecoveredObjMail_Re" type="4220" maxsize="4096" prior="1">
		<variable name="retcode" type="unsigned short"/> 
		<variable name="tid" type="unsigned int"/>
	</protocol><!--iweb协议-->

	<protocol name="GetCommonData" type="4268" maxsize="32" prior="1"><!--客户端查询全局变量-->
		<variable name="key" type="int"/>
	</protocol>
	<protocol name="GetCommonData_Re" type="4269" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="value" type="int" default="-1"/>
	</protocol>
	<!-- ********************** below is RPCs or protocols with GameDB *********************  -->
	<!-- retrieve maillist from database -->
	<rpcdata name="DBGetMailListRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="maillist" type="GMailHeaderVector" default="GMailHeaderVector()" attr="ref"/>
	</rpcdata>
	<rpc name="DBGetMailList" type="4251" maxsize="10240" prior="1" argument="RoleId" result="DBGetMailListRes" timeout="30"/>
	<rpcdata name="DBGetMailRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="mail" type="GMail" default="GMail()"/>
	</rpcdata>
	<rpc name="DBGetMail" type="4252" maxsize="2048" prior="1" argument="GMailID" result="DBGetMailRes" timeout="30"/>

	<rpcdata name="DBGetMailAttachArg">
		<variable name="mail_id" type="GMailID" default="GMailID()" attr="ref"/>
		<variable name="attach_type" type="unsigned char" default="0"/> <!-- money or object-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBGetMailAttachRes">
		<variable name="retcode" type="unsigned char"/>
		<variable name="money_left" type="unsigned int"/>
		<variable name="item_left" type="unsigned int"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBGetMailAttach" type="4253" maxsize="2097152" prior="1" argument="DBGetMailAttachArg" result="DBGetMailAttachRes" timeout="30"/>
	<rpcdata name="DBSetMailAttrArg" >
		<variable name="mail_id" type="GMailID" default="GMailID()" attr="ref"/>
		<variable name="attrib_type" type="unsigned char" default="0"/>
		<variable name="attrib_value" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="DBSetMailAttrRes" >
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc name="DBSetMailAttr" type="4254" maxsize="128" prior="1" argument="DBSetMailAttrArg" result="DBSetMailAttrRes" timeout="30"/>
	<rpcdata name="DBSendMailArg">
		<variable name="mail" type="GMail" default="GMail()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSendMailRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="mail_id" type="unsigned char" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBDeleteMailArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="mailid" type="std::vector&lt;unsigned char>" default="std::vector&lt;unsigned char>()"/>
		<variable name="reason" type="unsigned char" default="0"/>
	</rpcdata>
	<rpc name="DBSendMail" type="4255" maxsize="2097152" prior="1" argument="DBSendMailArg" result="DBSendMailRes" timeout="30"/>
	<rpc name="DBDeleteMail" type="4256" maxsize="128" prior="1" argument="DBDeleteMailArg" result="GMailDefRes" timeout="30"/>
	<rpcdata name="DBGetMailAllRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="mailbox" type="GMailBox" default="GMailBox()" attr="ref"/>
	</rpcdata>
	<rpc name="DBGetMailAll" type="4257" maxsize="102400" prior="1" argument="RoleId" result="DBGetMailAllRes" timeout="30"/>

	<protocol name="CashLock" type="4260" maxsize="128" prior="1">
		<variable name="userid" type="int" />
		<variable name="cash_password"    type="Octets"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="lock" type="char" default="0"/>
	</protocol>
	<protocol name="CashLock_Re" type="4261" maxsize="64" prior="1">
		<variable name="retcode"    type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="CashPasswordSet" type="4263" maxsize="128" prior="1">
		<variable name="userid" type="int" />
		<variable name="cash_password"    type="Octets"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="CashPasswordSet_Re" type="4264" maxsize="128" prior="1">
		<variable name="retcode"    type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--      			 Protocols and Rpcs used in Auction System is 800 - 850                     -->
	<!--  ****************************************************************************************************  -->

	<rpcdata name="AuctionId">
		<variable name="id" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol name="AuctionOpen" type="800" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="item_id" type="int" default="-1"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="baseprice" type="unsigned int" default="0"/>
		<variable name="binprice" type="unsigned int" default="0"/>
		<variable name="elapse_time" type="int" default="0"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="AuctionOpen_Re" type="801" maxsize="128" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="info" type="GAuctionItem" default="GAuctionItem()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionBid" type="802" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="bin" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<!-- below parameter is provieded by gameserver-->
		<variable name="money" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SendAuctionBid" type="822" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="bin" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	<protocol name="AuctionBid_Re" type="803" maxsize="128" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="info" type="GAuctionItem" default="GAuctionItem()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionList" type="804" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="category" type="unsigned short"/>
		<variable name="begin" type="unsigned int"/>
		<variable name="reverse" type="char"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GAuctionItem">
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="binprice" type="unsigned int" default="0"/>
		<variable name="end_time" type="unsigned int" default="0"/>
		<variable name="itemid" type="unsigned int" default="0"/>
		<variable name="count" type="short" default="0"/>
		<variable name="seller" type="unsigned int" default="0"/>
		<variable name="bidder" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="GAuctionDetail">
		<variable name="info" type="GAuctionItem" default="GAuctionItem()"/>
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="baseprice" type="unsigned int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="elapse_time" type="int" default="0"/>
		<variable name="prolong" type="int" default="0"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<protocol name="AuctionList_Re" type="805" maxsize="1024" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="items" type="std::vector&lt;GAuctionItem>" default="std::vector&lt;GAuctionItem>()" attr="ref"/>
	</protocol>
	<protocol name="AuctionClose" type="806" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="auctionid" type="unsigned int"/>
		<variable name="reason" type="unsigned char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="AuctionClose_Re" type="807" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionGet" type="808" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionGet_Re" type="809" maxsize="2048" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="item" type="GAuctionDetail" default="GAuctionDetail()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionGetItem" type="820" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="ids" type="std::vector&lt;unsigned int&gt;" default="std::vector&lt;unsigned int&gt;()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionGetItem_Re" type="821" maxsize="8192" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="ids" type="std::vector&lt;unsigned int&gt;" attr="ref" default="std::vector&lt;unsigned int&gt;()"/>
		<variable name="items" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
	</protocol>
	<rpcdata name="DBAuctionOpenArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="item_id" type="int" default="-1"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="baseprice" type="unsigned int" default="0"/>
		<variable name="binprice" type="unsigned int" default="0"/>
		<variable name="elapse_time" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBAuctionOpenRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionOpen" type="810" maxsize="2097152" prior="1" argument="DBAuctionOpenArg" result="DBAuctionOpenRes" timeout="30"/>
	<rpcdata name="DBAuctionBidArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="bin" type="char" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBAuctionBidRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_loser"  type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_winner" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="extend_time" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionBid" type="811" maxsize="2097152" prior="1" argument="DBAuctionBidArg" result="DBAuctionBidRes" timeout="30"/>
	<rpcdata name="GAuctionList" attr="vector">
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="list" type="std::vector&lt;GAuctionDetail>" attr="ref" default="std::vector&lt;GAuctionDetail>()"/>
	</rpcdata>
	<rpcdata name="GAuctionIndex">
		<variable name="category" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="index" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBAuctionListArg">
		<variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBAuctionListRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="items" type="std::vector&lt;GAuctionDetail>" attr="ref" default="std::vector&lt;GAuctionDetail>()"/>
		<variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc name="DBAuctionList" type="812" maxsize="262144" prior="1" argument="DBAuctionListArg" result="DBAuctionListRes" timeout="30"/>
	<rpcdata name="DBAuctionGetArg">
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="reason" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="DBAuctionGetRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="item" type="GAuctionDetail" default="GAuctionDetail()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionGet" type="813" maxsize="2048" prior="1" argument="DBAuctionGetArg" result="DBAuctionGetRes" timeout="30"/>
	<rpcdata name="DBAuctionTimeoutRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_bidder" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionTimeout" type="814" maxsize="2048" prior="1" argument="AuctionId" result="DBAuctionTimeoutRes" timeout="30"/>
	<rpcdata name="DBAuctionCloseArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="reason" type="unsigned char" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBAuctionCloseRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_bidder" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionClose" type="815" maxsize="2048" prior="1" argument="DBAuctionCloseArg" result="DBAuctionCloseRes" timeout="30"/>

	<protocol name="AuctionAttendList" type="816" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gettype" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="AuctionAttendList_Re" type="817" maxsize="2048" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="gettype" type="int"/>
		<variable name="items" type="std::vector&lt;GAuctionItem&gt;" default="std::vector&lt;GAuctionItem&gt;()"/>
	</protocol>
	<protocol name="AuctionExitBid" type="818" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="auctionid" type="unsigned int"/>
	</protocol>
	<protocol name="AuctionExitBid_Re" type="819" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="auctionid" type="unsigned int"/>
	</protocol>
	<!-- Unique Bid Auction-->
	<protocol name="UniqueBidHistory" type="840" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="UniqueWinner">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="money" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="UniqueBidder">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="bidtime" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="UniquePriceInfo">
		<variable name="money" type="int" default="0"/>
		<variable name="same_bidders" type="std::vector&lt;UniqueBidder&gt;" default="std::vector&lt;UniqueBidder&gt;()"/>
	</rpcdata>
	<protocol name="UniqueBidHistory_Re" type="841" maxsize="65536" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="status" type="int" default="0"/>
		<variable name="item_tobid" type="int" default="0"/><!--今日竞拍物品id-->
		<variable name="money_min" type="int" default="0"/><!--竞拍最低价-->
		<variable name="winner_list" type="std::vector&lt;UniqueWinner&gt;" default="std::vector&lt;UniqueWinner&gt;()"/>
		<variable name="self_bid_list" type="std::vector&lt;UniquePriceInfo&gt;" default="std::vector&lt;UniquePriceInfo&gt;()" attr="ref"/>
		<variable name="winner" type="int" default="0"/>
		<variable name="win_item" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GUniqueBidArg">
		<variable name="roleid" type="int"/>
		<variable name="lower_bound_money" type="int" default="0"/>
		<variable name="upper_bound_money" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GUniqueBidRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GUniqueBid" type="842" maxsize="64" prior="1" timeout="20"/>
	<protocol name="UniqueBid_Re" type="846" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GUniqueGetItemArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GUniqueGetItemRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GUniqueGetItem" type="843" maxsize="64" prior="1" timeout="20"/>
	<protocol name="UniqueGetItem_Re" type="845" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GUniqueBidder" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="bidtime" type="int" default="0"/>
		<variable name="reserve1" type="int" default="0"/>
		<variable name="reserve2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GUniquePriceInfo" attr="vector">
		<variable name="money" type="int" default="0"/>
		<variable name="bidderlist" type="GUniqueBidderVector" default="GUniqueBidderVector()" attr="ref"/>
		<variable name="reserve1" type="int" default="0"/>
		<variable name="reserve2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GUniqueWinItem">
		<variable name="itemid" type="int" default="0"/>
		<variable name="bid_min" type="int" default="0"/>
		<variable name="reserve1" type="int" default="0"/>
		<variable name="reserve2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GUniqueWinner" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="money" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="reserve1" type="int" default="0"/>
		<variable name="reserve2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GUniqueAuction">
		<variable name="pricelist" type="GUniquePriceInfoVector" default="GUniquePriceInfoVector()" attr="ref"/>
		<variable name="itemtobid" type="GUniqueWinItem" default="GUniqueWinItem()" attr="ref"/>
		<variable name="winners" type="GUniqueWinnerVector" default="GUniqueWinnerVector()" attr="ref"/>
		<variable name="winner" type="int" default="0"/>
		<variable name="win_item" type="int" default="0"/>
		<variable name="reserve1" type="int" default="0"/>
		<variable name="reserve2" type="int" default="0"/>
		<variable name="reserve3" type="int" default="0"/>
		<variable name="reserve4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBUniqueAuctionLoadArg">
		<variable name="dummy" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBUniqueAuctionLoadRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="data" type="GUniqueAuction" default="GUniqueAuction()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBUniqueAuctionLoad" type="844" maxsize="1048576" prior="1" timeout="30"/>
	<rpcdata name="DBUniqueAuctionSaveArg">
		<variable name="data" type="GUniqueAuction" default="GUniqueAuction()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBUniqueAuctionSaveRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBUniqueAuctionSave" type="847" maxsize="1048576" prior="1" timeout="30"/>


	<!--  ****************************************************************************************************  -->
	<!--      			 Protocols and Rpcs used in Battle System is 850 - 899      				            -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GBattleRole">
		<variable name="roleid" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level" type="unsigned char" default="0"/>
		<variable name="reborn_cnt" type="int" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="score" type="int" default="0"/>
		<variable name="cultivation" type="char" default="0"/>
		<variable name="src_zoneid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFieldInfo">
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="red_number" type="int" attr="int" default="0"/>
		<variable name="blue_number" type="int" attr="int" default="0"/>
		<variable name="starttime" type="int" attr="int" default="0"/>
	</rpcdata>
	<rpcdata name="GInstancingFieldInfo">
		<variable name="tid" type="int" attr="int" default="0"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="status" type="int" attr="int" default="0"/>
		<variable name="time_left" type="int" attr="int" default="0"/>
		<variable name="player_number" type="int" attr="int" default="0"/>
		<variable name="player_limit" type="int" attr="int" default="0"/>
		<variable name="leader" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<protocol name="BattleGetMap" type="850" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GTerritory">
		<variable name="id" type="char" default="0"/>
		<variable name="level" type="char" default="0"/>
		<variable name="color" type="char" default="0"/>
		<variable name="owner" type="unsigned int" default="0"/>
		<variable name="challenger1" type="unsigned int" default="0"/>
		<variable name="challenger2" type="unsigned int" default="0"/>
		<variable name="battle_time1" type="unsigned int" default="0"/>
		<variable name="battle_time2" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol name="BattleGetMap_Re" type="851" maxsize="2048" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="status" type="int"/>
		<variable name="cities" type="std::vector&lt;GTerritory&gt;" default="std::vector&lt;GTerritory&gt;()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="BattleGetList" type="884" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_type" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="BattleGetList_Re" type="885" maxsize="10240" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="enter_times" type="unsigned short"/>
		<variable name="fields" type="std::vector&lt;GFieldInfo&gt;" default="std::vector&lt;GFieldInfo&gt;()"/>
		<variable name="battle_type" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="BattleGetField" type="886" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/> <!--表示此消息是否需要转发到跨服或者从跨服发过来-->
	</protocol>
 	<protocol name="BattleGetField_Re" type="887" maxsize="20480" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="starttime" type="int" attr="int" default="0"/>
		<variable name="battle_type" type="char" default="0"/>
		<variable name="red_team" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="blue_team" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<rpcdata name="BattleFieldInfo">
		<variable name="map_id" type="int" default="0"/>
		<variable name="tag" type="int" default="0"/>
                <variable name="level_min" type="int"/>
                <variable name="level_max" type="int"/>
                <variable name="battle_type" type="char"/>
		<variable name="reborn_count_need" type="int"/>
		<variable name="fighting_time" type="int"/>
		<variable name="entermax_perday" type="int"/>
		<variable name="cooldown_time" type="int"/>
		<variable name="maxplayer_perround" type="int"/>
	</rpcdata>
	<protocol name="BattleServerRegister" type="854" maxsize="10240" prior="1">
                <variable name="gs_id" type="int"/>
		<variable name="fields" type="std::vector&lt;BattleFieldInfo&gt;" default="std::vector&lt;BattleFieldInfo&gt;()"/>
	</protocol>
	<protocol name="BattleEnterFail" type="910" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
	</protocol>
	<protocol name="BattleJoin" type="880" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
		<variable name="team" type="unsigned char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="isreenter" type="char" default="0"/>
	</protocol>

	<protocol name="GBattleJoin" type="908" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<rpcdata name="DBBattleJoinArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBBattleJoinRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBBattleJoin" type="909" maxsize="2097152" prior="1" timeout="20"/>

	<protocol name="BattleJoin_Re" type="881" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="battle_type" type="char" default="0"/>
		<variable name="iscross" type="char" default="0"/>
		<variable name="team" type="unsigned char" default="0"/>
		<variable name="starttime" type="int" attr="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="cooltime" type="int" default="-1"/><!--报名冷却剩余时间-->
	</protocol>
	<protocol name="BattleLeave" type="882" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="BattleLeave_Re" type="883" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="BattleStart" type="857" maxsize="64" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="tag" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
		<variable name="apply_count" type="int" default="0"/>
		<variable name="battle_type" type="char" default="0"/>
	</protocol>
	<protocol name="BattleStart_Re" type="858" maxsize="64" prior="1">
		<variable name="retcode" type="short"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="tag" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="battle_type" type="char" default="0"/>
	</protocol>
	<protocol name="GBattleEnd" type="859" maxsize="64" prior="1">
		<variable name="gs_id" type="int" default="0"/>
		<variable name="tag" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="battle_type" type="char" default="0"/>
	</protocol>
	<protocol name="BattleEnter" type="860" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="battle_type" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="BattleEnter_Re" type="861" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="endtime" type="int" attr="int" default="0"/>
		<variable name="battle_type" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="BattleStartNotify" type="888" maxsize="32" prior="1">
		<variable name="start_result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="starttime" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="SendBattleEnter" type="867" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="tag" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="team" type="unsigned char" default="0"/>
		<variable name="field_type" type="int" default="0" />
	</protocol>

	<protocol name="GBattleLeave" type="891" maxsize="128" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="tag" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="reason" type="int" default="0"/>
	</protocol>
	<protocol name="DebugCommand" type="873" maxsize="256" prior="1">
		<variable name="roleid" type="unsigned int"/>
		<variable name="tag" type="int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>

	<rpcdata name="InstancingSideInfo">
		<variable name="max_player_limit" type="int" default="0"/>
		<variable name="manual_start_player_num" type="int" default="0"/>
		<variable name="auto_start_player_num" type="int" default="0"/>
		<variable name="reborn_limit" type="int" default="0"/>
		<variable name="min_level_limit" type="int" default="0"/>
		<variable name="max_level_limit" type="int" default="0"/>
		<variable name="max_prof_count_limit" type="int" default="0"/>
		<variable name="faction_limit" type="int" default="0"/>
		<variable name="required_item" type="int" default="0"/>
		<variable name="required_money" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="InstancingFieldInfo">
		<variable name="battle_id" type="int" default="0"/>
		<variable name="world_tag" type="int" default="0"/>
		<variable name="tid" type="int"/>
		<variable name="queuing_time" type="int" default="0"/>
		<variable name="fighting_time" type="int" default="0"/>
		<variable name="preparing_time" type="int" default="0"/>  <!-- 战场关闭后恢复到等待激活状态需要的时间-->
		<variable name="attacker" type="InstancingSideInfo" default="InstancingSideInfo()" attr="ref"/>
		<variable name="defender" type="InstancingSideInfo" default="InstancingSideInfo()" attr="ref"/>
		<variable name="looker" type="InstancingSideInfo" default="InstancingSideInfo()" attr="ref"/>
	</rpcdata>
	<protocol name="InstancingRegister" type="889" maxsize="10240" prior="1">
                <variable name="gs_id" type="int"/>
		<variable name="fields" type="std::vector&lt;InstancingFieldInfo&gt;" default="std::vector&lt;InstancingFieldInfo&gt;()"/>
	</protocol>
	<protocol name="SendInstancingJoin" type="876" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="team" type="unsigned char" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	<protocol name="InstancingJoin_Re" type="892" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="team" type="unsigned char" default="0"/>
		<variable name="starttime" type="int" attr="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingLeave" type="893" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingLeave_Re" type="894" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol name="SendInstancingStart" type="895" maxsize="64" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="tag" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
	</protocol>
	<protocol name="SendInstancingStart_Re" type="896" maxsize="64" prior="1">
		<variable name="retcode" type="short"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
	</protocol>
	<protocol name="GInstancingEnd" type="897" maxsize="64" prior="1">
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
	</protocol>
	<protocol name="InstancingEnter" type="898" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingEnterFail" type="911" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
	</protocol>
	<protocol name="InstancingEnter_Re" type="871" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="endtime" type="int" attr="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingStartNotify" type="872" maxsize="16" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/>
                <variable name="starttime" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SendInstancingEnter" type="874" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="tag" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="team" type="unsigned char" default="0"/>
	</protocol>

	<protocol name="GInstancingLeave" type="875" maxsize="128" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="reason" type="int" default="0"/>
	</protocol>
	<protocol name="InstancingGetList" type="877" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_tid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingGetList_Re" type="878" maxsize="10240" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="battle_tid" type="int"/>
		<variable name="fields" type="std::vector&lt;GInstancingFieldInfo&gt;" default="std::vector&lt;GInstancingFieldInfo&gt;()"/>
		<variable name="enter_count" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingGetField" type="879" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
 	<protocol name="InstancingGetField_Re" type="852" maxsize="8192" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="attacker" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="req_attacker" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="defender" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="req_defender" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="looker" type="unsigned int" default="0"/>
		<variable name="time_left" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingKick" type="853" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="target" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
 	<protocol name="InstancingKick_Re" type="855" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="target" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingJoinReq" type="856" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="requester" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
 	<protocol name="InstancingAccept" type="862" maxsize="32" prior="1">
		<variable name="accept" type="unsigned short"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="requester" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
 	<protocol name="InstancingAccept_Re" type="799" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="accept" type="unsigned short"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="requester" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingStart" type="863" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
 	<protocol name="InstancingStart_Re" type="864" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingCloseNotify" type="865" maxsize="16" prior="1">
		<variable name="map_id" type="int" />
                <variable name="reason" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GInstancingStatus" type="866" maxsize="128" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="battle_id" type="int" default="0"/>
		<variable name="world_tag" type="int" default="0"/>
		<variable name="status" type="int" default="0"/>
	</protocol>
	<protocol name="InstancingAvailableList" type="868" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="InstancingAvailableList_Re" type="869" maxsize="4096" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="fields" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingAppoint" type="870" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="target" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingAppoint_Re" type="890" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="target" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="InstancingAppointNotify" type="899" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="DBInstancingActivateArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="team" type="unsigned char" default="0"/>
		<variable name="required_money" type="int" default="0"/>
		<variable name="required_item" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBInstancingActivateRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBInstancingActivate" type="849" maxsize="2097152" prior="1" timeout="40"/>
	<protocol name="InstancingKickNotify" type="848" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="map_id" type="int" default="0"/>
		<variable name="target" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol name="CrossBattleJoinTeam" type="1000" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_type" type="int" default="0"/>
		<variable name="subbattle_type" type="int" default="0"/>
		<variable name="gsid" type="int" default="0"/>
		<variable name="mapid" type="int" default="0"/>
		<variable name="starttime" type="int" default="0"/>
		<variable name="team" type="int" default="0"/>
	</protocol>
<!--	
	<protocol name="CrossBattleEnter" type="1001" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="battle_type" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="CrossBattleEnter_Re" type="1002" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="endtime" type="int" attr="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
-->
	<protocol name="GetCouponsReq" type="10001" maxsize="65535" prior="1">
		<variable name="userid" type="int"/>
		<variable name="toaid" type="int"/>
		<variable name="tozoneid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="itemids" type="std::vector&lt;int&gt;"/>
	</protocol>
	<protocol name="GetCouponsRep" type="10002" maxsize="65535" prior="1">
		<variable name="userid" type="int"/>
		<variable name="toaid" type="int"/>
		<variable name="tozoneid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="coupons" type="std::map&lt;int, int&gt;"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in Siege System is 950 - 999      				            -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GFactionMaster">
		<variable name="fid" type="int" default="0"/>
		<variable name="master" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GCityInfo">
		<variable name="battle_id" type="int" default="0"/>
		<variable name="owner" type="GFactionMaster" default="GFactionMaster()" attr="ref"/>
		<variable name="occupy_time" type="int" attr="int" default="0"/>
	</rpcdata>
	<rpcdata name="GChallenger" attr="vector">
		<variable name="challenger" type="GFactionMaster" default="GFactionMaster()" attr="ref"/>
		<variable name="assistant" type="GFactionMaster" default="GFactionMaster()" attr="ref"/>
		<variable name="begin_time" type="int" attr="int" default="0"/>
	</rpcdata>
	<rpcdata name="GCity">
		<variable name="info" type="GCityInfo" default="GCityInfo()" attr="ref"/>
		<variable name="challengers" type="std::vector&lt;GChallenger&gt;" default="std::vector&lt;GChallenger&gt;()" attr="ref"/>
		<variable name="detail" type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="reserve2" type="int" attr="int" default="0"/>
		<variable name="reserve4" type="int" attr="int" default="0"/>
	</rpcdata>
	<rpcdata name="GCityStore">
		<variable name="cities" type="std::vector&lt;GCity&gt;" default="std::vector&lt;GCity&gt;()" attr="ref"/>
		<variable name="reserve1" type="int" attr="int" default="0"/>
		<variable name="reserve2" type="int" attr="int" default="0"/>
		<variable name="reserve3" type="int" attr="int" default="0"/>
	</rpcdata>
	<protocol name="GSiegeServerRegister" type="951" maxsize="32" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int" default="0"/>
		<variable name="use_for_battle" type="char" default="0"/>
	</protocol>

	<protocol name="SendSiegeStart" type="952" maxsize="32" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int" default="0"/>
		<variable name="owner" type="int" default="0"/>
		<variable name="attacker" type="int" default="0"/>
		<variable name="assistant" type="int" default="0"/>
		<variable name="endtime" type="int" default="0"/>
		<variable name="force" type="unsigned char" default="0"/>
	</protocol>
	<protocol name="SendSiegeStart_Re" type="953" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int" default="0"/>
	</protocol>
	<protocol name="GSiegeEnd" type="954" maxsize="32" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int" default="0"/>
		<variable name="result" type="int" default="0"/>
	</protocol>
	
	<protocol name="SiegeInfoGet" type="955" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="SiegeInfoGet_Re" type="956" maxsize="2048" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="city" type="GCityInfo" default="GCityInfo()" attr="ref"/>
		<variable name="challengers" type="std::vector&lt;GChallenger&gt;" default="std::vector&lt;GChallenger&gt;()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SiegeChallenge" type="957" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="day" type="int"/>
	</protocol>
	<protocol name="SendSiegeChallenge" type="958" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="day" type="char" default="0"/>
		<variable name="attach_obj_id" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SiegeChallenge_Re" type="959" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="battle_id" type="int" default="0"/>
		<variable name="begin_time" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SiegeSetAssistant" type="960" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="faction_name" type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SiegeSetAssistant_Re" type="961" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="battle_id" type="int" default="0"/>
		<variable name="assistant" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="DBSiegeChallengeArg">
		<variable name="battle_id" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="attacker" type="int" default="0"/>
		<variable name="master" type="int" default="0"/>
		<variable name="day" type="char" default="0"/>
		<variable name="begin_time" type="int" default="0"/>
		<variable name="attach_obj_id" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSiegeChallengeRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="challenger" type="std::vector&lt;GChallenger&gt;" default="std::vector&lt;GChallenger&gt;()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBSiegeChallenge" type="962" maxsize="2097152" prior="1" timeout="40"/>

	<rpcdata name="DBSiegeSetAssistantArg">
		<variable name="battle_id" type="int" default="0"/>
		<variable name="attacker" type="int" default="0"/>
		<variable name="faction_name" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSiegeSetAssistantRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="pre_assistant" type="int" default="0"/>
		<variable name="assistant" type="int" default="0"/>
		<variable name="master" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBSiegeSetAssistant" type="963" maxsize="1024" prior="1" timeout="40"/>

	<rpcdata name="DBSiegeEndArg">
		<variable name="battle_id" type="int" default="0"/>
		<variable name="result" type="int" default="0"/>
		<variable name="owner" type="int" default="0"/>
		<variable name="attacker" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBSiegeEndRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBSiegeEnd" type="964" maxsize="128" prior="1" timeout="40"/>

	<rpcdata name="DBSiegeLoadArg">
		<variable name="noparm" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBSiegeLoadRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="cities" type="std::vector&lt;GCity&gt;" default="std::vector&lt;GCity&gt;()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBSiegeLoad" type="965" maxsize="10240" prior="1" timeout="40"/>

	<protocol name="SiegeListGet" type="966" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="SiegeListGet_Re" type="967" maxsize="2048" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="cities" type="std::vector&lt;int&gt;" default="std::vector&lt;int&gt;()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="DBSiegePutDetailArg">
		<variable name="battle_id" type="int" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="detail" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSiegePutDetailRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBSiegePutDetail" type="968" maxsize="10240" prior="1" timeout="40"/>

	<rpcdata name="DBSiegeGetArg">
		<variable name="battle_id" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBSiegeGetRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="city_info" type="GCity" default="GCity()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBSiegeGet" type="969" maxsize="10240" prior="1" timeout="40"/>

	<protocol name="SiegeEnter" type="970" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol name="SiegeEnter_Re" type="971" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="battle_id" type="int" default="0"/>
		<variable name="owner" type="GFactionMaster" default="GFactionMaster()" attr="ref"/>
		<variable name="attacker" type="GFactionMaster" default="GFactionMaster()" attr="ref"/>
		<variable name="assistant" type="GFactionMaster" default="GFactionMaster()" attr="ref"/>
		<variable name="end_time" type="int" default="0" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol name="SiegeTop" type="972" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="SiegeTopRecord" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="role_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="kills" type="int" default="0"/>
		<variable name="deaths" type="int" default="0"/>
	</rpcdata>
	<protocol name="SiegeTop_Re" type="973" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="battle_id" type="int" default="0"/>
		<variable name="owner_top" type="std::vector&lt;SiegeTopRecord>" default="std::vector&lt;SiegeTopRecord>()" attr="ref"/>
		<variable name="attacker_top" type="std::vector&lt;SiegeTopRecord>" default="std::vector&lt;SiegeTopRecord>()" attr="ref"/>
		<variable name="assistant_top" type="std::vector&lt;SiegeTopRecord>" default="std::vector&lt;SiegeTopRecord>()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="SiegeKill" maxsize="64" prior="1" type="974">
		<variable name="mapid" type="int"/>
		<variable name="killer" type="int"/>
		<variable name="victim" type="int" default="0"/>
		<variable name="victim_faction" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="SiegeBroadcat" maxsize="256" prior="1" type="975">
		<variable name="fid" type="int"/>
		<variable name="msg_type" type="int" attr="0"/>
		<variable name="msg" type="Octets" default="Octets(0)" attr="ref"/>
	</protocol>

	<protocol debug="0" name="GSiegeStatus" maxsize="256" prior="1" type="976">
		<variable name="battle_id" type="int"/>
		<variable name="owner" type="int" default="0"/>
		<variable name="occupy_time" type="int" default="0"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in OpenBanquet System is 7150 - 7200					    -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="OpenBanquetServer" attr="vector">
		<variable name="map_type" type="int" default="0"/>
		<variable name="map_tag" type="int" default="-1"/>
		<variable name="player_limit" type="int" default="0"/><!--单方人数上限-->
	</rpcdata>
	<rpcdata name="GOpenBanquetInfo">
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
		<variable name="attack_number" type="int" attr="int" default="0"/>
		<variable name="defend_number" type="int" attr="int" default="0"/>
		<variable name="starttime" type="int" attr="int" default="0"/>
	</rpcdata>
	<rpcdata name="GOpenBanquetRoleInfo">
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>

	<!--Client 相关-->
	
	<protocol name="OpenBanquetNotify_Re" type="7250" maxsize="20" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="retcode" type="unsigned short"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="OpenBanquetCancel" type="7251" maxsize="20" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
		<variable name="roleid" type="int" default="0"/>
		<variable name="isqueue" type="char" default="0"/> <!--1:排队取消，0：进入取消-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--报名返回-->
	<protocol name="OpenBanquetJoin_Re" type="7252" maxsize="100" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="retcode" type="unsigned short"/>
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
		<variable name="queue_number" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="OpenBanquetEnter" type="7253" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="OpenBanquetEnter_Re" type="7254" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="endtime" type="int" attr="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>	
	</protocol>
	<!--拉人进入-->
	<protocol name="OpenBanquetDrag_Re" type="7255" maxsize="100" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>	
	</protocol>
	<!--排队人数请求-->
	<protocol name="OpenBanquetQueueCount" type="7256" maxsize="20" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
	</protocol>

	<protocol name="OpenBanquetQueueCount_Re" type="7257" maxsize="20" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
		<variable name="queue_number" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--战场角色信息请求-->
	<protocol name="OpenBanquetGetField" type="7258" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="OpenBanquetGetField_Re" type="7259" maxsize="20480" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="red_team" type="std::vector&lt;GOpenBanquetRoleInfo&gt;" attr="ref" default="std::vector&lt;GOpenBanquetRoleInfo&gt;()"/>
		<variable name="blue_team" type="std::vector&lt;GOpenBanquetRoleInfo&gt;" attr="ref" default="std::vector&lt;GOpenBanquetRoleInfo&gt;()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>


	<!--GS-->
	<protocol name="GOpenBanquetLeave" type="7260" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
	</protocol>
	<!--流水席延迟关闭-->
	<protocol name="GOpenBanquetClose" type="7261" maxsize="64" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
	</protocol>
	<!--报名-->
	<protocol name="GOpenBanquetJoin" type="7262" maxsize="100" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="is_team" type="char"/>
		<variable name="roles" type="std::vector&lt;int&gt;" default="std::vector&lt;int&gt;()" attr="ref"/>
	</protocol>
	<!--角色删除-->
	<protocol name="GOpenBanquetRoleDel" type="7263" maxsize="100" prior="1">
		<variable name="map_id" type="int"/><!--服务器间world_tag-->
		<variable name="roleid" type="int"/>
		<variable name="faction" type="char" default="0"/>
	</protocol>

	<!--Central Delivery-->
	<protocol name="COpenBanquetJoin" type="7270" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="iscross" type="char" default="0"/>	
	</protocol>

	<protocol name="OpenBanquetLogout" type="7271" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/><!--服务器间world_tag-->
	</protocol>




	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in Territory System is 1051 - 1100					    -->
	<!--  ****************************************************************************************************  -->
	<!--GS 相关-->
	<protocol name="GTerritoryChallenge" type="1051" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="territoryid" type="int"/>
		<variable name="factionid" type="unsigned int"/>
		<variable name="itemid" type="int" default="-1"/>
		<!--variable name="item_pos" type="int" default="-1"/--><!--银票物品起始位置-->
		<variable name="item_count" type="int" default="0"/><!--追加银票个数-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<!--variable name="localsid" type="unsigned int" default="0"/-->
	</protocol>

	<rpcdata name="TerritoryServer" attr="vector">
		<variable name="map_type" type="int" default="0"/><!--3:低级2:中级1:高级-->
		<variable name="map_tag" type="int" default="-1"/>
		<variable name="player_limit" type="int" default="0"/><!--单方人数上限-->
	</rpcdata>
	<protocol name="TerritoryServerRegister" type="1052" maxsize="2048" prior="1">
		<variable name="gsid" type="int"/>
		<variable name="fields" type="TerritoryServerVector" attr="ref"/>
	</protocol>

	<protocol name="SendTerritoryStart" type="1053" maxsize="32" prior="1">
		<variable name="territoryid" type="int"/>
		<variable name="map_tag" type="int" default="-1"/>
		<variable name="defender" type="unsigned int" default="0"/>
		<variable name="attacker" type="unsigned int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
	</protocol>
	<protocol name="SendTerritoryStart_Re" type="1054" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<!--variable name="gsid" type="int"/-->
		<variable name="territoryid" type="int" default="0"/>
		<!--variable name="map_tag" type="int" default="-1"/-->
	</protocol>

	<protocol name="GTerritoryEnd" type="1055" maxsize="32" prior="1">
		<variable name="territoryid" type="int"/>
		<variable name="result" type="int" default="0"/><!--2:防守方胜利1:进攻方胜-->
	</protocol>

	<protocol name="GTerritoryEnter" type="1056" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="territoryid" type="int" default="0"/>
		<!--variable name="isassistant" type="char" default="0"/--><!--0:不是佣兵1:是佣兵-->
		<!--variable name="localsid" type="unsigned int" default="0"/-->
	</protocol>
	<protocol name="GTerritoryLeave" type="1057" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="territoryid" type="int" default="0"/>
		<variable name="map_tag" type="int" default="-1"/>
		<variable name="scalex" type="float" default="0.0f"/>
		<variable name="scaley" type="float" default="0.0f"/>
		<variable name="scalez" type="float" default="0.0f"/>
	</protocol>
	<rpcdata name="GTerritoryItemGetArg">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="territoryid" type="int" default="0"/>
		<variable name="itemtype" type="char" default="-1"/><!--0:拥兵证1:宣战失败金返还2:胜利金奖励2:神器-->
		<variable name="itemid" type="int" default="-1"/><!--拥兵证或银票id-->
		<variable name="item_count" type="int" default="0"/>
		<variable name="money" type="int" default="0"/><!--宣战银票换算出来的小数部分转化成money-->
	</rpcdata>
	<rpcdata name="GTerritoryItemGetRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="itemid" type="int" default="-1"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GTerritoryItemGet" type="1058" maxsize="64" prior="1" timeout="20"/>
	<rpcdata name="TerritoryOwner" attr="vector">
		<variable name="territoryid" type="int" default="0"/>
		<variable name="territorytype" type="int" default="0"/>
		<variable name="owner" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol name="SyncTerritoryList" type="1059" maxsize="1024" prior="1">
		<variable name="tlist" type="TerritoryOwnerVector" attr="ref"/>
	</protocol>
	<!--客户端相关-->
	<protocol name="TerritoryMapGet" type="1060" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<rpcdata name="TerritoryBrief" attr="vector">
		<variable name="territoryid" type="int" default="0"/>
		<variable name="owner" type="unsigned int" default="0"/>
		<variable name="defender" type="unsigned int" default="0"/>
		<variable name="attacker" type="unsigned int" default="0"/>
		<variable name="flag" type="char" default="-1"/><!-- -1:战斗未开启0:战斗中1:守方胜2:攻方胜-->
		<variable name="color" type="int" default="0"/>
		<variable name="battle_time" type="int" default="0"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="assis_num" type="int" default="0"/>
		<variable name="assis_drawn_num" type="int" default="0"/>
		<variable name="defender_num" type="int" default="0"/>
		<variable name="attacker_num" type="int" default="0"/>
		<variable name="player_limit" type="int" default="0"/><!--单方人数上限-->
		<variable name="rand_award_itemid" type="int" default="0"/>
		<variable name="rand_award_count" type="int" default="0"/>
		<variable name="rand_award_drawn" type="char" default="1"/><!--0：未领取1:已领取-->
		<variable name="challenged_by_selffaction" type="char" default="0"/><!--该领土是否被自己所在帮宣战了-->
		<variable name="battle_end_time" type="int" default="0"/>
	</rpcdata>
	<protocol name="TerritoryMapGet_Re" type="1061" maxsize="8192" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="status" type="int" default="0"/>
		<variable name="tlist" type="TerritoryBriefVector" default="TerritoryBriefVector()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol name="TerritoryChallenge_Re" type="1062" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="territoryid" type="int" default="0"/>
		<variable name="itemcount" type="int" default="0"/><!--累计宣战银票总个数-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol name="TerritoryEnter_Re" type="1063" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol name="TerritoryLeave_Re" type="1064" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="TerritoryEnterRemind" type="1070" maxsize="32" prior="1">
		<variable name="territoryid" type="int" />
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="TerritoryScoreUpdate" type="1071" maxsize="32" prior="1">
		<variable name="factionid" type="unsigned int" />
		<variable name="territoryscore" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--DB相关-->
	<rpcdata name="DBTerritoryListLoadArg">
		<variable name="default_ids" type="std::vector&lt;int>" attr="ref"/>
	</rpcdata>
	<rpcdata name="GTChallenge" attr="vector">
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="itemcount" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GTerritoryInfo" attr="vector">
		<variable name="id" type="int" default="0"/>
		<!--variable name="status" type="int" default="0"/-->
		<variable name="owner" type="unsigned int" default="0"/>
		<variable name="occupy_time" type="int" default="0"/>
		<variable name="color" type="int" default="0"/>
		<variable name="challengelist" type="GTChallengeVector" default="GTChallengeVector()" attr="ref"/>
		<variable name="defender" type="unsigned int" default="0"/>
		<variable name="success_challenge" type="GTChallenge" default="GTChallenge()" attr="ref"/>
		<variable name="success_award" type="float" default="0.0"/>
		<variable name="start_time" type="int" default="0"/>
		<!--variable name="timeout" type="int" default="0"/-->
		<variable name="assis_drawn_num" type="int" default="0"/>
		<variable name="rand_award_itemid" type="int" default="0"/>
		<variable name="rand_award_itemcount" type="int" default="0"/>
		<variable name="rand_award_drawn" type="char" default="1"/><!--0:未领取1:已领取-->
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GTerritoryStore">
		<variable name="status" type="int" default="0"/>
		<variable name="tlist" type="GTerritoryInfoVector" default="GTerritoryInfoVector()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBTerritoryListLoadRes">
		<variable name="retcode" type="int"/>
		<variable name="store" type="GTerritoryStore" default="GTerritoryStore()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBTerritoryListLoad" type="1065" maxsize="131072" prior="1" timeout="20"/>

	<rpcdata name="DBTerritoryListSaveArg">
		<variable name="reason" type="int" default="0"/>
		<variable name="store" type="GTerritoryStore" default="GTerritoryStore()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBTerritoryListSaveRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="DBTerritoryListSave" type="1066" maxsize="131072" prior="1" timeout="20"/>

	<rpcdata name="DBTerritorySaveArg">
		<variable name="reason" type="int" default="0"/>
		<variable name="territory" type="GTerritoryInfo" default="GTerritoryInfo()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBTerritorySaveRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="DBTerritorySave" type="1069" maxsize="4096" prior="1" timeout="20"/>

	<rpcdata name="DBTerritoryChallengeArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="territoryid" type="int" default="0"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<!--variable name="item_pos" type="int" default="0"/-->
		<variable name="item_count" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" attr="ref" default="GMailSyncData()"/>
	</rpcdata>
	<rpcdata name="DBTerritoryChallengeRes">
		<variable name="retcode" type="int"/>
		<variable name="syncdata" type="GMailSyncData" attr="ref" default="GMailSyncData()"/>
	</rpcdata>
	<rpc debug="0" name="DBTerritoryChallenge" type="1067" maxsize="2097152" prior="1" timeout="20"/>
	
	<!--  ****************************************************************************************************  -->
	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in Cross Server System is 1101 - 1150					    -->
	<!--  ****************************************************************************************************  -->
	<!--GS 相关-->
	<protocol name="TryChangeDS" type="1101" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
		<variable name="dst_gsid" type="int" default="0"/> <!--目标线号，服务于跨服回原服-->
	</protocol>
	<protocol name="PlayerChangeDS" type="1102" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
	</protocol>
	<protocol name="PlayerChangeDS_Re" type="1103" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="gsid" type="int" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
		<variable name="random" type="Octets" attr="ref" default="Octets()"/>
		<variable name="dst_zoneid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--客户端 相关-->
	<protocol name="ChangeDS_Re" type="1104" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol name="KeyReestablish" type="1105" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
		<variable name="src_zoneid" type="int" default="0"/>
		<variable name="random" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<!--DB 相关-->
	<rpcdata name="UserPlayerData">
		<variable name="user" type="User" />
		<variable name="base" type="GRoleBase" attr="ref"/>
		<variable name="base2" type="GRoleBase2" attr="ref"/>
		<variable name="status" type="GRoleStatus" attr="ref"/>
		<variable name="inventory" type="GRolePocket" attr="ref"/>
		<variable name="storehouse" type="GRoleStorehouse" attr="ref"/>
		<variable name="task" type="GRoleTask" attr="ref"/>
		<variable name="achievement" type="GRoleAchievement" attr="ref"/>
		<variable name="snsplayerinfo" type="GSNSPlayerInfoCache" attr="ref"/>
		<variable name="onlineaward" type="Octets" attr="ref"/>
		<variable name="rolenamehis" type="GRoleNameHisVector" />
	</rpcdata>
	<rpcdata name="FetchPlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
	</rpcdata>
	<rpcdata name="FetchPlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="data"  type="UserPlayerData" attr="ref" default="UserPlayerData()"/>
	</rpcdata>
	<rpc debug="0" name="FetchPlayerData" type="1106" maxsize="2097152" prior="1" timeout="30"/>
	<rpcdata name="ActivatePlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="ActivatePlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="ActivatePlayerData" type="1107" maxsize="32" prior="1" timeout="20"/>
	<rpcdata name="TouchPlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="TouchPlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="TouchPlayerData" type="1108" maxsize="32" prior="1" timeout="20"/>
	<rpcdata name="DelPlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DelPlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DelPlayerData" type="1124" maxsize="32" prior="1" timeout="20"/>
	<protocol name="LoadExchange" type="1109" maxsize="16384" prior="1">
		<variable name="zoneid" type="int" />
		<variable name="version" type="unsigned int" />
		<variable name="edition" type="Octets" />
		<variable name="server_limit" type="int" default="0"/>
		<variable name="server_count" type="int" default="0"/>
		<variable name="line_status" type="LinePlayerLimitVector" attr="ref" default="LinePlayerLimitVector()"/>
	</protocol>
	<protocol name="SendDataAndIdentity" type="1110" maxsize="1048576" prior="1">
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" default="0" />
		<variable name="src_zoneid" type="int" default="0" />
		<variable name="ip" type="int" default="0" />
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="account" type="Octets" attr="ref" default="Octets()"/>
		<variable name="random" type="Octets" attr="ref" default="Octets()"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
		<variable name="data"  type="UserPlayerData" attr="ref" default="UserPlayerData()"/>
		<variable name="data_timestamp" type="int" default="0" />
		<variable name="logintime" type="int" default="0"/>
		<variable name="au_IsGM" type="char" default="0"/>
		<variable name="au_func" type="int" default="0"/>
		<variable name="au_funcparm" type="int" default="0"/>
		<variable name="auth" type="ByteVector" attr="ref" default="ByteVector()"/>
		<variable name="forbid_talk" type="GRoleForbid" attr="ref" default="GRoleForbid()"/>
	</protocol>
	<protocol name="SendDataAndIdentity_Re" type="1115" maxsize="32" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0" />
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
		<variable name="dst_zoneid" type="int" default="0" />
	</protocol>

	<rpcdata name="FreezePlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="FreezePlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="FreezePlayerData" type="1112" maxsize="32" prior="1" timeout="30"/>
	<rpcdata name="PlayerIdentityMatchArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="ip" type="int" default="0"/>
		<variable name="src_zoneid" type="int" default="0"/>
		<variable name="random" type="Octets" attr="ref" default="Octets()"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="PlayerIdentityMatchRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="account" type="Octets" attr="ref" default="Octets()"/>
		<variable name="user" type="User" attr="ref"/>
		<variable name="roleinfo" type="GRoleInfo" attr="ref"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="district_id" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="PlayerIdentityMatch" type="1113" maxsize="2097152" prior="1" timeout="30"/>
	<rpcdata name="SavePlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="src_zoneid" type="int" default="0" />
		<variable name="data"  type="UserPlayerData" attr="ref" default="UserPlayerData()"/>
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
		<variable name="data_timestamp" type="int" default="0" />
	</rpcdata>
	<rpcdata name="SavePlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets()"/><!--不为空 表示有名字改动-->
	</rpcdata>
	<rpc debug="0" name="SavePlayerData" type="1114" maxsize="1048576" prior="1" timeout="30"/>
	<protocol debug="0" name="DSAnnounceIdentity" maxsize="128" prior="1" type="1116">
		<variable name="zoneid" type="int"/>
		<variable name="version" type="unsigned int" />
		<variable name="edition" type="Octets"/>
	</protocol>
	<protocol name="RemoteLoginQuery" type="1117" maxsize="256" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" default="0" />
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
	</protocol>
	<protocol name="RemoteLoginQuery_Re" type="1118" maxsize="64" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" default="0" />
		<variable name="flag" type="char" default="0"/> <!--1:原服到跨服 2:跨服到原服-->
	</protocol>
	<protocol name="RemoteLogout" type="1119" maxsize="32" prior="1">
		<variable name="userid" type="int"/>
	</protocol>
	<protocol name="KickoutRemoteUser" type="1120" maxsize="32" prior="1">
		<variable name="userid" type="int"/>
		<variable name="zoneid" type="int" default="0"/>
	</protocol>
	<protocol name="KickoutRemoteUser_Re" type="1121" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="userid" type="int" default="0"/>
	</protocol>
	<protocol name="GetRemoteRoleInfo" type="1122" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" default="0"/>
		<variable name="zoneid" type="int" default="0"/>
	</protocol>
	<protocol name="GetRemoteRoleInfo_Re" type="1123" maxsize="16384" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" />
		<variable name="value" type="GRoleInfo"/>
	</protocol>
	<!--  ****************************************************************************************************  -->
	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in  System is 1151 - 1250					    -->
	<!--  ****************************************************************************************************  -->
	<!--gs相关-->
	<rpcdata name="KingdomBattleInfo" attr="vector">
		<variable name="fieldtype" type="char" default="0"/><!--1:主战场 2:辅战场-->
		<variable name="tagid" type="int" default="0"/>
	</rpcdata>
	<protocol name="GKingdomBattleRegister" type="1151" maxsize="256" prior="1">
		<variable name="gsid" type="int"/>
		<variable name="fields" type="KingdomBattleInfoVector" attr="ref"/>
	</protocol>
	<protocol name="KingdomBattleStart" type="1152" maxsize="128" prior="0">
		<variable name="fieldtype" type="char"/>
		<variable name="tagid" type="int" default="0"/>
		<variable name="defender" type="int" default="0"/><!--守方帮派id-->
		<variable name="attackers" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="def_name" type="Octets" default="Octets()"/>
	</protocol>
	<protocol name="KingdomBattleStart_Re" type="1153" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="fieldtype" type="char"/>
		<variable name="tagid" type="int" default="0"/>
		<variable name="defender" type="int" default="0"/><!--守方帮派id-->
		<variable name="attackers" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="def_name" type="Octets" default="Octets()"/>
	</protocol>
	<protocol name="KingdomBattleStop" type="1160" maxsize="128" prior="0"><!--异常情况通知 gs 强制关闭战场-->
		<variable name="fieldtype" type="char"/>
		<variable name="tagid" type="int" default="0"/>
	</protocol>
	<protocol name="GKingdomAttackerFail" type="1158" maxsize="32" prior="1">
		<variable name="fieldtype" type="char"/>
		<variable name="tagid" type="int"/>
		<variable name="failer" type="int" default="0"/>
	</protocol>
	<protocol name="GKingdomBattleHalf" type="1157" maxsize="128" prior="1">
		<variable name="fieldtype" type="char"/>
		<variable name="tagid" type="int"/>
		<variable name="result" type="char" default="0"/><!--1 守方胜 2 攻方胜-->
		<variable name="failattackers" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
	</protocol>
	<protocol name="GKingdomBattleEnd" type="1154" maxsize="32" prior="1">
		<variable name="fieldtype" type="char"/>
		<variable name="tagid" type="int"/>
		<variable name="winnerid" type="int" default="0"/><!--胜方帮派id-->
	</protocol>
	<protocol name="GKingdomBattleEnter" type="1155" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="fieldtype" type="char" default="0"/>
	</protocol>
	<protocol name="GKingdomBattleLeave" type="1156" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="fieldtype" type="char" default="0"/>
		<variable name="tagid" type="int" default="0"/>
		<variable name="map_tag" type="int" default="-1"/><!--退出之后的地图号-->
		<variable name="scalex" type="float" default="0.0f"/>
		<variable name="scaley" type="float" default="0.0f"/>
		<variable name="scalez" type="float" default="0.0f"/>
	</protocol>
	<rpcdata name="KingdomFunctionary">
		<variable name="roleid" type="int" default="0"/>
		<variable name="title" type="char" default="0"/><!--职位-->
		<variable name="rolename" type="Octets" default="Octets()"/>
		<variable name="privileges_mask" type="unsigned int" default="0"/>
		<variable name="online" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="KingdomInformation">
		<variable name="kingfaction" type="int" default="0"/>
		<variable name="points" type="int" default="0"/><!--国家积分-->
		<variable name="functionaries" type="std::vector&lt;KingdomFunctionary&gt;" attr="ref" default="std::vector&lt;KingdomFunctionary&gt;()"/><!--包含国王和王后 如果有-->
		<variable name="task_type" type="int" default="0"/><!--国王发布的任务类型-->
	</rpcdata>
	<protocol name="KingdomInfoSync" type="1163" maxsize="1024" prior="0">
		<variable name="info" type="KingdomInformation" attr="ref"/>
	</protocol>
	<protocol name="KingdomTitleSync" type="1185" maxsize="64" prior="0">
		<variable name="roleid" type="int"/> 
		<variable name="self_title" type="char"/> 
	</protocol>
	<protocol name="GKingdomPointChange" type="1164" maxsize="32" prior="1">
		<variable name="delta" type="int"/>
	</protocol>
	<protocol name="KingdomPointSync" type="1165" maxsize="32" prior="0">
		<variable name="value" type="int"/>
	</protocol>
	<protocol name="GKingTryCallGuards" type="1189" maxsize="128" prior="1">
		<variable name="roleid" type="int"/><!--国王 roleid-->
		<variable name="mapid" type="int" default="0"/> <!--国王所在地图和位置-->
		<variable name="posx" type="float" default="0.0f"/>
		<variable name="posy" type="float" default="0.0f"/>
		<variable name="posz" type="float" default="0.0f"/>
	</protocol>
	<protocol name="KingCallGuard" type="1192" maxsize="128" prior="1">
		<variable name="roleid" type="int"/><!--亲卫 roleid-->
		<variable name="lineid" type="int" default="0"/> <!--亲卫要前往的线号-->
		<variable name="mapid" type="int" default="0"/> <!--亲卫要前往的地图和位置-->
		<variable name="posx" type="float" default="0.0f"/>
		<variable name="posy" type="float" default="0.0f"/>
		<variable name="posz" type="float" default="0.0f"/>
	</protocol>
	<protocol name="QueenOpenBath" type="1196" maxsize="64" prior="1">
		<variable name="dummy" type="int"/>
	</protocol>
	<protocol name="QueenCloseBath" type="1197" maxsize="64" prior="1">
		<variable name="dummy" type="int"/>
	</protocol>
	<protocol name="SyncBathTimes" type="1198" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="times" type="int" default="0"/>
	</protocol>
	<protocol name="GKingIssueTask" type="1199" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="task_type" type="int" default="0"/>
	</protocol>
	<protocol name="GKingIssueTask_Re" type="1200" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="task_type" type="int" default="0"/>
	</protocol>
	<!--protocol name="KingTaskSync" type="1202" maxsize="64" prior="1">
		<variable name="task_type" type="int" default="0"/>
	</protocol-->
	<protocol name="GKingGetReward" type="1208" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="GKingGetReward_Re" type="1210" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
	</protocol>

	<!--db 相关-->
	<rpcdata name="GKingdomFunctionary">
		<variable name="roleid" type="int" default="0"/>
		<variable name="title" type="char" default="0"/><!--职位-->
		<variable name="rolename" type="Octets" default="Octets()"/>
		<variable name="privileges_mask" type="unsigned int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GKingdomPeriodLimit">
		<variable name="func_type" type="int" default="0"/>
		<variable name="period_type" type="int" default="0"/>
		<variable name="period_times" type="int" default="0"/>
		<variable name="last_timestamp" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GKingdomHistory">
		<variable name="faction" type="int" default="0"/>
		<variable name="points" type="int" default="0"/>
		<variable name="win_times" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GKingdomInfo">
		<variable name="king" type="GKingdomFunctionary" default="GKingdomFunctionary()"/>
		<variable name="kinggender" type="char" default="0"/>
		<variable name="queen" type="GKingdomFunctionary" default="GKingdomFunctionary()"/>
		<variable name="kingdomname" type="Octets" default="Octets()"/>
		<variable name="kingfaction" type="int" default="0"/>
		<variable name="kingfacname" type="Octets" default="Octets()"/>
		<variable name="announce" type="Octets" default="Octets()"/>
		<variable name="points" type="int" default="0"/><!--国家积分-->
		<variable name="win_times" type="int" default="0"/><!--连任次数-->
		<variable name="occupy_time" type="int" default="0"/>
		<variable name="reserved" type="char" default="0"/>
		<variable name="functionaries" type="std::vector&lt;GKingdomFunctionary&gt;" attr="ref" default="std::vector&lt;GKingdomFunctionary&gt;()"/>
		<variable name="limits" type="std::vector&lt;GKingdomPeriodLimit&gt;" attr="ref" default="std::vector&lt;GKingdomPeriodLimit&gt;()"/>
		<variable name="history" type="std::vector&lt;GKingdomHistory&gt;" attr="ref" default="std::vector&lt;GKingdomHistory&gt;()"/>
		<variable name="taskstatus" type="int" default="0"/>
		<variable name="tasktype" type="int" default="0"/><!--国王发布的任务类型 1 2 3 4-->
		<variable name="taskissuetime" type="int" default="0"/><!--国王发布任务时间 也存于全局变量中-->
		<variable name="taskpoints" type="int" default="0"/><!--国王发布的任务为国王赢得的积分 也存于全局变量中-->
		<variable name="reward_mask" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBKingdomLoadArg">
		<variable name="dummy" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBKingdomLoadRes">
		<variable name="retcode" type="int"/>
		<variable name="info" type="GKingdomInfo" default="GKingdomInfo()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBKingdomLoad" type="1159" maxsize="131072" prior="1" timeout="20"/>

	<rpcdata name="DBKingdomSaveArg">
		<variable name="info" type="GKingdomInfo" default="GKingdomInfo()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBKingdomSaveRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBKingdomSave" type="1187" maxsize="131072" prior="1" timeout="20"/>

	<!--rpcdata name="DBKingdomBattleEndArg">
		<variable name="result" type="char" default="0"/>
		<variable name="win_faction" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBKingdomBattleEndRes">
		<variable name="new_king" type="int" default="0"/>
		<variable name="new_kingname" type="Octets" default="Octets()"/>
	</rpcdata>
	<rpc debug="0" name="DBKingdomBattleEnd" type="1176" maxsize="128" prior="1" timeout="20"/-->

	<rpcdata name="DBKingdomSetWinnerArg">
		<variable name="result" type="char" default="0"/><!--1 守方胜 2 攻方胜-->
		<variable name="win_faction" type="int" default="0"/>
		<variable name="task_points" type="int" default="0"/><!--国王任务已经赢得的积分-->
	</rpcdata>
	<rpcdata name="DBKingdomSetWinnerRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="newinfo" type="GKingdomInfo" default="GKingdomInfo()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBKingdomSetWinner" type="1177" maxsize="131072" prior="1" timeout="20"/>

	<!--rpcdata name="DBDebugSetFactionMasterArg">
		<variable name="fid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="scale" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="DBDebugSetFactionMasterRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBDebugSetFactionMaster" type="1178" maxsize="128" prior="1" timeout="20"/-->

	<rpcdata name="DBKingdomAppointArg">
		<variable name="candidate_name" type="Octets" default="Octets()"/> 
		<variable name="title" type="char" default="0"/> 
	</rpcdata>
	<rpcdata name="DBKingdomAppointRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="candidate_id" type="int" default="0"/> 
	</rpcdata>
	<rpc debug="0" name="DBKingdomAppoint" type="1182" maxsize="128" prior="1" timeout="20"/>
	<rpcdata name="DBKingdomDischargeArg">
		<variable name="candidate_id" type="int" default="0"/> 
		<variable name="title" type="char" default="0"/> 
	</rpcdata>
	<rpcdata name="DBKingdomDischargeRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBKingdomDischarge" type="1183" maxsize="128" prior="1" timeout="20"/>
	<protocol name="UpdateQueen" type="1188" maxsize="128" prior="1">
		<variable name="queen" type="GKingdomFunctionary" attr="ref"/>
	</protocol>
	<rpcdata name="DBKingdomTaskIssueArg">
		<variable name="roleid" type="int" default="0"/> 
		<variable name="king_faction" type="int" default="0"/> 
		<variable name="task_type" type="int" default="0"/> 
		<variable name="task_issue_time" type="int" default="0"/> 
	</rpcdata>
	<rpcdata name="DBKingdomTaskIssueRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBKingdomTaskIssue" type="1205" maxsize="128" prior="1" timeout="20"/>
	<rpcdata name="DBKingdomTaskCloseArg">
		<variable name="dummy" type="int" default="0"/> 
	</rpcdata>
	<rpcdata name="DBKingdomTaskCloseRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBKingdomTaskClose" type="1206" maxsize="128" prior="1" timeout="20"/>
	<rpcdata name="DBKingdomTaskEndArg">
		<variable name="dummy" type="int" default="0"/> 
	</rpcdata>
	<rpcdata name="DBKingdomTaskEndRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBKingdomTaskEnd" type="1207" maxsize="128" prior="1" timeout="20"/>
	<rpcdata name="DBKingGetRewardArg">
		<variable name="roleid" type="int" default="0"/> 
	</rpcdata>
	<rpcdata name="DBKingGetRewardRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/> 
		<variable name="reward_mask" type="int" default="0"/> 
	</rpcdata>
	<rpc debug="0" name="DBKingGetReward" type="1211" maxsize="128" prior="1" timeout="20"/>

	<!-- client 相关-->
	<protocol name="KingdomBattleEnter_Re" type="1161" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol name="KingdomBattleLeave_Re" type="1162" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol name="KingdomAnnounce" type="1166" maxsize="256" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="localsid" type="int"/>
	</protocol>
	<protocol name="KingdomAnnounce_Re" type="1167" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="KingdomAppoint" type="1168" maxsize="64" prior="1">
		<variable name="roleid" type="int"/> 
		<variable name="candidate_name" type="Octets"/> 
		<variable name="title" type="char"/> 
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="KingdomAppoint_Re" type="1169" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> 
		<variable name="candidate" type="int"/> 
		<variable name="title" type="char"/> 
		<variable name="localsid" type="unsigned int"/>
		<variable name="candidate_name" type="Octets"/> 
		<variable name="online" type="unsigned char" default="0"/>
	</protocol>
	<protocol debug="0" name="KingdomDischarge" type="1174" maxsize="128" prior="1">
		<variable name="roleid" type="int"/> 
		<variable name="candidate" type="int"/> 
		<variable name="title" type="char"/> 
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="KingdomDischarge_Re" type="1175" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> 
		<variable name="candidate" type="int"/> 
		<variable name="title" type="char"/> 
		<variable name="localsid" type="unsigned int"/>
	</protocol>

	<protocol name="KingdomSetGameAttri" type="1170" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="flag" type="int"/> 
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="KingdomSetGameAttri_Re" type="1171" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="flag" type="int"/> <!-- 1: 三倍经验 2：双倍掉落-->
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="KingdomGetInfo" type="1172" maxsize="64" prior="1">
		<variable name="roleid" type="int"/> 
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="KingdomClientInfo">
		<variable name="self_title" type="char" default="0"/> 
		<variable name="privileges_mask" type="unsigned int" default="0"/>
		<variable name="king" type="KingdomFunctionary" attr="ref" default="KingdomFunctionary()"/>
		<variable name="queen" type="KingdomFunctionary" attr="ref" default="KingdomFunctionary()"/>
		<variable name="kingdomname" type="Octets" default="Octets()"/><!--国号-->
		<variable name="king_faction" type="int" default="0"/> 
		<variable name="kingfacname" type="Octets" default="Octets()"/><!--国王帮名字-->
		<variable name="announce" type="Octets" default="Octets()"/><!--圣旨-->
		<variable name="points" type="int" default="0"/> 
		<variable name="win_times" type="int" default="0"/><!--连任次数-->
		<variable name="reward_mask" type="int" default="0"/><!--是否领取了奖励-->
		<variable name="functionaries" type="std::vector&lt;KingdomFunctionary&gt;" attr="ref" default="std::vector&lt;KingdomFunctionary&gt;()"/>
		<variable name="kinggender" type="char" default="0"/>
	</rpcdata>
	<protocol debug="0" name="KingdomGetInfo_Re" type="1173" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> 
		<variable name="localsid" type="unsigned int"/>
		<variable name="info" type="KingdomClientInfo" default="KingdomClientInfo()"/>
	</protocol>
	<protocol debug="0" name="KingdomGetTitle" type="1179" maxsize="64" prior="1">
		<variable name="roleid" type="int"/> 
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="KingdomGetTitle_Re" type="1180" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> 
		<variable name="self_title" type="char"/> 
		<variable name="localsid" type="unsigned int"/>
		<variable name="king" type="int"/> 
		<variable name="points" type="int"/>
	</protocol>
	<protocol debug="0" name="KingdomTitleChange" type="1181" maxsize="64" prior="1">
		<variable name="self_title" type="char"/> 
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="KingdomPointChange" type="1184" maxsize="64" prior="1">
		<variable name="points" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="KingdomKingChange" type="1186" maxsize="64" prior="1">
		<variable name="newking" type="int"/> 
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="KingCallGuards_Re" type="1191" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="remain_times" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="KingGuardInviteArg">
		<variable name="kingname" type="Octets" attr="ref" default="Octets(0)" />
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="KingGuardInviteRes">
		<variable name="retcode" type="char" default="0"/>
	</rpcdata>
	<rpc debug="0" name="KingGuardInvite" type="1190" maxsize="64" prior="1" timeout="35"/>
	<protocol name="QueenTryOpenBath" type="1193" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="QueenOpenBath_Re" type="1194" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="QueenOpenBathInviteArg">
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="QueenOpenBathInviteRes">
		<variable name="retcode" type="char" default="0"/>
	</rpcdata>
	<rpc debug="0" name="QueenOpenBathInvite" type="1195" maxsize="64" prior="1" timeout="30"/>
	<protocol name="KingIssueTask_Re" type="1201" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="task_type" type="int" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol name="GetKingTask" type="1203" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GetKingTask_Re" type="1204" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="task_type" type="int" default="0"/>
		<variable name="complete_times" type="int" default="0"/>
		<variable name="task_status" type="int" default="0"/>
		<variable name="task_issue_time" type="int" default="0"/>
	</protocol>
	<protocol name="KingGetReward_Re" type="1209" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in  Touch System is 1251 - 1260					    -->
	<!--  ****************************************************************************************************  -->
	<protocol debug="0" name="GTouchPointExchange" type="1251" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="flag" type="int" default="0"/>
		<variable name="count" type="int" default="0"/>
		<variable name="points_need" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="GTouchPointExchange_Re" type="1252" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="flag" type="unsigned int" default="0"/>
		<variable name="count" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="GetTouchPoint" type="1253" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="GetTouchPoint_Re" type="1254" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int" default="0"/>
		<variable name="points" type="int64_t" default="0"/>
	</protocol>
	<protocol debug="0" name="GetPassportCashAdd" type="1255" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="GetPassportCashAdd_Re" type="1256" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int" default="0"/>
		<variable name="cashadd" type="int64_t" default="0"/>
	</protocol>
	<protocol debug="0" name="TouchPointExchange_Re" type="1257" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="flag" type="unsigned int" default="0"/>
		<variable name="count" type="unsigned int" default="0"/>
		<variable name="new_points" type="int64_t" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<rpcdata name="DBGetTouchOrderArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBGetTouchOrderRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="order" type="int64_t" default="0"/> 
	</rpcdata>
	<rpc debug="0" name="DBGetTouchOrder" type="1258" maxsize="128" prior="1" timeout="20"/>

	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in  Web Mall System is 1261 - 1270					    -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="WebMallFunction" attr="vector">
		<variable name="function_id" type="int" default="0"/> <!--礼包 id-->
		<variable name="name" type="Octets" attr="ref" default="Octets()"/><!--礼包名-->
		<variable name="count" type="int" default="0"/>
		<variable name="price" type="int" default="0"/> <!--礼包折后单价 :分-->
		<variable name="price_before_discount" type="int" default="0"/> <!--礼包原单价-->
		<variable name="goods" type="WebMallGoodsVector" default="WebMallGoodsVector()"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="WebMallGoods" attr="vector">
		<variable name="goods_id" type="int" default="0"/>
		<variable name="count" type="int" default="0"/>
		<variable name="flagmask" type="int" default="0"/><!--0x01:bind -->
		<variable name="timelimit" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<protocol debug="0" name="SysSendMail4" type="8075" maxsize="4096" prior="1">
		<variable name="paytype" type="int"/> <!--1:coupon 2:cash-->
		<variable name="orderid" type="int64_t"/>
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="rolename" type="Octets"/>
		<variable name="mail_title" type="Octets"/>
		<variable name="mail_context" type="Octets"/>
		<variable name="functions" type="WebMallFunctionVector"/>
		<variable name="attach_money" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="SysSendMail4_Re" type="8076" maxsize="64" prior="1">
		<variable name="paytype" type="int"/> <!--1:coupon 2:cash-->
		<variable name="orderid" type="int64_t"/>
		<variable name="retcode" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t"/>
	</protocol>
	<rpcdata name="WebOrder" attr="vector">
		<variable name="orderid" type="int64_t" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="paytype" type="int" default="0"/> <!--1:coupon 2:cash-->
		<variable name="functions" type="WebMallFunctionVector" default="WebMallFunctionVector()"/>
		<variable name="status" type="int" default="0"/><!--0:未领取 1:已领取-->
		<variable name="timestamp" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<!--rpcdata name="UserWebOrder">
		<variable name="unprocessed_orders" type="std::vector&lt;int64_t&gt;" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata-->
	<!--gs相关-->
	<rpcdata name="GetCashAvailArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="flag" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GetCashAvailRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="cash_avail" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GetCashAvail" type="1261" maxsize="64" prior="1" timeout="20"/>
	<protocol debug="0" name="WebOrderNotice" type="1262" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="weborders" type="WebOrderVector" attr="ref"/>
	</protocol>
	<!--gamedbd 相关-->
	<rpcdata name="DBSaveWebOrderArg">
		<variable name="paytype" type="int" default="0"/> <!--1:coupon 2:cash-->
		<variable name="orderid" type="int64_t" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="functions" type="WebMallFunctionVector" attr="ref" default="WebMallFunctionVector()"/>
		<variable name="moneyneed" type="int" default="0"/>
		<variable name="ongame" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="DBSaveWebOrderRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="weborders" type="WebOrderVector" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBSaveWebOrder" type="1263" maxsize="1024" prior="1" timeout="30"/>
	<!--  ****************************************************************************************************  -->

	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in  FactionBase System is 1271 - 					    -->
	<!--  ****************************************************************************************************  -->
	<!--client 相关-->
	<protocol debug="0" name="GetFactionDynamic" type="1271" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="pageid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="GetFactionDynamic_Re" type="1272" maxsize="65536" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="pageid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="dynamic" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
		<variable name="totalsize" type="int" default="0"/>
	</protocol>
	<!--protocol debug="0" name="GetFactionMsg" type="1273" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="pageid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="FactionMsgItem">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="msg" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<protocol debug="0" name="GetFactionMsg_Re" type="1274" maxsize="65536" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="pageid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="msgs" type="std::vector&lt;FactionMsgItem&gt;" attr="ref" default="std::vector&lt;FactionMsgItem&gt;()"/>
		<variable name="totalsize" type="int" default="0"/>
		<variable name="haspost" type="char" default="0"/>
	</protocol-->
	<!--protocol debug="0" name="FactionPostMsg" type="1275" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="msg" type="Octets" attr="ref" default="Octets()"/>
		<variable name="repost" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionPostMsg_Re" type="1276" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="repost" type="char" default="0"/>
	</protocol-->
	<protocol debug="0" name="CreateFacBase" type="1281" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="CreateFacBase_Re" type="1282" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="enterable" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FacBaseEnter_Re" type="1285" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GetFacActTopTable" type="1287" maxsize="32" prior="1">
		<variable name="pageid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="GetFacActTopTable_Re" type="1288" maxsize="16384" prior="1"><!--npc 处取帮派活跃度周榜-->
		<variable name="pageid" type="int"/>
		<variable name="maxsize" type="int"/>
		<variable name="selfrank" type="int"/>
		<variable name="items" type="std::vector&lt;GTopItem&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="can_create_base" type="char" default="0"/>
	</protocol>
	<protocol name="FacBaseDataSend" type="1300" maxsize="65536" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="base_tag" type="int" default="0"/>
		<variable name="data" type="Octets" attr="ref" default="Octets()"/>
		<variable name="linkid" type="int" default="0"/>
	</protocol>
	<protocol name="FacBaseStopNotice" type="1310" maxsize="64" prior="1">
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<!--db 相关-->
	<rpcdata name="GFactionField" attr="vector">
		<variable name="index" type="int" default="0"/>
		<variable name="tid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="status" type="int" default="0"/>
		<variable name="task_id" type="int" default="0"/>
		<variable name="task_count" type="int" default="0"/>
		<variable name="task_need" type="int" default="0"/>
		<variable name="reserved11" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionAuction" attr="vector">
		<variable name="timestamp" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="winner" type="int" default="0"/>
		<variable name="cost" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="status" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/><!--拍卖停止的时间-->
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionAuctionFailer" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="return_coupon" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionAuctionHistory" attr="vector">
		<variable name="event_type" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="cost" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionBase"><!--帮派基地数据-->
		<variable name="activity" type="int" default="0"/><!--帮派活跃度-->
		<variable name="act_uptime" type="int" default="0"/><!--活跃度更新时间-->
		<variable name="status_mask" type="int" default="0"/>
		<variable name="grass" type="int" default="0"/>
		<variable name="mine" type="int" default="0"/>
		<variable name="monster_food" type="int" default="0"/>
		<variable name="monster_core" type="int" default="0"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="fields" type="GFactionFieldVector" default="GFactionFieldVector()" attr="ref"/>
		<variable name="msg" type="Octets" default="Octets()" attr="ref"/>
		<variable name="auctions" type="GFactionAuctionVector" default="GFactionAuctionVector()"/>
		<variable name="auction_failers" type="GFactionAuctionFailerVector" default="GFactionAuctionFailerVector()"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="auction_history" type="GFactionAuctionHistoryVector" default="GFactionAuctionHistoryVector()"/>
		<variable name="reserved8" type="char" default="0"/>
		<variable name="reserved9" type="short" default="0"/>
		<variable name="timestamp" type="int" default="0"/><!--存盘计数-->
		<variable name="reserved11" type="int" default="0"/>
		<variable name="reserved12" type="int" default="0"/>
		<variable name="reserved13" type="int" default="0"/>
		<variable name="reserved14" type="int" default="0"/>
		<variable name="reserved15" type="int" default="0"/>
		<variable name="reserved16" type="int" default="0"/>
		<variable name="reserved17" type="int" default="0"/>
		<variable name="reserved18" type="int" default="0"/>
		<variable name="reserved19" type="int" default="0"/>
		<variable name="reserved20" type="int" default="0"/>
		<variable name="reserved21" type="int" default="0"/>
		<variable name="reserved22" type="int" default="0"/>
		<variable name="reserved23" type="int" default="0"/>
		<variable name="reserved24" type="int" default="0"/>
		<variable name="reserved25" type="int" default="0"/>
		<variable name="reserved26" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCreateFacBaseArg">
		<variable name="fid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCreateFacBaseRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBCreateFacBase" type="1283" maxsize="64" prior="1" timeout="30"/>
	<!--gs 读取帮派基地-->
	<rpcdata name="GetFacBaseArg">
		<variable name="fid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GetFacBaseRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GFactionBase" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="GetFacBase" type="1286" maxsize="4096" prior="1" timeout="20"/>
	<rpcdata name="PutFacBaseArg">
		<variable name="fid" type="int" default="0"/>
		<variable name="value" type="GFactionBase" attr="ref"/>
	</rpcdata>
	<rpcdata name="PutFacBaseRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PutFacBase" type="1289" maxsize="4096" prior="1" timeout="20"/>
	<!--gs 相关-->
	<protocol debug="0" name="GUpdateFacAct" type="1277" maxsize="64" prior="1">
		<variable name="fid" type="int"/>
		<variable name="delta" type="int" default="0"/>
	</protocol>
	<protocol name="GFacBaseServerRegister" type="1278" maxsize="128" prior="1">
                <variable name="gs_id" type="int"/>
		<variable name="base_count" type="int" default="0"/>
	</protocol>
	<!--rpcdata name="StartFacBaseArg">
		<variable name="fid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="StartFacBaseRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="StartFacBase" type="1279" maxsize="1024" prior="1" timeout="40"/-->
	<protocol name="StartFacBase" type="1279" maxsize="128" prior="1">
		<variable name="fid" type="int"/>
	</protocol>
	<protocol name="StartFacBase_Re" type="1280" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="gsid" type="int" default="0"/>
		<variable name="index" type="int" default="0"/>
		<variable name="mall_indexes" type="std::set&lt;int&gt;" default="std::set&lt;int&gt;()" attr="ref"/>
	</protocol>
	<protocol name="GFacBaseEnter" type="1284" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="FacBasePropChange" type="1290" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="prop_type" type="int" default="0"/>
		<variable name="delta" type="int" default="0"/>
		<variable name="base_tag" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FacBaseBuildingProgress" type="1291" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="task_id" type="int" default="0"/>
		<variable name="value" type="int" default="0"/>
		<variable name="base_tag" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FacDynDonateCash" type="1292" maxsize="64" prior="1">
		<variable name="fid" type="int"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="cash" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FacDynPutAuction" type="1293" maxsize="64" prior="1">
		<variable name="fid" type="int"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="task_id" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FacDynWinAuction" type="1294" maxsize="64" prior="1">
		<variable name="fid" type="int"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="cost" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FacDynBuyAuction" type="1295" maxsize="64" prior="1">
		<variable name="fid" type="int"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="time" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FacDynBuildingUpgrade" type="1296" maxsize="128" prior="1">
		<variable name="fid" type="int"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="tid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="cost_grass" type="int" default="0"/>
		<variable name="cost_mine" type="int" default="0"/>
		<variable name="cost_monster_food" type="int" default="0"/>
		<variable name="cost_monster_core" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FacDynBuildingComplete" type="1297" maxsize="64" prior="1">
		<variable name="fid" type="int"/>
		<variable name="tid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FacMallChange" type="1298" maxsize="1024" prior="1">
		<variable name="fid" type="int"/>
		<variable name="mall_indexes" type="std::set&lt;int&gt;" default="std::set&lt;int&gt;()" attr="ref"/>
	</protocol>
	<protocol name="FacMallSync" type="1299" maxsize="65536" prior="1">
		<variable name="malls" type="std::map&lt;int, std::set&lt;int&gt; &gt;" />
	</protocol>
	<protocol name="FacBaseDataDeliver" type="1301" maxsize="65536" prior="1"><!--普通gs通过delivery将消息转发给基地gs-->
		<variable name="roleid" type="int"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="data" type="Octets" attr="ref" default="Octets()"/>
		<variable name="base_tag" type="int" default="0"/>
	</protocol>
	<protocol name="GFacBaseLeave" type="1302" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_tag" type="int" default="-1"/>
		<variable name="scalex" type="float" default="0.0f"/>
		<variable name="scaley" type="float" default="0.0f"/>
		<variable name="scalez" type="float" default="0.0f"/>
	</protocol>
	<protocol name="FacBaseDataBroadcast" type="1303" maxsize="65536" prior="1">
		<variable name="fid" type="int"/>
		<variable name="data" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol name="StartFactionMultiExp" type="1304" maxsize="64" prior="1"><!--基地gs 向 gdeliveryd 同步多倍经验信息-->
		<variable name="fid" type="int"/>
		<variable name="multi" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
	</protocol>
	<protocol name="FactionMultiExpSync" type="1305" maxsize="64" prior="1"><!--delivery 向普通 gs 发放帮派多倍经验通知-->
		<variable name="roleid" type="int"/>
		<variable name="multi" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
	</protocol>
	<protocol name="FacAuctionPut" type="1306" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="fid" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="base_tag" type="int" default="0"/>
	</protocol>
	<protocol name="StopFacBase" type="1307" maxsize="128" prior="1"><!--帮派置为删除状态时要关闭基地-->
		<variable name="fid" type="int"/>
		<variable name="base_tag" type="int" default="0"/>
	</protocol>
	<protocol name="StopFacBase_Re" type="1308" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="fid" type="int"/>
		<variable name="gameid" type="int" default="0"/>
		<variable name="base_tag" type="int" default="0"/>
	</protocol>
	<protocol name="SyncPlayerFacCouponAdd" type="1309" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="fac_coupon_add" type="int64_t" default="0"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<rpcdata name="GTopItem">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="occupation" type="unsigned int" default="0"/>
		<variable name="oldrank" type="short" default="-1"/>
		<variable name="value" type="int64_t" default="0"/>
	</rpcdata>
	<rpcdata name="GTopDetail">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="content" type="Octets" attr="ref" default="Octets()"/>
		<variable name="value1" type="unsigned int" default="0"/>
		<variable name="value2" type="unsigned int" default="0"/>
		<variable name="value3" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="GTopTable">
		<variable name="id" type="int" default="0"/>
		<variable name="maxsize" type="int" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="items" type="std::vector&lt;GTopItem&gt;" attr="ref"/>
		<variable name="weekly" type="int" default="0"/>
		<variable name="items_detail" type="std::vector&lt;GTopDetail&gt;" attr="ref"/>
		<variable name="reserved" type="char" default="0"/>
		<variable name="reserved1" type="short" default="0"/>
	</rpcdata>
	<rpcdata name="GTopTableOld">
		<variable name="id" type="int" default="0"/>
		<variable name="maxsize" type="int" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="items" type="std::vector&lt;GTopItem&gt;" attr="ref"/>
		<variable name="weekly" type="int" default="0"/>
		<variable name="reserved" type="int" default="0"/>
	</rpcdata>

	<protocol name="GetTopTable" type="701" maxsize="32" prior="1">
		<variable name="tableid" type="int"/>
		<variable name="pageid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="GetTopTable_Re" type="702" maxsize="131072" prior="1">
		<variable name="tableid" type="int"/>
		<variable name="pageid" type="int"/>
		<variable name="maxsize" type="int"/>
		<variable name="selfrank" type="int"/>
		<variable name="items" type="std::vector&lt;GTopItem&gt;" attr="ref"/>
		<variable name="details" type="std::vector&lt;GTopDetail&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="roleid" type="unsigned int" default="0"/> <!--跨服中转用-->
	</protocol>
	<protocol name="SyncRoleData" type="705" maxsize="16384" prior="1">
		<variable name="roleid" type="unsigned int"/>
		<variable name="level" type="unsigned char"/>
		<variable name="occupation" type="unsigned char"/>
		<variable name="battlescore" type="int" default="0"/>
	</protocol>
	<protocol name="UpdateTopTable" type="707" maxsize="1048576" prior="1">
		<variable name="weekly" type="int"/>
		<variable name="table"  type="GTopTable"/>
	</protocol>
	<rpcdata name="TopTableRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="daily"  type="GTopTable"/>
		<variable name="weekly" type="GTopTable"/>
	</rpcdata>
	<rpcdata name="WeeklyTopRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="table"  type="GTopTable"/>
	</rpcdata>
	<rpcdata name="DailyTopRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="table"  type="GTopTable"/>
	</rpcdata>
	<rpc name="DBPutTopTable" type="703" maxsize="1048576" prior="1" argument="GTopTable" result="Integer" timeout="40"/>
	<rpc name="DBGetTopTable" type="704" maxsize="1048576" prior="1" argument="Integer" result="TopTableRes" timeout="40"/>
	<rpc name="GetWeeklyTop" type="706" maxsize="1048576" prior="1" argument="Integer" result="WeeklyTopRes" timeout="40"/>
	<rpc name="GetDailyTop" type="710" maxsize="1048576" prior="1" argument="Integer" result="DailyTopRes" timeout="40"/>
	<protocol name="NotifyDailyTableChange" type="711" maxsize="32" prior="1">
		<variable name="tableid" type="int"/>
	</protocol>
	<rpcdata name="PutSpouseArg">
		<variable name="oper" type="int" default="0"/>
		<variable name="rid1" type="int" default="0"/>
		<variable name="rid2" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="PutSpouse" type="3047" argument="PutSpouseArg" result="RpcRetcode" maxsize="64" prior="1" timeout="20"/>
	<protocol name="OnDivorce" type="3048" maxsize="64" prior="1">
		<variable name="rid1" type="int"/>
		<variable name="rid2" type="int"/>
	</protocol>
	<rpcdata name="RawKeyValue" attr="vector">
		<variable name="key" type="Octets" default="Octets(0)"/>
		<variable name="value" type="Octets" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="DBRawReadArg">
		<variable name="table" type="Octets" default="Octets()"/>
		<variable name="handle" type="Octets" default="Octets()"/>
		<variable name="key" type="Octets" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBRawReadRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="handle" type="Octets" default="Octets()"/>
		<variable name="values" type="std::vector&lt;RawKeyValue>" attr="ref" default="std::vector&lt;RawKeyValue>()" />
	</rpcdata>
	<rpc debug="0" name="DBRawRead" type="3055" argument="DBRawReadArg" result="DBRawReadRes" maxsize="262144" prior="1" timeout="60"/>
	<rpcdata name="UpdateRoleBaseArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="datatype" type="int" default="0"/>
		<variable name="data" type = "Octets" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="UpdateRoleBase" type="3056" result="RpcRetcode" maxsize="16384" prior="1" timeout="30"/>

	<rpcdata name="StockOrder">
		<variable name="tid" type="unsigned int" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>
		<variable name="volume" type="int" default="0"/>
		<variable name="status" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="StockPrice">
		<variable name="price" type="int" default="0"/>
		<variable name="volume" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="StockLog">
		<variable name="tid" type="unsigned int" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="result" type="short" default="0"/>
		<variable name="volume" type="short" default="0"/>
		<variable name="cost" type="int" default="0"/>
	</rpcdata>
	<protocol name="StockCommission" type="401" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="isbuy" type="char" default="0"/>
		<variable name="price" type="int" default="0"/>
		<variable name="volume" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="StockTransaction" type="402" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="withdraw" type="char" default="0"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	<protocol name="StockBill" type="405" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="StockBill_Re" type="406" maxsize="4096" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="orders" type="std::vector&lt;StockOrder&gt;" attr="ref"/>
		<variable name="logs" type="std::vector&lt;StockLog&gt;" attr="ref"/>
	</protocol>
	<protocol name="StockAccount" type="407" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="StockAccount_Re" type="408" maxsize="4096" prior="1">
		<variable name="cash" type="int"/>
		<variable name="money" type="int"/>
		<variable name="prices" type="std::vector&lt;StockPrice&gt;" attr="ref"/>
		<variable name="locked" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="StockCommission_Re" type="409" maxsize="4096" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="cash" type="int"/>
		<variable name="money" type="int"/>
		<variable name="prices" type="std::vector&lt;StockPrice&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="StockTransaction_Re" type="410" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="StockCancel" type="411" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="price" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="StockCancel_Re" type="412" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="DBStockBalanceArg">
		<variable name="tid" type="unsigned int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="ack_volume" type="int" default="0"/>
		<variable name="ack_money" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBStockBalanceRes">
		<variable name="retcode" type="int"/>
		<variable name="volume_left" type="int" default="0"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBStockCommissionArg">
		<variable name="order" type="StockOrder" default="StockOrder()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBStockCommissionRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpcdata name="DBStockCancelArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="tid" type="unsigned int" default="0"/>
		<variable name="volume" type="int" default="0"/>
		<variable name="result" type="short" default="0"/>
	</rpcdata>
	<rpcdata name="DBStockCancelRes">
		<variable name="retcode" type="int"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBStockTransactionArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="withdraw" type="char" default="0"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBStockTransactionRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBStockLoadArg">
		<variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBStockLoadRes">
		<variable name="retcode" type="short"/>
		<variable name="orders" type="std::vector&lt;StockOrder&gt;" attr="ref"/>
		<variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc debug="0" name="DBStockBalance" type="413" argument="DBStockBalanceArg" result="DBStockBalanceRes" maxsize="512" prior="1" timeout="100"/>
	<rpc debug="0" name="DBStockTransaction" type="414" argument="DBStockTransactionArg" result="DBStockTransactionRes" maxsize="2097152" prior="1" timeout="30"/>
	<rpc debug="0" name="DBStockLoad" type="415" argument="DBStockLoadArg" result="DBStockLoadRes" maxsize="2097152" prior="1" timeout="60"/>
	<rpc debug="0" name="DBStockCommission" type="416" argument="DBStockCommissionArg" result="DBStockCommissionRes" maxsize="512" prior="1" timeout="60"/>
	<rpc debug="0" name="DBStockCancel" type="417" argument="DBStockCancelArg" result="DBStockCancelRes" maxsize="512" prior="1" timeout="60"/>

	<!-- ******************************************************  -->
	<!-- protocols used by gfaction server . typeid is 4500-4800 -->
	<!-- ******************************************************  -->
	<!-- protocol AnnounceProviderID -->
	<rpcdata name="GMember" attr="vector">
		<variable name="rid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="nickname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="title" type="unsigned char" default="0"/>
		<variable name="level" type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="contribution" type="int" default="0"/>
		<variable name="jointime" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="FactionLevel">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="level" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="FamilyId" attr="vector">
		<variable name="fid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="HostileFaction" attr="vector">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="addtime" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="HostileInfo" attr="vector">
		<variable name="updatetime" type="int" default="0"/>
		<variable name="actionpoint" type="unsigned short" default="0"/>
		<variable name="protecttime" type="int" default="0"/>
		<variable name="status" type="unsigned char" default="0"/>
		<variable name="hostiles" type="std::vector&lt;HostileFaction&gt;" attr="ref" default="std::vector&lt;HostileFaction&gt;()"/>
		<variable name="reserved1" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionInfo">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="level" type="char" default="0"/>
		<variable name="member" type="std::vector&lt;FamilyId&gt;" attr="ref" default="std::vector&lt;FamilyId&gt;()"/>
		<variable name="master" type="unsigned int" default="0"/>
		<variable name="prosperity" type="unsigned int" default="0"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="deletetime" type="int" default="0"/>
		<variable name="population" type="int" default="0"/>
		<variable name="contribution" type="int" default="0"/>
		<variable name="status" type="unsigned char" default="0"/>
		<variable name="nimbus" type="int" default="0"/>
		<variable name="hostileinfo" type="std::vector&lt;HostileInfo&gt;" attr="ref" default="std::vector&lt;HostileInfo&gt;()"/>
		<variable name="charm" type="int" default="0"/>
		<variable name="changenametime" type="int" default="0"/>
		<variable name="namehis" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="pk_bonus" type="unsigned int" default="0"/>
		<variable name="dynamic" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
		<!--variable name="msgs" type="std::vector&lt;FactionMsgItem&gt;" attr="ref" default="std::vector&lt;FactionMsgItem&gt;()"/-->
		<!--帮派 用到的 int 型字段就放这里扩充吧-->
		<variable name="datagroup" type="std::map&lt;int, int&gt;" attr="ref"/>
	</rpcdata>
	<rpcdata name="GFactionBrief">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="level" type="char" default="0"/>
		<variable name="master" type="unsigned int" default="0"/>
		<variable name="prosperity" type="unsigned int" default="0"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="population" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionBaseInfo"><!--这里是帮派基本属性，与帮派基地无关-->
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level" type="char" default="0"/>
		<variable name="nimbus" type="int" default="0"/>
		<variable name="territoryscore" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFolk" attr="vector">
		<variable name="rid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="nickname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level" type="unsigned char" default="0"/>
		<variable name="title" type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="contribution" type="int" default="0"/>
		<variable name="jointime" type="int" default="0"/>
		<variable name="devotion" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFamilySkill" attr="vector">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="ability" type="int" default="0"/>
		<variable name="reserved" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="FamilySkill" attr="vector">
		<variable name="id" type="short" default="0"/>
		<variable name="ability" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFamily" attr="vector">
		<variable name="id" type="unsigned int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="master" type="unsigned int"/>
		<variable name="factionid" type="unsigned int"/>
		<variable name="member" type="std::vector&lt;GFolk&gt;" attr="ref"/>
		<variable name="skills" type="std::vector&lt;GFamilySkill&gt;" attr="ref"/>
		<variable name="task_record" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="task_data" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="announce" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="jointime" type="int" default="0"/>
		<variable name="deletetime" type="int" default="0"/>
		<variable name="changenametime" type="int" default="0"/>
		<variable name="namehis" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reserved1" type="char" default="0"/>
		<variable name="reserved2" type="short" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFamilyBrief">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GUserFaction">
		<variable name="rid" type="unsigned int" default="0"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="title" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="FactionId">
		<variable name="fid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionAddArg">
		<variable name="rid" type="unsigned int" default="0"/>
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="level" type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBFactionAddRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="info" type="GFactionInfo" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBFactionJoinArg">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="familyid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionJoinRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="DBFactionLeaveArg">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="contribution" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionUpdateArg">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="rid" type="unsigned int" default="0"/>
		<variable name="reason" type="char" default="0"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="level" type="char" default="0"/>
		<variable name="prosperity" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionSyncArg">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="population" type="int" default="0"/>
		<variable name="prosperity" type="int" default="0"/>
		<variable name="contribution" type="int" default="0"/>
		<variable name="nimbus" type="int" default="0"/>
		<variable name="charm" type="int" default="0"/>
		<variable name="syncmask" type="int" default="0"/>
		<variable name="dynamic" type="std::vector&lt;Octets&gt;" attr="ref" default="std::vector&lt;Octets&gt;()"/>
		<!--variable name="msgs" type="std::vector&lt;FactionMsgItem&gt;" attr="ref" default="std::vector&lt;FactionMsgItem&gt;()"/-->
		<variable name="activity" type="int" default="0"/>
		<variable name="act_uptime" type="int" default="0"/>
		<variable name="multi_exp" type="int" default="0"/>
		<variable name="multi_exp_endtime" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionSyncRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="DefFactionRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="FactionInfoRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="cachesize" type="int" default="0"/>
		<variable name="value" type="GFactionInfo" attr="ref"/>
		<variable name="activity" type="int" default="0"/>
		<variable name="act_uptime" type="int" default="0"/>
		<variable name="base_status" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="FamilyGetRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GFamily" attr="ref"/>
	</rpcdata>
	<rpcdata name="FactionBriefRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GFactionBrief" attr="ref"/>
	</rpcdata>
	<rpcdata name="DelFactionRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="fname" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBVerifyMasterArg">
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="faction" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="DBFactionAppointArg">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="roleid" type="unsigned int" default="0"/>
		<variable name="title" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionAppointRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="oldtitle" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionRenameArg">
                <variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
        </rpcdata>
	<rpcdata name="DBFamilyAddArg">
		<variable name="rid" type="unsigned int" default="0"/>
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="level" type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBFamilyAddRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="info" type="GFamily" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBFamilyJoinArg">
                <variable name="fid" type="unsigned int" default="0"/>
                <variable name="rid" type="unsigned int" default="0"/>
                <variable name="level" type="unsigned char" default="0"/>
                <variable name="occupation" type="unsigned char" default="0"/>
        </rpcdata>
        <rpcdata name="DBFamilyJoinRes">
                <variable name="retcode" type="int" default="-1"/>
                <variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
        </rpcdata>
	<rpcdata name="DBFamilyLeaveArg">
                <variable name="familyid" type="unsigned int" default="0"/>
                <variable name="rid" type="unsigned int" default="0"/>
                <variable name="contribution" type="int" default="0"/>
        </rpcdata>
	<rpcdata name="DBFamilyUpdateArg">
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="rid" type="unsigned int" default="0"/>
		<variable name="reason" type="char" default="0"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="reserved" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFamilyAppointArg">
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="roleid" type="unsigned int" default="0"/>
		<variable name="title" type="unsigned char" default="0"/>
		<variable name="info" type="GFolk" attr="ref" default="GFolk()"/>
	</rpcdata>
	<rpcdata name="DBFamilySyncArg">
                <variable name="fid" type="unsigned int" default="0"/>
		<variable name="skills" type="std::vector&lt;GFamilySkill&gt;" attr="ref" default="std::vector&lt;GFamilySkill&gt;() "/>
                <variable name="member" type="std::vector&lt;GFolk&gt;" attr="ref" default="std::vector&lt;GFolk&gt;()"/>
                <variable name="task_data" type="Octets" attr="ref" default="Octets()"/>
		<variable name="task_record" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
        </rpcdata>	
	<rpcdata name="AsyncData">
                <variable name="roleid" type="int" default="0"/>
                <variable name="data" type="Octets" attr="ref" default="Octets()"/>
                <variable name="result" type="int" default="0"/>
        </rpcdata>	
	<rpcdata name="DBHostileAddArg">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="hostile" type="unsigned int" default="0"/>
	</rpcdata>
        <rpcdata name="DBHostileAddRes">
                <variable name="retcode" type="int" default="-1"/>
                <variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
        </rpcdata>
	<rpcdata name="DBHostileDeleteArg">
                <variable name="factionid" type="unsigned int" default="0"/>
		<variable name="hostile" type="std::vector&lt;unsigned int&gt;" attr="ref" default="std::vector&lt;unsigned int&gt;() "/>
        </rpcdata>
	<rpcdata name="DBHostileUpdateArg">
		<variable name="factionid" type="int"/>
		<variable name="datamask" type="unsigned char" default="0"/>
		<variable name="actionpoint" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="DBHostileProtectArg">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="item_pos" type="int"/>
		<variable name="item_id" type="int"/>
		<variable name="item_num" type="int"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>

	<rpcdata name="DBHostileProtectRes">
		<variable name="retcode" type="unsigned char" />
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>

	<rpc debug="0" name="DBFactionAdd" type="4600" argument="DBFactionAddArg" result="DBFactionAddRes" maxsize="2097152" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFactionDel" type="4601" argument="FactionId" result="DelFactionRes" maxsize="64" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFactionJoin" type="4602" argument="DBFactionJoinArg" result="DBFactionJoinRes" maxsize="64" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFactionLeave" type="4603" argument="DBFactionLeaveArg" result="DefFactionRes" maxsize="64" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFactionGet" type="4604" argument="FactionId" result="FactionInfoRes" maxsize="131072" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFactionBrief" type="4605" argument="FactionId" result="FactionBriefRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBVerifyMaster" type="4606" argument="DBVerifyMasterArg" result="DefFactionRes" maxsize="128" prior="1" timeout="30"/><!--iweb协议-->
	<rpc debug="0" name="DBFactionSync" type="4607" argument="DBFactionSyncArg" result="DBFactionSyncRes" maxsize="131072" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFactionUpdate" type="4608" argument="DBFactionUpdateArg" result="DefFactionRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFactionAppoint" type="4609" argument="DBFactionAppointArg" result="DBFactionAppointRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFactionRename" type="4610" argument="DBFactionRenameArg" result="DefFactionRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFamilyAdd" type="4611" argument="DBFamilyAddArg" result="DBFamilyAddRes" maxsize="2097152" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFamilyDel" type="4612" argument="FamilyId" result="DelFactionRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFamilyGet" type="4613" argument="FamilyId" result="FamilyGetRes" maxsize="4096" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFamilyJoin" type="4614" argument="DBFamilyJoinArg" result="DBFamilyJoinRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFamilyLeave" type="4615" argument="DBFamilyLeaveArg" result="DelFactionRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFamilyUpdate" type="4616" argument="DBFamilyUpdateArg" result="DefFactionRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFamilyAppoint" type="4617" argument="DBFamilyAppointArg" result="DefFactionRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBFamilySync" type="4618" argument="DBFamilySyncArg" result="DefFactionRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="TaskAsyncData" type="4619" argument="AsyncData" result="AsyncData" maxsize="8192" prior="1" timeout="30"/>
	<rpc debug="0" name="DBHostileAdd" type="4625" argument="DBHostileAddArg" result="DBHostileAddRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBHostileDelete" type="4626" argument="DBHostileDeleteArg" result="DefFactionRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBHostileUpdate" type="4627" argument="DBHostileUpdateArg" result="DefFactionRes" maxsize="128" prior="1" timeout="30"/>
	<rpc debug="0" name="DBHostileProtect" type="4628" argument="DBHostileProtectArg" result="DBHostileProtectRes" maxsize="2097152" prior="1" timeout="30"/>
	<rpcdata name="DBFactionAddMoneyArg">
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="delta_money" type="unsigned int" default="0"/>
	</rpcdata>
        <rpcdata name="DBFactionAddMoneyRes">
                <variable name="retcode" type="int" default="-1"/>
                <variable name="new_money" type="unsigned int" default="0"/>
        </rpcdata>
	<rpc debug="0" name="DBFactionAddMoney" type="4629" argument="DBFactionAddMoneyArg" result="DBFactionAddMoneyRes" maxsize="32" prior="1" timeout="30"/>
	<protocol name="FactionWithDrawBonus" maxsize="32" prior="1" type="4630">
		<variable name="roleid" type="int"/>
		<!--variable name="map_id" type="int"/-->
		<!--variable name="factionid" type="unsigned int" default="0"/-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="FactionWithDrawBonus_Re" maxsize="32" prior="1" type="4631">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="DBFactionWithDrawMoneyArg">
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
        <rpcdata name="DBFactionWithDrawMoneyRes">
                <variable name="retcode" type="int" default="-1"/>
                <variable name="new_money" type="unsigned int" default="0"/>
        </rpcdata>
	<rpc debug="0" name="DBFactionWithDrawMoney" type="4632" argument="DBFactionWithDrawMoneyArg" result="DBFactionWithDrawMoneyRes" maxsize="32" prior="1" timeout="30"/>

	<protocol debug="0" name="SyncFamilyData" type="4620" maxsize="1024" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="familyid" type="int"/>
		<variable name="skills" type="std::vector&lt;GFamilySkill&gt;" attr="ref"/>
	</protocol>
	<protocol debug="0" name="FamilyExpShare" type="4622" maxsize="1024" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="familyid" type="int"/>
		<variable name="level" type="int"/>
		<variable name="exp" type="int64_t"/>
	</protocol>
	<protocol debug="0" name="FamilyUseSkill" type="4621" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="familyid" type="int"/>
		<variable name="skillid" type="int" default="0"/>
		<variable name="ability" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FamilyRecord" type="4623" maxsize="128" prior="1">
		<variable name="familyid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="star" type="int"/>
		<variable name="records" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SendAsyncData" type="4624" maxsize="4096" prior="1">
		<variable name="roleid" type="int"/>
                <variable name="data" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="FactionCreate" type="4500" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionname" type="Octets" attr="ref"/>
		<variable name="scale" type="char"/>
	</protocol>
	<protocol debug="0" name="SendFactionCreate" type="4501" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionname" type="Octets" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionCreate_Re" type="4502" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="unsigned int" />
		<variable name="factionname" type="Octets" attr="ref"/>
		<variable name="scale" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="MemberInfo"	attr="vector">
		<variable name="roleid" type="unsigned int" default="0"/>
		<variable name="level"  type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/> 
		<variable name="title" type="unsigned char" default="0"/>
		<variable name="lineid" type="int" default="0"/>
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="contribution" type="int" default="0"/>
		<variable name="devotion" type="int" default="0"/>
		<variable name="name" type="Octets" default="Octets()"/>
		<variable name="nickname" type="Octets" default="Octets()"/>
		<variable name="reborn_cnt" type="int" default="-1"/>
		<variable name="cultivation" type="int" default="-1"/>
		<variable name="fac_coupon_add" type="int64_t" default="0"/>
	</rpcdata>
	<protocol debug="0" name="FactionList" type="4503" maxsize="16384" prior="1">
		<variable name="page" type="int"/>
		<variable name="roleid" type="unsigned int"/>
		<variable name="factionid" type="unsigned int"/>
		<variable name="familyid" type="unsigned int"/>
		<variable name="istree" type="unsigned char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionList_Re" type="4504" maxsize="16384" prior="1">
		<variable name="page" type="int"/>
		<variable name="deletetime" type="unsigned int"/>
		<variable name="istree" type="char"/>
		<variable name="familyid" type="unsigned int"/>
		<variable name="prosperity" type="unsigned int"/>
		<variable name="population" type="short"/>
		<variable name="online" type="short"/>
		<variable name="members" type="MemberInfoVector" attr="ref"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="familylist" type="std::vector&lt;GFamilyBrief&gt;" attr="ref"/>
		<variable name="familyskill" type="std::vector&lt;FamilySkill&gt;" attr="ref"/>
		<variable name="actionpoint" type="int" attr="ref"/>
		<variable name="hostiles" type="std::vector&lt;HostileFaction&gt;" attr="ref" default="std::vector&lt;HostileFaction&gt;()"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="base_status" type="unsigned int" default="0"/>
		<variable name="activity" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionRecruit" type="4505" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="factionid" type="unsigned int"/>
		<variable name="invitee" type="int"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionRecruit_Re" type="4506" maxsize="128" prior="1">
		<variable name="retcode" type="int" />
		<variable name="factionid" type="unsigned int"/>
		<variable name="invitee" type="int"/>
		<variable name="inviter" type="int"/> 
		<variable name="level" type="int"/>
		<variable name="occupation" type="char"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="scale" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionExpel" type="4507" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="factionid" type="unsigned int"/>
		<variable name="expellee" type="int"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionExpel_Re" type="4508" maxsize="128" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="familyid" type="unsigned int"/>
		<variable name="expellee" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="scale" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionAnnounce" type="4509" maxsize="256" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="unsigned int"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionAnnounce_Re" type="4510" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionAppoint" type="4511" maxsize="128" prior="1">
		<variable name="roleid" type="int"/> 
		<variable name="candidate" type="int"/> 
		<variable name="title" type="char"/> 
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionAppoint_Re" type="4512" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> 
		<variable name="candidate" type="int"/> 
		<variable name="title" type="char"/> 
		<variable name="localsid" type="unsigned int"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionResign" type="4513" maxsize="128" prior="1">
		<variable name="roleid" type="int"/> 
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionResign_Re" type="4514" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> 
		<variable name="title" type="char"/> 
		<variable name="localsid" type="unsigned int" />
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionLeave" type="4515" maxsize="128" prior="1">
		<variable name="factionid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>	
	<protocol debug="0" name="FactionLeave_Re" type="4516" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="familyid" type="unsigned int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="scale" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>	
	<protocol debug="0" name="FactionUpgrade" type="4517" maxsize="128" prior="1">
		<variable name="factionid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>	
	<protocol debug="0" name="FactionUpgrade_Re" type="4518" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="level" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>	
	<protocol debug="0" name="FactionDismiss" type="4519" maxsize="128" prior="1">
		<variable name="factionid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="scale" type="char" default="0"/>
		<variable name="oper" type="char" default="0"/>
	</protocol>	
	<protocol debug="0" name="FactionDismiss_Re" type="4520" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="factionid" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="scale" type="char" default="0"/>
		<variable name="oper" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="FactionNickname" type="4521" maxsize="128" prior="1">
		<variable name="factionid" type="unsigned int"/>
		<variable name="familyid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="receiver" type="int"/>
		<variable name="nickname" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="FactionNickname_Re" type="4522" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="receiver" type="int"/>
		<variable name="nickname" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>	
	<protocol debug="0" name="HostileAdd" type="4523" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="hostile" type="int" />
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="HostileAdd_Re" type="4524" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="hostile" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="HostileDelete" type="4525" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="hostile" type="int" />
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="HostileDelete_Re" type="4526" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="hostile" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>	
	<protocol debug="0" name="GHostileProtect" type="4527" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_num" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	<protocol debug="0" name="HostileProtect_Re" type="4528" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="HostileProtect" type="4529" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_id" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="NetBarAnnounce" maxsize="1024" prior="3" type="529">
		<variable name="userid" type="int" />
		<variable name="aid" type="int" />
		<variable name="zoneid" type="int" />
		<variable name="title" type="int" />
		<variable name="rolename" type="Octets" />
		<variable name="netbarid" type="int" />
		<variable name="netbarzone" type="int" />
		<variable name="netbarname" type="Octets" />
		<variable name="netbarlevel" type="int" />
		<variable name="netbartitle" type="Octets" />
		<variable name="awardtype" type="Octets" />
		<variable name="reserved1" type="int" />
		<variable name="reserved2" type="int" />
	</protocol>

	<protocol debug="0" name="QueryNetBarReward" type="4531" maxsize="16" prior="101">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="NetBarReward" maxsize="32" prior="0" type="4530">
		<variable name="roleid" type="int"/>
		<variable name="netbar_level" type="int" default="0"/>
		<variable name="award_type" type="int" default="0"/>
	</protocol>
	
	<!-- ***************************************************************************** -->
	<!--  Inter-Server Protocols between factionServer and other Server , id 4800-4900 -->
	<!-- ***************************************************************************** -->
	<rpcdata name="PlayerFaction" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="title" type="char" default="-1"/>
	</rpcdata>
	<protocol debug="0" name="GetPlayerFaction" type="4801" maxsize="10240" prior="1">
		<variable name="rolelist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="GetPlayerFaction_Re" type="4802" maxsize="102400" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="list" type="PlayerFactionVector"/>
	</protocol>
	<protocol debug="0" name="FactionChat" type="4803" maxsize="2048" prior="1">
		<variable name="src" type="int"/>
		<variable name="channel" type="unsigned char" default="0"/>
		<variable name="emotion" type="unsigned char" default="0"/>
		<variable name="msg" type="Octets" attr="ref" default="Octets()"/>
		<variable name="data" type="Octets" attr="ref" default="Octets()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="src_route" type="unsigned char" default="0"/>
	</protocol>
	<rpcdata name="FactionInviteArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="invitee" type="int" default="-1"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="faction_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="role_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="scale" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="FactionInviteRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="scale" type="char" default="0"/>
	</rpcdata>
	<rpc debug="0" name="FactionInvite" type="4804" maxsize="256" argument="FactionInviteArg" result="FactionInviteRes" prior="1" timeout="30"/>
	
	<protocol debug="0" name="GetFactionBaseInfo" type="4805" maxsize="4096"  prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="factionlist" type="IntVector" attr="ref"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="GetFactionBaseInfo_Re" type="4806" maxsize="16384"  prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="faction_info" type="GFactionBaseInfo"/>
		<variable name="scale" type="char" default="0"/>
	</protocol>

	<protocol debug="0" name="PlayerFactionInfo" type="4809" maxsize="10240" prior="1">
		<variable name="rolelist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="PlayerFactionInfo_Re" type="4810" maxsize="102400" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="list" type="std::vector&lt;GUserFaction&gt;" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SyncPlayerFaction" type="4811" maxsize="128" prior="1">
		<variable name="rid" type="unsigned int" default="0"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="familyid" type="unsigned int" default="0"/>
		<variable name="title" type="unsigned char" default="0"/>
		<variable name="level" type="unsigned char" default="0"/>
		<variable name="contribution" type="int" default="0"/>
		<variable name="devotion" type="int" default="0"/>
		<variable name="battlescore" type="int" default="0"/>
		<variable name="reborn_cnt" type="int" default="0"/>
		<variable name="circleid" type="unsigned int" default="0"/>
		<variable name="factionname" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SyncFactionLevel" type="4812" maxsize="131072" prior="1">
		<variable name="list" type="std::vector&lt;FactionLevel&gt;" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GetFactionHostile" type="4813" maxsize="128"  prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="factionid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetFactionHostile_Re" type="4814" maxsize="10240"  prior="1">
		<variable name="roleid" type="int"/>
		<variable name="hostiles" type="HostileInfo" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<rpcdata name="FactionHostiles">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="hostiles" type="std::vector&lt;unsigned int&gt;" attr="ref" default="std::vector&lt;unsigned int&gt;()"/>
	</rpcdata>
	<protocol debug="0" name="SyncFactionHostiles" type="4815" maxsize="131072" prior="1">
		<variable name="list" type="std::vector&lt;FactionHostiles&gt;" attr="ref"/>
	</protocol>

	<protocol debug="0" name="AchievementMessage" type="4816" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="achieve_id" type="unsigned short" default="0"/>
		<variable name="param" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="localsid" type="int" default="-1"/>
		<variable name="timestamp" type="int" default="0"/>
	</protocol><!--iweb协议-->

	<protocol debug="0" name="PKMessage" type="4817" maxsize="128" prior="1">
		<variable name="killer_id" type="int" />
		<variable name="deader_id" type="int" />
		<variable name="killer_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="deader_name" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	
	<protocol debug="0" name="RefineMessage" type="4818" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="itemid" type="int" />
		<variable name="refine_level" type="int" />
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
	</protocol>

	<rpcdata name="GDisciple" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level"  type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GDiscipleInfo" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level"  type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/> 
		<variable name="lineid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GSectSkill" attr="vector">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="level" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="GSect" attr="vector">
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="disciples" type="std::vector&lt;GDisciple&gt;" attr="ref" default="std::vector&lt;GDisciple&gt;()"/>
                <variable name="skills" type="std::vector&lt;GSectSkill&gt;" attr="ref" default="std::vector&lt;GSectSkill&gt;()"/>
		<variable name="reputation" type="unsigned int" default="0"/>
		<variable name="cooldown" type="unsigned int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="SectInviteArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="invitee" type="int" default="-1"/>
		<variable name="role_name" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="SectInviteRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="SectInvite" type="4820" maxsize="256" argument="SectInviteArg" result="SectInviteRes" prior="1" timeout="30"/>
	<protocol debug="0" name="SectRecruit" type="4821" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="invitee" type="int"/>
	</protocol>
	<protocol debug="0" name="SectRecruit_Re" type="4822" maxsize="128" prior="1">
		<variable name="retcode" type="int" />
		<variable name="sectid" type="int"/>
		<variable name="disciple" type="int"/> 
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="SectList" type="4823" maxsize="128" prior="1">
		<variable name="master" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="SectList_Re" type="4824" maxsize="16384" prior="1">
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="master" type="unsigned int"/>
		<variable name="lineid" type="int"/>
		<variable name="reputation" type="unsigned int"/>
		<variable name="capacity" type="unsigned int"/>
                <variable name="disciples" type="std::vector&lt;GDiscipleInfo&gt;" attr="ref" default="std::vector&lt;GDiscipleInfo&gt;()"/>
                <variable name="skills" type="std::vector&lt;GSectSkill&gt;" attr="ref" default="std::vector&lt;GSectSkill&gt;()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="SectExpel" type="4825" maxsize="128" prior="1">
		<variable name="master" type="int"/>
		<variable name="disciple" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="SectExpel_Re" type="4831" maxsize="128" prior="1">
		<variable name="retcode" type="int" />
		<variable name="sectid" type="int"/>
		<variable name="disciple" type="int"/> 
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="SectQuit" type="4826" maxsize="128" prior="1">
		<variable name="sectid" type="int"/>
		<variable name="reason" type="unsigned char"/>
		<variable name="disciple" type="int"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="SectUpdate" type="4830" maxsize="16384" prior="101">
		<variable name="sectid" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="reputation" type="unsigned int" default="0"/>
                <variable name="skills" type="std::vector&lt;GSectSkill&gt;" attr="ref" default="std::vector&lt;GSectSkill&gt;()"/>
	</protocol>
	<rpcdata name="DBSectJoinArg">
		<variable name="master" type="int" default="0"/>
		<variable name="disciple" type="int" default="0"/>
		<variable name="capacity" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBSectJoinRes">
		<variable name="retcode" type="unsigned int" default="0"/>
		<variable name="disciple" type="GDisciple" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSectQuitArg">
		<variable name="master" type="int" default="0"/>
		<variable name="disciple" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBSectQuitRes">
		<variable name="retcode" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="DBSectGetRes">
		<variable name="retcode" type="unsigned int" default="0"/>
		<variable name="sect" type="GSect" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSectUpdateArg">
		<variable name="sectid" type="int" default="0"/>
		<variable name="sect" type="GSect" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSectUpdateRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="sect" type="GSect" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBSectJoin" type="4827" argument="DBSectJoinArg" result="DBSectJoinRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBSectQuit" type="4828" argument="DBSectQuitArg" result="DBSectQuitRes" maxsize="1024" prior="1" timeout="30"/>
	<rpc debug="0" name="DBSectGet" type="4829" argument="Integer" result="DBSectGetRes" maxsize="4096" prior="1" timeout="30"/>
	<rpc debug="0" name="DBSectUpdate" type="4832" argument="DBSectUpdateArg" result="DBSectUpdateRes" maxsize="4096" prior="1" timeout="30"/>

	<!--  ****************************************************************************  -->
	<!--             Protocols and Rpcs used in friend system typeid is 200 - 300       -->
	<!--  ****************************************************************************  -->
	<rpcdata name="GGroupInfo" attr="vector">
		<variable name="gid" type="char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GFriendInfo" attr="vector">
		<variable name="rid" type="int" default="0"/>
		<variable name="lineid" type="char" default="0"/>
		<variable name="gid" type="char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GClientFriendInfo" attr="vector">
		<variable name="rid" type="int" default="0"/>
		<variable name="lineid" type="int" default="0"/>
		<variable name="gid" type="char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GEnemyInfo" attr="vector">
		<variable name="rid" type="int" default="0"/>
		<variable name="lineid" type="char" default="0"/>
		<variable name="status" type="char" default="0"/>
		<variable name="pktime" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GFriendList">
		<variable name="groups" type="GGroupInfoVector"/>
		<variable name="friends" type="GFriendInfoVector"/>
		<variable name="enemies" type="GEnemyInfoVector"/>
	</rpcdata>
	<rpcdata name="RoleLinePair" attr="vector">
		<variable name="rid" type="int" default="0"/>
		<variable name="lineid" type="char" default="0"/>
	</rpcdata>

	<rpcdata name="FriendListPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GFriendList"/>
	</rpcdata>
	<rpcdata name="FriendListRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="value" type="GFriendList"/>
	</rpcdata>
	<rpc debug="0" name="PutFriendList" type="200" argument="FriendListPair" result="RpcRetcode" maxsize="4096" prior="1" timeout="20"/>
	<rpc debug="0" name="GetFriendList" type="201" argument="RoleId" result="FriendListRes" maxsize="4096" prior="1" timeout="20"/>

	<protocol debug="0" name="AddFriend" maxsize="128" prior="1" type="202">
		<variable name="srcroleid" type="int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="dstname" type="Octets" attr="ref" />
		<variable name="srclsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="AddFriend_Re" maxsize="128" prior="1" type="203">
		<variable name="retcode" type="char"/>
		<variable name="info" type="GClientFriendInfo" attr="ref"/>
		<variable name="srclsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="AddFriendRqstArg">
		<variable name="srcroleid" type="int" default="-1"/>  
		<variable name="srcname" type="Octets" attr="ref" />
		<variable name="dstlsid" type="unsigned int"/>
		<variable name="srcrolelevel" type="int" default="0"/><!--如果channel是NORMAL gs会填充发送者的等级以便接收方屏蔽-->
		<variable name="srcfactionid" type="unsigned int" default="0"/>
		<variable name="srcsectid" type="int" default="0"/>
		<variable name="referrer" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="AddFriendRqstRes">
		<variable name="retcode" type="char" default="0"/>
	</rpcdata>
	<rpc debug="0" name="AddFriendRqst" type="204" maxsize="128" prior="1" argument="AddFriendRqstArg" result="AddFriendRqstRes" timeout="60"/>
	<protocol debug="0" name="GetFriends" maxsize="64" prior="1" type="206">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetFriends_Re" maxsize="4096" prior="1" type="207">
		<variable name="roleid" type="int"/>
		<variable name="groups" type="GGroupInfoVector"/>
		<variable name="friends" type="GClientFriendInfoVector"/>
		<variable name="reserved" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="SetGroupName" maxsize="64" prior="1" type="208">
		<variable name="roleid" type="int"/>
		<variable name="gid" type="char"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SetGroupName_Re" maxsize="128" prior="1" type="209">
		<variable name="retcode" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="gid" type="char"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SetFriendGroup" maxsize="32" prior="1" type="210">
		<variable name="gid" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SetFriendGroup_Re" maxsize="64" prior="1" type="211">
		<variable name="retcode" type="char"/>
		<variable name="gid" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="DelFriend" maxsize="32" prior="1" type="212">
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="DelFriend_Re" maxsize="32" prior="1" type="213">
		<variable name="retcode" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FriendStatus" maxsize="32" prior="1" type="214">
		<variable name="roleid" type="int"/>
		<variable name="lineid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="Message" attr="vector">
		<variable name="channel" type="unsigned char"/>
		<variable name="src_name" type="Octets" attr="ref"/>
		<variable name="srcroleid" type="int"/>
		<variable name="dst_name" type="Octets" attr="ref"/>
		<variable name="dstroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
	</rpcdata>
	<rpcdata name="GetMessageRes">
		<variable name="retcode" type="char" default="0"/>
		<variable name="messages" type="MessageVector" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="PutMessage" type="215" maxsize="384" prior="1" argument="Message" result="RpcRetcode" timeout="10"/>
	<rpc debug="0" name="GetMessage" type="216" maxsize="8192" prior="1" argument="RoleId" result="GetMessageRes" timeout="10"/>
	<protocol debug="0" name="GetSavedMsg" maxsize="32" prior="1" type="217">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetSavedMsg_Re" maxsize="8192" prior="1" type="218">
		<variable name="retcode" type="char"/>
		<variable name="messages" type="MessageVector"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomCreate" maxsize="48" prior="1" type="219">
		<variable name="roleid" type="int"/>
		<variable name="subject" type="Octets" attr="ref"/>
		<variable name="capacity" type="unsigned short"/>
		<variable name="password" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomCreate_Re" maxsize="48" prior="1" type="220">
		<variable name="retcode" type="short"/>
		<variable name="roomid" type="unsigned short"/>
		<variable name="subject" type="Octets" attr="ref"/>
		<variable name="capacity" type="unsigned short"/>
		<variable name="status" type="unsigned char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomInvite" maxsize="128" prior="1" type="221">
		<variable name="roomid" type="unsigned short"/>
		<variable name="invitee" type="int"/>
		<variable name="inviter" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="subject" type="Octets" attr="ref"/>
		<variable name="capacity" type="unsigned short"/>
		<variable name="number" type="unsigned short"/>
		<variable name="password" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomInvite_Re" maxsize="32" prior="1" type="222">
		<variable name="roomid" type="unsigned short"/>
		<variable name="invitee" type="int"/>
		<variable name="inviter" type="int"/>
		<variable name="retcode" type="short"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomJoin" maxsize="48" prior="1" type="223">
		<variable name="roomid" type="unsigned short"/>
		<variable name="ownerid" type="int"/>
		<variable name="ownername" type="Octets" attr="ref"/>
		<variable name="roleid" type="unsigned int"/>
		<variable name="password" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="GChatMember" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="GRoomDetail">
		<variable name="roomid" type="unsigned short" default="0"/>
		<variable name="subject" type="Octets" attr="ref" default="Octets()"/>
		<variable name="owner" type="Octets" attr="ref" default="Octets()"/>
		<variable name="capacity" type="unsigned short" default="0"/>
		<variable name="status" type="unsigned char" default="0"/>
		<variable name="members" type="GChatMemberVector" attr="ref"/>
	</rpcdata>
	<protocol debug="0" name="ChatRoomJoin_Re" maxsize="1024" prior="1" type="224">
		<variable name="retcode" type="short"/>
		<variable name="roomid" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="detail" type="GRoomDetail" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomLeave" maxsize="16" prior="1" type="225">
		<variable name="roomid" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomExpel" maxsize="32" prior="1" type="226">
		<variable name="roomid" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="owner" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomSpeak" maxsize="256" prior="1" type="227">
		<variable name="roomid" type="unsigned short"/>
		<variable name="message" type="Octets" attr="ref"/>
		<variable name="src" type="int"/>
		<variable name="dst" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="GChatRoom" attr="vector">
		<variable name="roomid" type="unsigned short" default="0"/>
		<variable name="subject" type="Octets" attr="ref" default="Octets()"/>
		<variable name="owner" type="Octets" attr="ref" default="Octets()"/>
		<variable name="capacity" type="unsigned short" default="0"/>
		<variable name="number" type="unsigned short" default="0"/>
		<variable name="status" type="unsigned char" default="0"/>
	</rpcdata>
	<protocol debug="0" name="ChatRoomList" maxsize="16" prior="1" type="228">
		<variable name="begin" type="unsigned short"/>
		<variable name="reverse" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomList_Re" maxsize="1024" prior="1" type="229">
		<variable name="sum" type="unsigned short"/>
		<variable name="rooms" type="GChatRoomVector"/>
		<variable name="end" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetEnemies" maxsize="64" prior="1" type="230">
		<variable name="roleid" type="int"/>
		<variable name="fulllist" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetEnemies_Re" maxsize="4096" prior="1" type="231">
		<variable name="fulllist" type="char"/>
		<variable name="enemies" type="GEnemyInfoVector"/>
		<variable name="online" type="RoleLinePairVector"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UpdateEnemy" maxsize="64" prior="1" type="232">
		<variable name="roleid" type="int"/>
		<variable name="enemy" type="int"/>
		<variable name="oper" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UpdateEnemy_Re" maxsize="64" prior="1" type="233">
		<variable name="retcode" type="char"/>
		<variable name="enemy" type="int"/>
		<variable name="oper" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="GetFriendNumberArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GetFriendNumberRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="number" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GetFriendNumber" type="234" maxsize="64" prior="1" timeout="20"/>

	<protocol debug="0" name="CombatChallenge" maxsize="64" prior="1" type="900">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="CombatChallenge_Re" maxsize="64" prior="1" type="901">
		<variable name="retcode" type="int"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="CombatInviteArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="role_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="faction_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="CombatInviteRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="CombatInvite" type="902" maxsize="256" argument="CombatInviteArg" result="CombatInviteRes" prior="1" timeout="30"/>
	<protocol debug="0" name="CombatControl" maxsize="64" prior="1" type="903">
		<variable name="cmd" type="char"/>
		<variable name="attacker" type="int" default="0"/>
		<variable name="defender" type="int" default="0"/>
		<variable name="endtime" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="CombatKill" maxsize="64" prior="1" type="904">
		<variable name="mapid" type="int"/>
		<variable name="killer" type="int"/>
		<variable name="victim" type="int" default="0"/>
		<variable name="victim_faction" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="CombatStatus" maxsize="64" prior="1" type="905">
		<variable name="mapid" type="int"/>
		<variable name="attacker" type="int"/>
		<variable name="defender" type="int" default="0"/>
		<variable name="attacker_kills" type="int" default="0"/>
		<variable name="defender_kills" type="int" default="0"/>
		<variable name="remain_time" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="CombatTop" maxsize="64" prior="1" type="906">
		<variable name="mapid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="handle" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="CombatRecord">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="kills" type="int" default="0"/>
		<variable name="deaths" type="int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="CombatTop_Re" maxsize="1024" prior="1" type="907">
		<variable name="mapid" type="int"/>
		<variable name="attacker" type="int"/>
		<variable name="defender" type="int"/>
		<variable name="list" type="std::vector&lt;CombatRecord&gt;" attr="ref"/>
		<variable name="handle" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<!-- ***************************************************************************** -->
	<!--  Protocols and rpc used by Message Distribute Platform, id 6001-6100 -->
	<!-- ***************************************************************************** -->
	<rpcdata name="GSNSRoleInfo">
		<variable name="level" type="int" default="0"/>
		<variable name="sub_level" type="int" default="0"/>
		<variable name="gender" type="char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="spouse" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="sectname" type="Octets" default="Octets()" attr="ref" />
		<variable name="familyname" type="Octets" default="Octets()" attr="ref" />
		<variable name="factionname" type="Octets" default="Octets()" attr="ref" />
		<variable name="factiontitle" type="char" default="0"/>
		<variable name="faction_level" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="SNSRoleInfo">
		<variable name="level" type="int" default="0"/>
		<variable name="sub_level" type="int" default="0"/>
		<variable name="gender" type="char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="spouse" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="sectname" type="Octets" default="Octets()" attr="ref" />
		<variable name="familyname" type="Octets" default="Octets()" attr="ref" />
		<variable name="factiontitle" type="char" default="0"/>
		<variable name="factionname" type="Octets" default="Octets()" attr="ref" />
		<variable name="faction_level" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GSNSPlayerInfo">
		<variable name="roleid" type="int" default="0"/>
		<variable name="is_private" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="nickname" type="Octets" default="Octets()" attr="ref" />
		<variable name="age" type="short" default="0"/>
		<variable name="birthday" type="int" default="0"/>
		<variable name="province" type="int" default="0"/>
		<variable name="city" type="int" default="0"/>
		<variable name="career" type="Octets" default="Octets()" attr="ref" />
		<variable name="address" type="Octets" default="Octets()" attr="ref" />
		<variable name="introduce" type="Octets" default="Octets()" attr="ref" />
		<variable name="charm_personal" type="int" default="0"/>
		<variable name="charm_friend" type="int" default="0"/>
		<variable name="charm_sect" type="int" default="0"/>
		<variable name="charm_faction" type="int" default="0"/>
		<variable name="press_time" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="SNSPlayerInfo">
		<variable name="roleid" type="int" default="0"/>
		<variable name="is_private" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="nickname" type="Octets" default="Octets()" attr="ref" />
		<variable name="age" type="short" default="0"/>
		<variable name="birthday" type="int" default="0"/>
		<variable name="province" type="int" default="0"/>
		<variable name="city" type="int" default="0"/>
		<variable name="career" type="Octets" default="Octets()" attr="ref" />
		<variable name="address" type="Octets" default="Octets()" attr="ref" />
		<variable name="introduce" type="Octets" default="Octets()" attr="ref" />
		<variable name="charm_personal" type="int" default="0"/>
		<variable name="charm_friend" type="int" default="0"/>
		<variable name="charm_sect" type="int" default="0"/>
		<variable name="charm_faction" type="int" default="0"/>
		<variable name="press_time" type="int" default="0"/>
		<variable name="apply_time" type="int" default="0"/>
		<variable name="leavemsg_time" type="int" default="0"/>
		<variable name="vote_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GSNSPlayerInfoCache">
		<variable name="roleinfo" type="GSNSRoleInfo" default="GSNSRoleInfo()"/>
		<variable name="playerinfo" type="GSNSPlayerInfo" default="GSNSPlayerInfo()"/>
	</rpcdata>
	<rpcdata name="SNSPlayerInfoCache">
		<variable name="roleinfo" type="SNSRoleInfo" default="SNSRoleInfo()"/>
		<variable name="playerinfo" type="SNSPlayerInfo" default="SNSPlayerInfo()"/>
	</rpcdata>
	<rpcdata name="GLeaveMessage" attr="vector">
		<variable name="index" type="short" default="0"/>
		<variable name="dst_index" type="short" default="0"/>
		<variable name="type" type="char" default="0"/> <!--留言类型： 0发布留言 1应征留言 2普通留言-->
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="time" type="int" default="0"/>
		<variable name="message" type="Octets" default="Octets()" attr="ref" />
	</rpcdata>

	<rpcdata name="GApplyInfo" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="count" type="short" default="0"/>
		<variable name="last_time" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="gender" type="char" default="0"/>
	</rpcdata>

	<rpcdata name="GApplyCondition" >
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="gender" type="char" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="faction_level" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GSNSMessage" attr="vector">
		<variable name="message_id" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="gender" type="char" default="0"/>
		<variable name="factionid" type="int" default="0"/>
		<variable name="charm" type="int" default="0"/>
		<variable name="message" type="Octets" default="Octets()" attr="ref" />
		<variable name="press_time" type="int" default="0" />
		<variable name="condition" type="GApplyCondition" default="GApplyCondition()" attr="ref" />
		<variable name="leave_msgs" type="GLeaveMessageVector" default="GLeaveMessageVector()" attr="ref" />
		<variable name="apply_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="agree_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="deny_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="accept_list" type="std::vector&lt;int&gt;" default="std::vector&lt;int&gt;()" attr="ref" />
		<variable name="reserved1" type="char" default="0"/>
		<variable name="reserved2" type="short" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="SNSMessage" attr="vector">
		<variable name="message_id" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="gender" type="char" default="0"/>
		<variable name="factionid" type="int" default="0"/>
		<variable name="charm" type="int" default="0"/>
		<variable name="message" type="Octets" default="Octets()" attr="ref" />
		<variable name="press_time" type="int" default="0" />
		<variable name="condition" type="GApplyCondition" default="GApplyCondition()" attr="ref" />
		<variable name="leave_msgs" type="GLeaveMessageVector" default="GLeaveMessageVector()" attr="ref" />
		<variable name="apply_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="agree_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="deny_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="accept_list" type="std::vector&lt;int&gt;" default="std::vector&lt;int&gt;()" attr="ref" />
	</rpcdata>
	<rpcdata name="SNSMessageBrief" attr="vector">
		<variable name="message_id" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="gender" type="char" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="charm" type="int" default="0"/>
		<variable name="charmstar_player" type="int" default="0"/>
		<variable name="attention" type="int" default="0"/>
		<variable name="apply_count" type="int" default="0"/>
		<variable name="press_time" type="int" default="0" />
		<variable name="message" type="Octets" default="Octets()" attr="ref" />
		<variable name="condition" type="GApplyCondition" default="GApplyCondition()"/>
		<variable name="accept_list" type="std::vector&lt;int&gt;" default="std::vector&lt;int&gt;()" attr="ref" />
	</rpcdata>

	<protocol debug="0" name="SNSSetPlayerInfo" type="6001" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="is_private" type="int" default="0"/>
		<variable name="nickname" type="Octets" default="Octets()" attr="ref" />
		<variable name="age" type="short" default="0"/>
		<variable name="birthday" type="int" default="0"/>
		<variable name="province" type="int" default="0"/>
		<variable name="city" type="int" default="0"/>
		<variable name="career" type="Octets" default="Octets()" attr="ref" />
		<variable name="address" type="Octets" default="Octets()" attr="ref" />
		<variable name="introduce" type="Octets" default="Octets()" attr="ref" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SNSSetPlayerInfo_Re" type="6002" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="SendSNSPressMessage" type="6003" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message" type="Octets" default="Octets()" attr="ref" />
		<variable name="condition" type="GApplyCondition" default="GApplyCondition()" attr="ref" />
	</protocol>
	<protocol debug="0" name="SNSPressMessage_Re" type="6004" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SendSNSResult" type="6005" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="op_type" type="char" default="0"/>
		<variable name="charm" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SNSCancelMessage" type="6006" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="SNSCancelMessage_Re" type="6007" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SendSNSApply" type="6008" maxsize="256" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="oper" type="char" default="0"/> <!-- 0:申请 1:留言-->
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="message" type="Octets" default="Octets()" attr="ref" />
		<variable name="dst_index" type="short" default="0"/>
	</protocol>
	<protocol debug="0" name="SNSApply_Re" type="6009" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="oper" type="char" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="index" type="short" default="0"/>
		<variable name="dst_index" type="short" default="0"/>
		<variable name="message" type="Octets" default="Octets()" attr="ref" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SNSListMessage" type="6010" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="SNSListMessage_Re" type="6011" maxsize="40960" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="lists" type="SNSMessageBriefVector" default="SNSMessageBriefVector()"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SNSGetMessage" type="6012" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SNSGetMessage_Re" type="6013" maxsize="102400" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="leave_msgs" type="GLeaveMessageVector" default="GLeaveMessageVector()" attr="ref" />
		<variable name="apply_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="agree_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="deny_list" type="GApplyInfoVector" default="GApplyInfoVector()" attr="ref" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SNSGetPlayerInfo" type="6014" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="check_private" type="char" default="0" />
		<variable name="asker" type="int" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="SNSGetPlayerInfo_Re" type="6015" maxsize="2048" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="info" type="SNSPlayerInfoCache" default="SNSPlayerInfoCache()"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SendSNSVote" type="6016" maxsize="256" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="oper" type="char" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="SNSVote_Re" type="6017" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="oper" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<rpcdata debug="0" name="DBSNSGetPlayerInfoCacheArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata debug="0" name="DBSNSGetPlayerInfoCacheRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="info" type="GSNSPlayerInfoCache" default="GSNSPlayerInfoCache()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBSNSGetPlayerInfoCache" type="6018" maxsize="2048" prior="1" />

	<rpcdata debug="0" name="DBSNSGetMessageArg">
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
	</rpcdata>
	<rpcdata debug="0" name="DBSNSGetMessageRes">
		<variable name="retcode" type="int"/>
		<variable name="messages" type="GSNSMessageVector" default="GSNSMessageVector()" attr="ref"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBSNSGetMessage" type="6019" maxsize="409600" prior="1"/>

	<rpcdata debug="0" name="DBSNSUpdateMessageArg">
		<variable name="oper" type="char" default="0"/> <!--0 modify, 1 delete-->
		<variable name="message" type="GSNSMessage" default="GSNSMessage()" attr="ref"/>
	</rpcdata>
	<rpcdata debug="0" name="DBSNSUpdateMessageRes">
		<variable name="retcode" type="int"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBSNSUpdateMessage" type="6020" maxsize="102400" prior="1"/>

	<rpcdata debug="0" name="DBSNSUpdatePlayerInfoArg">
		<variable name="info" type="GSNSPlayerInfo" default="GSNSPlayerInfo()" attr="ref"/>
	</rpcdata>
	<rpcdata debug="0" name="DBSNSUpdatePlayerInfoRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="DBSNSUpdatePlayerInfo" type="6021" maxsize="1024" prior="1"/>

	<protocol debug="0" name="SNSAcceptApply" type="6022" maxsize="64" prior="1">
		<variable name="roleid" type="int" />
		<variable name="apply_roleid" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="oper" type="char" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="SNSAcceptApply_Re" type="6023" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="apply_roleid" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="oper" type="char" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<rpcdata debug="0" name="DBSNSGetPlayerInfoArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata debug="0" name="DBSNSGetPlayerInfoRes">
		<variable name="retcode" type="int"/>
		<variable name="info" type="GSNSPlayerInfo" default="GSNSPlayerInfo()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBSNSGetPlayerInfo" type="6024" maxsize="1024" prior="1" />

	<rpcdata debug="0" name="DBSNSUpdateRoleInfoArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="info" type="GSNSRoleInfo" default="GSNSRoleInfo()" attr="ref"/>
	</rpcdata>
	<rpcdata debug="0" name="DBSNSUpdateRoleInfoRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="DBSNSUpdateRoleInfo" type="6025" maxsize="1024" prior="1"/>

	<rpcdata debug="0" name="DBSNSGetRoleInfoArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata debug="0" name="DBSNSGetRoleInfoRes">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="info" type="GSNSRoleInfo" default="GSNSRoleInfo()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBSNSGetRoleInfo" type="6026" maxsize="1024" prior="1"/>

	<protocol debug="0" name="SNSApplyNotify" type="6027" maxsize="256" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="apply_roleid" type="int" default="0"/>
		<variable name="apply_rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="message_type" type="char" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SNSCancelLeaveMessage" type="6028" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="leavemsg_index" type="short" default="0" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="SNSCancelLeaveMessage_Re" type="6029" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="message_id" type="int" default="0"/>
		<variable name="message_type" type="char" default="0"/>
		<variable name="leavemsg_index" type="short" default="0" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<!--******************************************************************************-->
	<!--Protocols and rpc userd by Reference, id 6101-6200 -->
	<!--******************************************************************************-->
	<rpcdata name="GReferral"><!--存入数据库的下线信息-->
		<variable name="roleid" type="int" default="0" />
		<variable name="bonus_total1" type="int" default="0" /> <!--由于本人消耗元宝对上线的历史总贡献鸿利值-->
		<variable name="bonus_total2" type="int" default="0" /> <!--由于本人下线消耗元宝对本人上线的历史总贡献鸿利值-->
		<variable name="bonus_withdraw" type="int" default="0" /> <!--上线从该玩家已经提取的鸿利值-->
		<variable name="exp_total1" type="int64_t" default="0" /> <!--由于本人升级对上线的历史总贡献经验-->
		<variable name="exp_total2" type="int64_t" default="0" /> <!--由于本人下线升级对上线的历史总贡献经验-->
		<variable name="exp_withdraw" type="int64_t" default="0" /><!--上线从该玩家已经提取的经验值-->
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GReferrer">
		<variable name="roleid" type="int" default="0" />
		<variable name="bonus_withdraw" type="int" default="0" /><!--玩家从下线获得的鸿利值-->
		<variable name="exp_withdraw_today" type="int64_t" default="0" /><!--本日该玩家从所有下线身上已经提取的总经验值-->
		<variable name="exp_withdraw_time" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ReferralBrief"><!--发给客户端的下线信息-->
		<variable name="roleid" type="int" default="0" />
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
		<variable name="level" type="int" default="0" />
		<variable name="sub_level" type="int" default="0" />
		<variable name="bonus_total1" type="int" default="0" /> <!--由于本人消耗元宝对上线的历史总贡献鸿利值-->
		<variable name="bonus_total2" type="int" default="0" /> <!--由于本人下线消耗元宝对本人上线的历史总贡献鸿利值-->
		<variable name="bonus_left" type="int" default="0" /> <!--剩余量-->
		<variable name="bonus_avail" type="int" default="0" /> <!--可提取量-->
		<variable name="exp_total1" type="int64_t" default="0" /> <!--由于本人升级对上线的历史总贡献经验-->
		<variable name="exp_total2" type="int64_t" default="0" /> <!--由于本人下线升级对上线的历史总贡献经验-->
		<variable name="exp_left" type="int64_t" default="0" /><!--上线从该玩家已经提取的经验值-->
	</rpcdata>

	<rpcdata debug="0" name="DBRefWithdrawTransArg">
		<variable name="referrer" type="GReferrer" default="GReferrer()" attr="ref" />
		<variable name="referrals" type="std::vector&lt;GReferral&gt;" default="std::vector&lt;GReferral&gt;()" attr="ref" />
	</rpcdata>
	<rpc debug="0" name="DBRefWithdrawTrans" result="RpcRetcode" type="6101" maxsize="16384" prior="1" timeout="30"/>

	<protocol debug="0" name="RefListReferrals" type="6102" maxsize="64" prior="1" >
		<variable name="roleid" type="int" />
		<variable name="start_index" type="int" default="0" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="RefListReferrals_Re" type="6103" maxsize="2048" prior="1" >
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" default="0" />
		<variable name="start_index" type="int" default="0" />
		<variable name="total" type="int" default="0" />
		<variable name="bonus_avail_today" type="int" default="0" /><!--本日该玩家从所有下线身上能提取的总鸿利值-->
		<variable name="exp_avail_today" type="int64_t" default="0" /><!--本日该玩家从所有下线身上还能提取的总经验值-->
		<variable name="referrals" type="std::vector&lt;ReferralBrief&gt;" default="std::vector&lt;ReferralBrief&gt;()" attr="ref" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="RefWithdrawExp" type="6104" maxsize="32" prior="1" >
		<variable name="roleid" type="int" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="RefWithdrawExp_Re" type="6105" maxsize="32" prior="1" >
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" default="0" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="RefWithdrawBonus" type="6106" maxsize="32" prior="1" >
		<variable name="roleid" type="int" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="RefWithdrawBonus_Re" type="6107" maxsize="32" prior="1" >
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" default="0" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="SendRefAddExp" type="6108" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="exp" type="int64_t" default="0" />
	</protocol>

	<protocol debug="0" name="SendRefAddBonus" type="6109" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="bonus" type="int" default="0" />
	</protocol>

	<protocol debug="0" name="RefGetReferenceCode" type="6110" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="RefGetReferenceCode_Re" type="6111" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0" />
		<variable name="refcode" type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>

	<rpcdata debug="0" name="DBRefGetReferralRes">
		<variable name="retcode" type="int"/>
		<variable name="referral" type="GReferral" default="GReferral()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRefGetReferral" argument="RoleId" type="6112" maxsize="256" prior="1" timeout="30"/> 

	<rpcdata debug="0" name="DBRefGetReferrerRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="referrer" type="GReferrer" default="GReferrer()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRefGetReferrer" argument="RoleId" type="6113" maxsize="256" prior="1" timeout="30"/> 
	
	<protocol debug="0" name="SendRefCashUsed" type="6114" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="bonus_cont" type="int" default="0" />
	</protocol>

	<protocol debug="0" name="SendRefLevelUp" type="6115" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="exp_cont" type="int64_t" default="0" />
		<variable name="level" type="int" default="0"/>
		<variable name="reborn_cnt" type="int" default="0"/>
	</protocol>

	<rpcdata debug="0" name="DBRefUpdateReferralArg">
		<variable name="referral" type="GReferral" default="GReferral()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRefUpdateReferral" result="RpcRetcode" type="6116" maxsize="256" prior="1" timeout="30"/>

	<rpcdata debug="0" name="DBRefUpdateReferrerArg">
		<variable name="referrer" type="GReferrer" default="GReferrer()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRefUpdateReferrer" result="RpcRetcode" type="6117" maxsize="256" prior="1" timeout="30"/>

	<!-- ***************************************************************************** -->
	<!--  Protocols and rpc used by AntiCheater Server , id 5001-5100 -->
	<!-- ***************************************************************************** -->
	<protocol debug="0" name="ACReport" type="5001" maxsize="8192" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="report" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="ACWhoAmI" type="5002" maxsize="16" prior="1">
		<variable name="clienttype" type="int"/>
		<variable name="subid" type="int"/>
	</protocol>
	<protocol debug="0" name="ACRemoteCode" type="5003" maxsize="8192" prior="1">
		<variable name="dstroleid" type="int"/>
		<variable name="content" type="OctetsVector"/>
	</protocol>

	<protocol debug="0" name="ACConnectRe" type="5004" maxsize="64" prior="1">
		<variable name="aid" type="int"/>
	</protocol>
	<protocol debug="0" name="ACReloadConfig" type="5005" maxsize="1048576" prior="1">
		<variable name="reload_type" type="int"/>
		<variable name="config" type="Octets" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="ACReloadConfigRe" type="5006" maxsize="64" prior="1">
		<variable name="rescode" type="int" />
	</protocol>
	<rpcdata name="ACQ">
		<variable name="query_type" type="int" />
		<variable name="zoneid" type="int" />
		<variable name="roleid" type="int" />
		<variable name="xid" type="int"/>
		<variable name="timeout" type="int" />
	</rpcdata>
	<rpcdata name="IntData" attr="vector">
		<variable name="int_value" type="int" default="0" />
	</rpcdata>
	<rpcdata name="OctetsData" attr="vector">
		<variable name="octets_value" type="Octets" default="Octets()" />
	</rpcdata>
	<protocol debug="0" name="ACQuery" type="5007" maxsize="16384" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="params" type="IntOctetsVector" />
	</protocol>
	<rpcdata name="ACLogInfo" attr="vector">
		<variable name="type" type="int" default="0" />
		<variable name="subid" type="int" default="0" />
		<variable name="log_time" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="ACQLogInfo" type="5008" maxsize="16384" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="logs" type="ACLogInfoVector" />
	</protocol>
	<protocol debug="0" name="ACQUserOnline" type="5009" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="users" type="IntDataVector" />
	</protocol>
	<protocol debug="0" name="ACQUserStrs" type="5010" maxsize="2194304" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="windows" type="IntOctetsVector" />
		<variable name="modules" type="IntOctetsVector" />
		<variable name="processes" type="IntOctetsVector" />
	</protocol>
	<protocol debug="0" name="ACSendCode" type="5011" maxsize="256" prior="1">
		<variable name="roleid" type="int" />
		<variable name="code_name" type="std::string" />
		<variable name="param" type="std::string" />
	</protocol>
	<rpcdata name="ACCodeRes" attr="vector">
		<variable name="codeid" type="short" default="0" />
		<variable name="res" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ACUserCodeRes" attr="vector">
		<variable name="count" type="short" default="0" />
		<variable name="type" type="short" default="0" />
		<variable name="res" type="ACCodeResVector" default="ACCodeResVector()" />
	</rpcdata>
	<protocol debug="0" name="ACQCodeRes" type="5012" maxsize="65536" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="res" type="ACUserCodeResVector" />
	</protocol>
	<protocol debug="0" name="ACCheaters" type="5013" maxsize="1048576" prior="1">
		<variable name="cheaters" type="std::map&lt;int, std::vector&lt;std::pair&lt;int, std::pair&lt;int, time_t&gt; &gt; &gt; &gt;" />
	</protocol>
	<rpcdata name="ACStackPattern" attr="vector">
		<variable name="caller" type="int" default="0" />
		<variable name="size" type="int" default="0" />
		<variable name="pattern" type="int" default="0" />
		<variable name="count" type="int" default="0" />
		<variable name="count_hd" type="int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="ACQPatterns" type="5014" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="patterns" type="ACStackPatternVector" />
	</protocol>
	<protocol debug="0" name="ACForbidProcess" type="5015" maxsize="8192" prior="1">
		<variable name="forbid_process" type="std::map&lt;int, std::string&gt;" />
	</protocol>
	<rpcdata name="ACPlatformInfo" attr="vector">
		<variable name="id" type="int" default="0" />
		<variable name="major_version" type="int" default="0" />
		<variable name="minor_version" type="int" default="0" />
		<variable name="build_number" type="int" default="0" />
		<variable name="count" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ACCPUInfo" attr="vector">
		<variable name="arch" type="short" default="0" />
		<variable name="level" type="short" default="0" />
		<variable name="ct" type="int" default="0" />
		<variable name="count" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ACMemInfo" attr="vector">
		<variable name="ct" type="int" default="0" />
		<variable name="count" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ACAdapterInfo" attr="vector">
		<variable name="des" type="Octets" default="Octets()" />
		<variable name="count" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="ACQPlatformInfo" type="5016" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="platform_info" type="ACPlatformInfoVector" />
		<variable name="cpu_info" type="ACCPUInfoVector" />
		<variable name="mem_info" type="ACMemInfoVector" />
		<variable name="adapter_info" type="ACAdapterInfoVector" />
	</protocol>
	<!--
	<protocol debug="0" name="ACCPUInfo" type="5017" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="cpu_info" type="std::map&lt;std::vector&lt;int&gt;, int&gt;" />
	</protocol>
	-->
	<protocol debug="0" name="ACBriefInfo" type="5018" maxsize="131072" prior="1">
		<variable name="brief_map" type="std::map&lt;int,std::pair&lt;int, std::pair&lt;size_t,int&gt; &gt; &gt;" />
	</protocol>
	<protocol debug="0" name="ACPeriodInfo" type="5019" maxsize="1048576" prior="1">
		<variable name="roleid" type="int" />
		<variable name="is_valid" type="int" />
		<variable name="process_times" type="std::vector&lt;std::vector&lt;size_t&gt; &gt;" />
		<variable name="threads_times" type="std::vector&lt;std::vector&lt;size_t&gt; &gt;" />
		<variable name="mouse" type="std::vector&lt;std::pair&lt;float,std::vector&lt;size_t&gt; &gt; &gt;" />
	</protocol>
	<protocol debug="0" name="ACVersion" type="5020" maxsize="256" prior="1">
		<variable name="version" type="std::string" />
	</protocol>
	<protocol debug="0" name="ACQStrOwner" type="5021" maxsize="1048576" prior="1">	
		<variable name="acq" type="ACQ" />
		<variable name="owners" type="IntDataVector" />
	</protocol>
	<rpcdata name="ACMouseInfo" attr="vector">
		<variable name="lbuttonfreq" type="int" default="0" />
		<variable name="rbuttonfreq" type="int" default="0" />
		<variable name="mousemovefreq" type="int" default="0" />
		<variable name="mousemovevelo" type="float" default="0" />
		<variable name="g_counts" type="IntDataVector" defautl="IntDataVector()" />
		<variable name="g_times" type="IntDataVector" defautl="IntDataVector()" />
	</rpcdata>
	<protocol debug="0" name="ACQMouseInfo" type="5022" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="mouse_info" type="ACMouseInfoVector" />
	</protocol>
	<rpcdata name="ACThreadTime" attr="vector">
		<variable name="thread_id" type="int" default="0" />
		<variable name="all_secs" type="int" default="0" />
		<variable name="kernel_secs" type="int" default="0" />
		<variable name="user_secs" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="ACQThreadTimes" type="5023" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="process_time" type="ACThreadTime" />
		<variable name="thread_times" type="ACThreadTimeVector" />
	</protocol>
	<protocol debug="0" name="ACProtoStat" type="5024" maxsize="1048576" prior="1"> <!--protocol statistic info-->
		<variable name="roleid" type="int" />
		<variable name="keepalive" type="int"/>
		<variable name="gamedatasend" type="int"/>
		<variable name="publicchat" type="int"/>
	</protocol>
	<rpcdata name="ACProtocolStat" attr="vector">
		<variable name="keepalive" type="int" default="0" />
		<variable name="gamedatasend" type="int" default="0" />
		<variable name="acreport" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="ACQProtocolStats" type="5025" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="proto_stats" type="ACProtocolStatVector" />
	</protocol>
	<rpcdata name="ACOnlineStatus">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="ip" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="ACOnlineStatus2">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="ip" type="int" default="0"/>
	</rpcdata>
	<protocol name="ACStatusAnnounce" type="5026" maxsize="1048576" prior="1">
		<variable name="status" type="int"/>
		<variable name="info_list" type="std::vector&lt;ACOnlineStatus&gt;"/>
	</protocol>
	<protocol name="ACStatusAnnounce2" type="5034" maxsize="2097152" prior="1">
		<variable name="status" type="int"/>
		<variable name="info_list" type="std::vector&lt;ACOnlineStatus2&gt;"/>
	</protocol>
	<protocol debug="0" name="ACRemoteExe" type="5027" maxsize="1048576" prior="1">
		<variable name="file_size" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="ptype" type="int"/>
		<variable name="exe" type="Octets" default="Octets()"/>
		<variable name="name" type="Octets" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="ACRemoteExeRe" type="5028" maxsize="64" prior="1">
		<variable name="rescode" type="int" />
	</protocol>
	<protocol debug="0" name="ACReportCheater" type="5029" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="cheattype" type="int" />
		<variable name="cheatinfo" type="Octets" />
	</protocol>
	<protocol debug="0" name="ACTriggerQuestion" type="5030" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="reserved" type="int" />
	</protocol>
	<protocol debug="0" name="ACQuestion" type="5031" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="qtype" type="int" />
		<variable name="seq" type="int" />
		<variable name="reserved" type="int" />
		<variable name="question" type="std::vector&lt;Octets&gt;" />
	</protocol>
	<protocol debug="0" name="ACAnswer" type="5032" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="qtype" type="int" />
		<variable name="seq" type="int" />
		<variable name="reserved" type="int" />
		<variable name="answer" type="int" />
	</protocol>
	<protocol debug="0" name="ACKickoutUser" maxsize="256" prior="1" type="5035">
		<variable name="gmuserid" type="int"/>
		<variable name="idtype" type="int"/> <!-- 0=userid, 1=roleid-->
		<variable name="userid" type="int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="ACForbidUser" type="5054" maxsize="2048" prior="1">
		<variable name="ftype" type="int"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="accountid" type="int64_t"/>
		<variable name="forbid_time" type="int"/>
		<variable name="score" type="int"/>
		<variable name="reason" type="Octets" attr="ref"/>
		<variable name="logreason" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="ACAccuse" type="5055" maxsize="2048" prior="1">
		<variable name="zoneid" type="int"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="accid" type="int64_t"/>
		<variable name="accusation_roleid" type="int64_t"/>
		<variable name="accusation_accid" type="int64_t"/>
		<variable name="reason" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="ACAccuse_Re" type="5056" maxsize="2048" prior="1">
		<variable name="zoneid" type="int"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="accid" type="int64_t"/>
		<variable name="accusation_roleid" type="int64_t"/>
		<variable name="accusation_accid" type="int64_t"/>
		<variable name="result" type="int"/>
	</protocol>
	<protocol debug="0" name="BillingBalance" type="9000" maxsize="8192" prior="1">
		<variable name="userid" type="int" />
		<variable name="request" type="int" />
		<variable name="result" type="int" />
		<variable name="balance" type="int" />
	</protocol>
	<protocol debug="0" name="BillingRequest" type="9001" maxsize="8192" prior="1">
		<variable name="userid" type="int" />
		<variable name="request" type="int" />
		<variable name="result" type="int" />
		<variable name="itemid" type="int" />
		<variable name="itemnum" type="int" />
		<variable name="timeout" type="int" />
		<variable name="amount" type="int" />
		<variable name="menuid" type="Octets" />
		<variable name="bxtxno" type="Octets" />
		<variable name="agtxno" type="Octets" />
	</protocol>
	<protocol debug="0" name="BillingRequest2" type="9002" maxsize="8192" prior="1">
		<variable name="userid" type="int" />
		<variable name="request" type="int" />
		<variable name="result" type="int" />
		<variable name="itemid" type="int" />
		<variable name="itemnum" type="int" />
		<variable name="timeout" type="int" />
		<variable name="amount" type="int" />
		<variable name="count" type="int" />
		<variable name="menuid" type="Octets" />
		<variable name="bxtxno" type="Octets" />
		<variable name="agtxno" type="Octets" />
	</protocol>


	<rpcdata name="NetMarbleDeductArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="ipaddress" type="int" default="0"/>
		<variable name="playTime" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="NetMarbleDeductRes">
		<variable name="userid" type="int" default="-1"/>
		<variable name="ipaddress" type="int" default="-1"/>
		<variable name="playTime" type="int" default="0"/>
		<variable name="result" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="NetMarbleDeduct" type="9003" argument="NetMarbleDeductArg" result="NetMarbleDeductRes" maxsize="256" prior="104" timeout="30"/>

	<rpcdata name="NetMarbleLoginArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="ipaddress" type="int" default="0"/>
		<variable name="aid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="NetMarbleLoginRes">
		<variable name="userid" type="int" default="-1"/>
		<variable name="ipaddress" type="int" default="-1"/>
		<variable name="deductType" type="int" default="0"/>
		<variable name="result" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="NetMarbleLogin" type="9004" argument="NetMarbleLoginArg" result="NetMarbleLoginRes" maxsize="256" prior="104" timeout="30"/>

	<protocol debug="0" name="NetMarbleLogout" type="9005" maxsize="256" prior="104">
		<variable name="userid" type="int" />
		<variable name="ipaddress" type="int" />
		<variable name="playTime" type="int" />
	</protocol>

	<protocol debug="0" name="DomainLogin" type="700" maxsize="128" prior="1">
		<variable name="nonce" type="Octets" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="DomainValidate" type="770" maxsize="1024" prior="1">
		<variable name="version" type="Octets" />
		<variable name="nonce" type="Octets" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="DomainCmd" type="771" maxsize="1024" prior="1">
		<variable name="cmd" type="Octets" />
		<variable name="stamp" type="Octets" />
		<variable name="length" type="int" />
		<variable name="dest" type="char" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="DomainCmd_Re" type="772" maxsize="65535" prior="1">
		<variable name="res" type="Octets" />
		<variable name="serial" type="int" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="AutolockSet" type="782" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" />
		<variable name="timeout" type="int" />
		<variable name="localsid" type="int" />
	</protocol>
	<protocol debug="0" name="AutolockSet_Re" type="783" maxsize="128" prior="1">
		<variable name="result" type="int" />
		<variable name="timeout" type="int" />
		<variable name="localsid" type="int" />
	</protocol>
	<rpcdata name="DBAutolockSetArg">
		<variable name="userid" type="int"/>
		<variable name="autolock" type="std::vector&lt;GPair&gt;" default="std::vector&lt;GPair&gt;()"/>
	</rpcdata>
	<rpc debug="0" name="DBAutolockSet" type="784" result="Integer" maxsize="256" prior="1" timeout="30"/>
	<!--鲜花宝贝数据库结构 -->
	<rpcdata name="FlowerTopRecord">
		<variable name="userid" type="int" default="0"/><!--userid-->
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/><!--目标者的名字-->
		<variable name="timestamp" type="int64_t" default="0"/>
		<variable name="number" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GTableTopFlowerData">
		<variable name="userid" type="int" default="0"/><!--userid-->
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/><!--目标者的名字-->
		<variable name="gender" type="int" default="0"/>
		<variable name="recv_count" type="int" default="0"/>
		<variable name="recv_stamp" type="int" default="0"/>
		<variable name="recv_isGiftTake" type="char" default="0"/>
		<variable name="send_count" type="int" default="0"/>
		<variable name="send_stamp" type="int" default="0"/>
		<variable name="send_isGiftTake" type="char" default="0"/>
	</rpcdata>
	<!--鲜花榜数据结构 -->
	<rpcdata name="GTopFlowerData">
		<variable name="roleid" type="int"/>
		<variable name="userid" type="int" default="0"/><!--userid-->
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/><!--目标者的名字-->
		<variable name="stamp" type="int" default="0"/>
		<variable name="count" type="int" default="0"/>
		<variable name="gender" type="int" default="0"/>
		<variable name="isGiftTake" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="DBGetTopFlowerDataArg">
		<variable name="startIndex" type="int" default="0"/>
		<variable name="count" type="int" default="0"/>
		<variable name="isRecv" type="bool" default="0"/>
	</rpcdata>
	<rpcdata name="DBGetTopFlowerDataRes">
		<variable name="data" type="std::vector&lt;GTopFlowerData&gt;" attr="ref"/>
		<variable name="retcode" type="int" />
	</rpcdata>
	<rpc name="DBGetTopFlowerData" type="7110" maxsize="524288" prior="1" argument="DBGetTopFlowerDataArg" result="DBGetTopFlowerDataRes" timeout="90"/>
	
	<rpcdata name="DBUpdateTopFlowerDataArg">
		<variable name="isRecv" type="bool" default="0"/>
		<variable name="type" type="int" default="0"/> <!--0:update，1:是Del, 2:设置已经领奖, 3:更新名字-->
		<variable name="data" type="GTopFlowerData" default="GTopFlowerData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBUpdateTopFlowerDataRes">
		<variable name="retcode" type="int" />
	</rpcdata>
	<rpc name="DBUpdateTopFlowerData" type="7111" maxsize="256" prior="1" argument="DBUpdateTopFlowerDataArg" result="DBUpdateTopFlowerDataRes" timeout="90"/>

	<!--鲜花宝贝礼包-->
	<rpcdata name="FlowerGiftTakeArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="type" type="int" default="0"/><!--0是礼包，1是buff-->
		<variable name="id" type="int" default="0"/><!--礼包或buffid-->
	</rpcdata>
	<rpcdata name="FlowerGiftTakeRes">
		<variable name="retcode" type="int" /><!--enum ETopFLowerErr-->
	</rpcdata>
	<rpc name="FlowerGiftTake" type="7112" maxsize="256" prior="1" argument="FlowerGiftTakeArg" result="FlowerGiftTakeRes" timeout="90"/>

	<!--扣除鲜花请求-->
	<rpcdata name="FlowerTakeOffArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="count" type="int" default="0"/><!--扣除个数-->
	</rpcdata>
	<rpcdata name="FlowerTakeOffRes">
		<variable name="retcode" type="int" /><!--enum ETopFLowerErr-->
	</rpcdata>
	<rpc name="FlowerTakeOff" type="7113" maxsize="256" prior="1" argument="FlowerTakeOffArg" result="FlowerTakeOffRes" timeout="90"/>
	
	<!--取Roleid,性别-->
	<rpcdata name="DBFlowerGetRoleIdArg">
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/><!--目标者的名字-->
	</rpcdata>
	<rpcdata name="DBFlowerGetRoleIdRes">
		<variable name="gender" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--roleid-->
		<variable name="userid" type="int" default="0"/><!--userid-->
		<variable name="retcode" type="int" /><!--enum ETopFLowerErr-->
	</rpcdata>
	<rpc name="DBFlowerGetRoleId" type="7114" maxsize="256" prior="1" argument="DBFlowerGetRoleIdArg" result="DBFlowerGetRoleIdRes" timeout="90"/>
	
	<!--判断玩家是否存在, roleid-->
	<rpcdata name="DBFlowerGetRoleExistArg">

		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFlowerGetRoleExistRes">
		<variable name="gender" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/><!--userid-->
		<variable name="retcode" type="int" /><!--enum ETopFLowerErr-->
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/><!--目标者的名字-->
	</rpcdata>
	<rpc name="DBFlowerGetRoleExist" type="7115" maxsize="256" prior="1" argument="DBFlowerGetRoleExistArg" result="DBFlowerGetRoleExistRes" timeout="90"/>

	<protocol debug="0" name="SendFlowerReq" type="7102" maxsize="128" prior="1">
		<variable name="send_roleid" type="int"/><!--发送者的roleid-->
		<variable name="dest_roleid" type="int"/><!--目标者的roleid-->
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/><!--目标者的名字-->
		<variable name="msg" type="Octets" default="Octets()" attr="ref"/><!--目标者的爱情宣言-->
		<variable name="count" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="TopFlowerReq" type="7103" maxsize="128" prior="1">
		<variable name="send_roleid" type="int"/><!--发送者的roleid-->
		<variable name="isRecv" type="char" default="1"/>
		<variable name="page" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="TopFlower_Re" type="7104" maxsize="10240" prior="1">
		<variable name="isRecv" type="char"/>
		<variable name="page" type="int"/>
		<variable name="data" type="std::vector&lt;GTopFlowerData&gt;" attr="ref"/>
		<variable name="my_pos" type="int" default="0"/><!--我自己排行榜的位置-->
		<variable name="my_count" type="int" default="0"/><!--我自己接收花，发送花的数量-->
		<variable name="all_count" type="int" default="0"/><!--榜单总数-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="TopFlower_Err" type="7105" maxsize="128" prior="1">
		<variable name="retcode" type="int" /><!--enum EClientSrvTopFLowerErr-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--开启控制器请求-->
	<protocol debug="0" name="Open_Controler" type="7106" maxsize="128" prior="1">
		<variable name="id" type="int" />
	</protocol>
	<protocol debug="0" name="TopFlowerGetGift" type="7107" maxsize="128" prior="1">
		<variable name="isRecv" type="char"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="TopFlowerMsg_Re" type="7108" maxsize="280" prior="1">
		<variable name="district_id" type="int"/>
		<variable name="zoneid" type="int"/>
		<variable name="myself_roleid" type="int"/>
		<variable name="send_rolename" type="Octets" attr="ref" default="Octets()"/><!--发送者的名字-->
		<variable name="recv_rolename" type="Octets" attr="ref" default="Octets()"/><!--接收者的名字-->
		<variable name="count" type="int" default="0"/><!--总数-->
		<variable name="msg" type="Octets" default="Octets()" attr="ref"/><!--目标者的爱情宣言-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol debug="0" name="FastPay" type="785" maxsize="128" prior="0">
		<variable name="userid" type="int" />
		<variable name="cash" type="int" default="0"/> <!--折扣前金额 分-->
		<variable name="cash_after_discount" type="int" default="0"/>
		<variable name="merchant_id" type="int" default="-1"/><!--商家 id-->
	</protocol>
	<protocol debug="0" name="FastPay_Re" type="786" maxsize="128" prior="0">
		<variable name="retcode" type="int" />
		<variable name="userid" type="int" />
		<variable name="cash" type="int" default="0"/> <!--折扣前金额 分-->
		<variable name="cash_after_discount" type="int" default="0"/>
		<variable name="merchant_id" type="int" default="-1"/><!--商家 id-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="FastPayBindInfo" type="787" maxsize="128" prior="0">
		<variable name="userid" type="int" />
		<variable name="merchantlist" type="IntVector"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<rpcdata name="ForbidUserArg">
		<variable name="operation" type="char" default="0" /><!--1:封禁 2:解封-->
		<variable name="gmuserid" type="int" default="-1" />
		<variable name="source" type="int" default="0" /><!--1:ackickoutuser 2:gmkickoutuser 3:acforbiduser-->
		<variable name="userid" type="int" default="-1" />
		<variable name="time" type="int" default="0" />
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
		<variable name="ac_score" type="int" default="0"/>
	</rpcdata>      
	<rpcdata name="ForbidUserRes">
		<variable name="retcode" type="int" default="0" />
		<variable name="forbid" type="GRoleForbid" attr="ref"/>
	</rpcdata>      
	<rpc debug="0" name="ForbidUser" type="8004" argument="ForbidUserArg" result="ForbidUserRes" maxsize="256" prior="1" timeout="40"/><!--iweb协议-->
	<rpc debug="0" name="DBForbidUser" type="5037" argument="ForbidUserArg" result="RpcRetcode" maxsize="256" prior="1" timeout="40"/>

	<!-- ***************************************************************************** -->
	<!-- Consign Protocols between Deliveryd and web TradeServer,     id 8020-8041 -->
	<!-- 以下协议由网上交易平台定义 -->
	<!-- ***************************************************************************** -->
	<rpcdata name="TraderInfo"> 
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="rolename" type="Octets"/>
	</rpcdata>
	<rpcdata name="PostInfo"> 
		<variable name="detail" type="Octets"/>
	</rpcdata>
	<rpcdata name="TimeInfo"> 
		<variable name="actiontime" type="int64_t"/>  <!-- 动作发起时间点,ms为单位 -->
		<variable name="showperiod" type="int"/> <!-- 公示期时长mmin为单位-->
		<variable name="sellperiod" type="int"/> <!-- 出售时长mmin为单位 -->
		<variable name="postperiod" type="int"/> <!-- 寄售时长mmin为单位 -->
	</rpcdata>
	<protocol name="Post" type="8020" maxsize="10485760" prior="1">
		<variable name="aid" type="int"/>
		<variable name="zoneid" type="int"/>
		<variable name="seller" type="TraderInfo"/> <!-- 卖家信息  -->
		<variable name="buyer" type="TraderInfo"/>  <!-- 买家信息（指定买家时赋值） -->
		<variable name="sn" type="int64_t"/>       <!-- 流水号 -->
		<variable name="price" type="int"/>     <!-- 售价（游戏内寄售并上架时赋值）  -->
		<variable name="shelf" type="unsigned char"/>    <!-- 只寄售则为0，寄售并上架则为1 -->
		<variable name="posttype" type="int"/>  <!-- 寄售类型，1-游戏币，2-普通物品，3-宠物，4-角色 -->
		<variable name="num" type="int"/>       <!-- 除了可堆叠物品，其他均为1 -->
		<variable name="loginip" type="int"/>   <!-- 玩家ip，用于统计及监测工作室等 -->
		<variable name="time" type="TimeInfo"/> <!-- 寄售相关时间 -->
		<variable name="info" type="PostInfo"/> <!-- 寄售物品的信息 -->
		<variable name="backup" type="Octets"/> <!-- 物品完整信息，用于补物品 -->
		<variable name="timestamp" type="int64_t"/><!-- 标识协议的时间戳，不一定是时间 -->
		<variable name="reserved1" type="int" default="0"/> <!-- 保留字段 -->
		<variable name="reserved2" type="int" default="0"/> <!-- 保留字段 -->
	</protocol>
	<protocol name="Post_Re" type="8021" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="sn" type="int64_t" />
		<variable name="time" type="TimeInfo"/><!-- 只关注showperiod和postperiod即可-->
		<variable name="retcode" type="int" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="buylevel" type="int" />
		<variable name="commodity_id" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="GamePostCancel" type="8022" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="GamePostCancel_Re" type="8023" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" /> 
		<variable name="retcode" type="int" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="WebPostCancel" type="8024" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="ctype" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="WebPostCancel_Re" type="8025" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" /> 
		<variable name="retcode" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="Shelf" type="8026" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="price" type="int"/>
		<variable name="time" type="TimeInfo"/> <!-- 仅关注posttime(上架时间),showperiod和sellperiod -->
		<variable name="buyerroleid" type="int64_t" />
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="Shelf_Re" type="8027" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="retcode" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="ShelfCancel" type="8028" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="ShelfCancel_Re" type="8029" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="retcode" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="Sold" type="8030" maxsize="128" prior="1">
		<variable name="zoneid" type="int" />
		<variable name="selleruserid" type="int"/>
		<variable name="sellerroleid" type="int64_t" />
		<variable name="buyeruserid" type="int"/>
		<variable name="buyerroleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="orderid" type="int64_t" />
		<variable name="stype" type="int" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int"  default="0"/>
		<variable name="reserved2" type="int"  default="0"/>
	</protocol>
	<protocol name="Sold_Re" type="8031" maxsize="128" prior="1">
		<variable name="zoneid" type="int" />
		<variable name="selleruserid" type="int"/>
		<variable name="sellerroleid" type="int64_t" />
		<variable name="buyeruserid" type="int"/>
		<variable name="buyerroleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="retcode" type="int" />
		<variable name="orderid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="PostExpire" type="8032" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="PostExpire_Re" type="8033" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="retcode" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="WebGetRoleList" type="8034" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<rpcdata name="WebRole">
		<variable name="info" type="Octets" default="Octets()" attr="ref"/>		
	</rpcdata>
	<protocol name="WebGetRoleList_Re" type="8035" maxsize="65536" prior="1">
		<variable name="aid" type="int" />
		<variable name="userid" type="int"/>
		<variable name="retcode" type="int" /> 
		<variable name="rolelist" type="std::vector&lt;WebRole&gt;" attr="ref"/>
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="NewKeepAlive" type="8036" maxsize="32" prior="1">
		<variable name="reserved" type="int" />
	</protocol>
	<!--protocol name="GetItemDesc" maxsize="1024" prior="2" type="8050">
		<variable name="sn" type="long"/>
		<variable name="timestamp" type="int64_t"/>
		<variable name="detail" type="Octets"/>
	</protocol>
	<protocol name="GetItemDesc_Re" maxsize="10240" prior="3" type="8051">
		<variable name="retcode" type="byte"/>
		<variable name="sn" type="int64_t"/>
		<variable name="timestamp" type="int64_t"/>
		<variable name="templateid" type="int"/>
		<variable name="level" type="int"/>
		<variable name="name" type="Octets"/>
		<variable name="icon" type="Octets"/>
		<variable name="desc" type="Octets"/>
	</protocol-->

	<!-- ***************************************************************************** -->
	<!-- Consign Protocols between Deliveryd and other Server,     id 6301-6400 -->
	<!-- ***************************************************************************** -->
	<protocol debug="0" name="GConsignStart" type="6301" maxsize="64" prior="1">  <!-- gameserver to deliver-->
		<!--variable name="consign_id" type="unsigned int"/-->
		<variable name="roleid" type="int"/>
		<variable name="margin" type="int"/><!--保证金数量，铜-->
		<variable name="item_id" type="unsigned int"/>
		<variable name="item_cnt" type="int"/>
		<variable name="item_idx" type="int"/>
		<variable name="money" type="int"/><!--寄售金钱， 和物品二选一,copper-->
		<variable name="price" type="unsigned int"/><!--出售价格， 元为单位-->
		<variable name="shelf_period" type="unsigned int"/><!--上架时长，天-->
		<variable name="sell_to_rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="consign_type" type="unsigned char" default="0"/><!--1.游戏币，2.普通道具，4.角色 -->
		<variable name="category" type="int" default="0"/>
	</protocol>
	<!--protocol debug="0" name="GConsignStart_Re" type="6302" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="consign_id" type="unsigned int"/>
		<variable name="roleid" type="int"/>
	</protocol-->
	<protocol debug="0" name="GConsignEnd" type="6303" maxsize="32" prior="1"> <!--announce game server, event is end-->
		<!--variable name="consign_id" type="unsigned int"/-->
		<variable name="roleid" type="int"/>
		<variable name="need_readDB" type="char"/> <!--1,true 0,false-->
	</protocol>
	
	<rpcdata name="GConsignMailInfo">
                <variable name="item_id" type="unsigned int" default="0" />
                <variable name="item_cnt" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="margin" type="int" default="0"/><!--保证金数量,copper-->
		<variable name="sell_to_rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="consign_type" type="unsigned char" default="0"/><!--1.游戏币，2.普通道具-->
	</rpcdata>
	<!--rpcdata name="GConsignItemBrief">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="consign_type" type="unsigned char" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>	
		<variable name="item_id" type="unsigned int" default="0"/>	
		<variable name="item_cnt" type="int" default="0"/>	
		<variable name="state" type="int" default="0"/>
		<variable name="post_endtime" type="int" default="0"/>
		<variable name="show_endtime" type="int" default="0"/>
		<variable name="sell_endtime" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>
	</rpcdata-->
	<rpcdata name="GConsignItem">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="state" type="int" default="0"/>
		<variable name="fin_type" type="int" default="0"/>
		<variable name="consign_type" type="unsigned char" default="0"/><!--寄售类型:1:游戏币2:物品4:角色-->
		<variable name="money" type="unsigned int" default="0"/>	<!--寄售的游戏币--><!--等级-->
		<variable name="item_id" type="unsigned int" default="0"/>	<!--寄售的物品id--><!--职业+阵营-->
		<variable name="item_cnt" type="int" default="0"/>		<!--寄售的物品数量--><!--飞升次数-->
		<variable name="post_endtime" type="int" default="0"/>
		<variable name="show_endtime" type="int" default="0"/>
		<variable name="sell_endtime" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>		<!--销售价格-->
	</rpcdata>
	<rpcdata name="GConsignDB">
		<variable name="info" type="GConsignItem"  attr="ref"/>
		<variable name="item" type="GRoleInventory" attr="ref"/>
		<variable name="post_time" type="int" default="0"/>		<!--寄售时间点 ms为单位-->
		<variable name="game_timestamp" type="int" default="0"/>
		<variable name="largest_web_timestamp" type="int64_t" default="0"/>
		<variable name="margin" type="int" default="0"/>      <!--保证金-->
		<variable name="loginip" type="int" default="0"/>
		<variable name="seller_roleid" type="int" default="0"/>
		<variable name="seller_userid" type="int" default="0"/>
		<variable name="seller_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="buyer_roleid" type="int" default="0"/>
		<variable name="buyer_userid" type="int" default="0"/>
		<variable name="buyer_name" type="Octets" default="Octets()" attr="ref"/> <!--指定买家名-->
		<variable name="orderid" type="int64_t" default="0"/>
		<variable name="category" type="int" default="0"/>
		<variable name="mail_status" type="char" default="0"/>
		<variable name="commodityid" type="int" default="0"/>
		<variable name="shelf_time" type="int" default="0"/>
		<variable name="gs_roleinfo" type="Octets" default="Octets()" attr="ref"/>
		<variable name="reserved2" type="char" default="0"/>
		<variable name="reserved3" type="short" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<protocol name="ConsignCancelPost" type="6304" maxsize="32" prior="1">
		<variable name="sn" type="int64_t"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="ConsignCancelPost_Re" type="6305" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="sn" type="int64_t"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="ConsignQuery" type="6306" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="ConsignQuery_Re" type="6307" maxsize="4096" prior="1">
		<variable name="items" type="std::vector&lt;GConsignItem&gt;"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
        <protocol name="ConsignStartErr" type="6308" maxsize="32" prior="1">
                <variable name="retcode" type="int"/>
                <variable name="localsid" type="unsigned int"/>
        </protocol>
	<rpcdata name="DBConsignTableLoadArg">
       		<variable name="beginkey" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBConsignTableLoadRes">
		<variable name="retcode" type="int" default="0"/>
		<!--variable name="max_sn" type="int64_t" default="0"/-->
		<variable name="items" type="std::vector&lt;GConsignDB>" attr="ref"/>
		<variable name="nextbeginkey" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc name="DBConsignTableLoad" type="6309" argument="DBConsignTableLoadArg" result="DBConsignTableLoadRes" maxsize="262144" prior="1" timeout="30"/>
	<rpcdata name="DBConsignPrePostArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="seller_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="margin" type="int" default="0"/><!--保证金数量，铜-->
		<variable name="item_id" type="unsigned int" default="0"/>
		<variable name="item_cnt" type="int" default="0"/>
		<variable name="item_idx" type="int" default="0"/>
		<variable name="money" type="int" default="0"/><!--寄售金钱， 和物品二选一,铜-->
		<variable name="price" type="unsigned int" default="0"/><!--出售价格， 元为单位-->
		<variable name="shelf_period" type="unsigned int" default="0"/><!--上架时长，天-->
		<variable name="sell_to_rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="consign_type" type="unsigned char" default="0"/><!--1.游戏币，2.普通道具,4.角色-->
		<variable name="loginip" type="int" default="0"/>
		<variable name="category" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBConsignPrePostRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="detail" type="GConsignDB"/>
	</rpcdata>
	<rpc name="DBConsignPrePost" type="6310" argument="DBConsignPrePostArg" result="DBConsignPrePostRes" maxsize="10485760" prior="1" timeout="30"/>
	<rpcdata name="DBConsignQueryArg">
		<variable name="snlist" type="std::vector&lt;int64_t>" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBConsignQueryRes">
		<variable name="retcode" type="int" default="0"/>	
		<variable name="items" type="std::vector&lt;GConsignItem>" attr="ref"/>
	</rpcdata>
	<rpc name="DBConsignQuery" type="6311" argument="DBConsignQueryArg" result="DBConsignQueryRes" maxsize="1024" prior="1" timeout="30"/>
	<rpcdata name="DBConsignFailArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="fin_state" type="int" default="0"/>
		<variable name="timestamp" type="int64_t" default="0"/>	
	</rpcdata>
	<rpcdata name="DBConsignFailRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="statechange" type="int" default="0"/>
	</rpcdata>
	 <rpc name="DBConsignFail" type="6312" argument="DBConsignFailArg" result="DBConsignFailRes" maxsize="32" prior="1" timeout="30"/>
	<rpcdata name="DBConsignPostArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="shelf_period" type="int" default="0"/><!--上架时长，min-->
		<variable name="show_period" type="int" default="0"/><!--上架时长，min-->
		<variable name="post_period" type="int" default="0"/><!--上架时长，min-->
		<variable name="commodity_id" type="int" default="0"/>
		<variable name="post_reason" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBConsignPostRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="item" type="GConsignItem" attr="ref"/>
	</rpcdata>
	<rpc name="DBConsignPost" type="6313" argument="DBConsignPostArg" result="DBConsignPostRes" maxsize="256" prior="1" timeout="30"/>
	<rpcdata name="DBConsignPreCancelArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<!--variable name="cancel_type" type="int" default="0"/-->	
	</rpcdata>
	<rpcdata name="DBConsignPreCancelRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBConsignPreCancel" type="6314" argument="DBConsignPreCancelArg" result="DBConsignPreCancelRes" maxsize="32" prior="1" timeout="30"/>
	<rpcdata name="DBConsignMailArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="cur_state" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--seller-->
	</rpcdata>
	<rpcdata name="DBConsignMailRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="seller_header" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="buyer_header" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="mail_status" type="char" default="0"/>
	</rpcdata>
	<rpc name="DBConsignMail" type="6315" argument="DBConsignMailArg" result="DBConsignMailRes" maxsize="256" prior="1" timeout="30"/>
	<rpcdata name="RoleSimpleInfo">
		<variable name="roleid" type="int64_t" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="race" type="int" default="0"/>
		<variable name="gender" type="int" default="0"/>
		<variable name="name" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBConsignGetRoleSimpleInfoArg">
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBConsignGetRoleSimpleInfoRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="roles" type="std::vector&lt;RoleSimpleInfo&gt;" default="std::vector&lt;RoleSimpleInfo&gt;()" attr="ref"/>
	</rpcdata>
	<rpc name="DBConsignGetRoleSimpleInfo" type="6316" argument="DBConsignGetRoleSimpleInfoArg" result="DBConsignGetRoleSimpleInfoRes" maxsize="1280" prior="1" timeout="30"/>
	<rpcdata name="DBConsignShelfArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="state" type="int" default="0"/>
		<variable name="show_endtime" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>
		<variable name="sell_endtime" type="int" default="0"/>
		<variable name="buyer_roleid" type="int" default="0"/>
		<variable name="shelf_time" type="int" default="0"/>
		<variable name="timestamp" type="int64_t" default="0"/>
	</rpcdata>
	<rpcdata name="DBConsignShelfRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="buyer_userid" type="int" default="0"/>
		<!--variable name="buyer_name" type="Octets" default="Octets()" attr="ref"/-->
		<variable name="item" type="GConsignItem" attr="ref"/>
		<variable name="statechange" type="int" default="0"/>
</rpcdata>
	<rpc name="DBConsignShelf" type="6317" argument="DBConsignShelfArg" result="DBConsignShelfRes" maxsize="256" prior="1" timeout="30"/>
	<rpcdata name="DBConsignShelfCancelArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="state" type="int" default="0"/>
		<variable name="timestamp" type="int64_t" default="0"/>
	</rpcdata>
	<rpcdata name="DBConsignShelfCancelRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBConsignShelfCancel" type="6318" argument="DBConsignShelfCancelArg" result="DBConsignShelfCancelRes" maxsize="32" prior="1" timeout="30"/>
	<rpcdata name="DBConsignSoldArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="seller_userid" type="int" default="0"/>
		<variable name="buyer_roleid" type="int" default="0"/>
		<variable name="buyer_userid" type="int" default="0"/>
		<variable name="orderid" type="int64_t" default="0"/>
		<variable name="timestamp" type="int64_t" default="0"/>
	</rpcdata>
	<rpcdata name="DBConsignSoldRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="buyer_roleid" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBConsignSold" type="6319" argument="DBConsignSoldArg" result="DBConsignSoldRes" maxsize="256" prior="1" timeout="30"/>
	<rpcdata name="DBConsignQueryBackupArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<!--variable name="buyer_roleid" type="int" default="0"/-->
		<!--variable name="timestamp" type="int64_t" default="0"/-->
	</rpcdata>
	<rpcdata name="DBConsignQueryBackupRes">
		<variable name="retcode" type="int" default="0"/>
		<!--variable name="buyer_roleid" type="int" default="0"/-->
		<variable name="detail_os" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpc name="DBConsignQueryBackup" type="6320" argument="DBConsignQueryBackupArg" result="DBConsignQueryBackupRes" maxsize="1048576" prior="1" timeout="30"/>
        <protocol name="DBConsignSkipSN" type="6321" maxsize="16" prior="1">
                <variable name="skip_amount" type="int"/>
        </protocol>
	<protocol name="ConsignGetItem" type="6322" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="sn" type="int64_t"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="ConsignGetItem_Re" type="6323" maxsize="1024" prior="1">
		<variable name="sn" type="int64_t"/>
		<variable name="obj" type="GRoleInventory"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="retcode" type="int" default="0"/>
	</protocol>
	<rpcdata name="GConsignListNode">
		<variable name="info" type="GConsignItem" default="GConsignItem()" attr="ref"/>
		<variable name="seller_roleid" type="int" default="0"/>
		<variable name="seller_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="buyer_roleid" type="int" default="0"/>
		<variable name="commodityid" type="int" default="0"/>
	</rpcdata>
	<protocol name="ConsignListAll" type="6324" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="category" type="int"/>
		<variable name="page" type="int"/>
		<variable name="index" type="int64_t"/>
		<variable name="direction" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="ConsignListAll_Re" type="6325" maxsize="65536" prior="1">
		<variable name="category" type="int"/>
		<variable name="nodes" type="std::vector&lt;GConsignListNode&gt;" attr="ref"/>
		<variable name="page" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="retcode" type="int" default="0"/>
	</protocol>
	<protocol name="ConsignListLargeCategory" type="6326" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<!--variable name="type" type="char"/-->
		<!--variable name="category" type="int"/-->
		<variable name="page" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="ConsignListLargeCategory_Re" type="6327" maxsize="65536" prior="1">
		<!--variable name="type" type="char"/-->
		<!--variable name="category" type="int"/-->
		<variable name="nodes" type="std::vector&lt;GConsignListNode&gt;" attr="ref"/>
		<variable name="page" type="int"/>
		<variable name="timestamp" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="retcode" type="int" default="0"/>
	</protocol>
        <!--包裹-->
        <rpcdata name="GPocketInfo">
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="equipment" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="role_pocket_capacity" type="unsigned int" default="0"/>
		<variable name="role_pocket" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
                <variable name="pet_pocket_capacity" type="short" default="0"/>
                <variable name="pet_pocket" type="GPocketInventoryVector" default="GPocketInventoryVector()" attr="ref"/>
		<variable name="fashion" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<!--variable name="create_time" type="int" default="0"/-->
                <variable name="mountwing_capacity" type="short" default="0"/>
		<variable name="mountwing" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="storehouse" type="GRoleStorehouse" default="GRoleStorehouse()" attr="ref"/>
	</rpcdata>
	<!--宠物 -->
	<rpcdata name="GPetsInfo">
                <variable name="petbadge" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref" />
                <variable name="petequip" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref" />
		<!--variable name="petcorral" type ="Octets" default="Octets()" attr="ref"/-->
		<!--variable name="petdata" type ="Octets" default="Octets()" attr="ref"/-->
	</rpcdata>
	<!--技能-->
	<rpcdata name="GSkillInfo">
		<variable name="skills" type=" Octets " default=" Octets (0)" attr="ref" /><!--技能-->
	</rpcdata>
	<rpcdata name="GRoleBasicAttribute">
		<variable name="resistance1" type="int" default="0"/><!--定身抗性-->
		<variable name="resistance2" type="int" default="0"/><!--虚弱抗性-->
		<variable name="resistance3" type="int" default="0"/><!--魅惑抗性-->
		<variable name="resistance4" type="int" default="0"/><!--眩晕抗性-->
		<variable name="resistance5" type="int" default="0"/><!--昏睡抗性-->
		<variable name="level" type="int" default="0"/><!--等级-->
		<variable name="cls" type="int" default="0"/><!--门派-->
		<variable name="level_before_reborn" type="int" default="0"/><!--飞升前等级-->
		<variable name="cls_before_reborn" type="int" default="0"/><!--飞升前职业-->
		<variable name="talisman_value" type="int" default="0"/><!--血炼值-->
		<variable name="reputation" type="int" default="0"/><!--侠义度-->
		<variable name="pk_value" type="int" default="0"/><!--善恶值-->
		<variable name="cultivation" type="char" default="0"/><!--造化阵营-->
		<variable name="exp" type="int64_t" default="0"/><!--修为-->
		<variable name="max_hp" type="int" default="0"/><!--气血-->
		<variable name="max_mp" type="int" default="0"/><!--真气-->
		<variable name="damage_low" type="int" default="0"/><!--最低攻击-->
		<variable name="damage_high" type="int" default="0"/><!--最高攻击-->
		<variable name="defense" type="int" default="0"/><!--防御-->
		<variable name="attack" type="int" default="0"/><!--普攻命中-->
		<variable name="armor" type="int" default="0"/><!--普攻闪躲-->
		<variable name="crit_damage" type="float" default="0.0f"/><!--致命伤害-->
		<variable name="crit_rate" type="float" default="0.0f"/><!--致命一击率-->
		<variable name="skill_armor_rate" type="float" default="0.0f"/><!--技能闪躲-->
		<variable name="skill_attack_rate" type="float" default="0.0f"/><!--技能命中-->
		<variable name="anti_crit" type="float" default="0.0f"/><!--减免他方致命率-->
		<variable name="anti_crit_damage" type="float" default="0.0f"/><!--减免致命伤害-->
		<variable name="cult_defense_xian" type="float" default="0.0f"/><!--御仙-->
		<variable name="cult_defense_mo" type="float" default="0.0f"/><!--御魔-->
		<variable name="cult_defense_fo" type="float" default="0.0f"/><!--御佛-->
		<variable name="battlescore" type="int" default="0"/><!--仙基-->
		<variable name="reborn_count" type="char" default="0"/><!--飞升次数-->
		<variable name="gender" type="char" default="0"/><!--性别-->
	</rpcdata>
	<rpcdata name="GSNSRoleBasicExt">
		<variable name="renxing1" type="int" default="0"/>
		<variable name="renxing2" type="int" default="0"/>
		<variable name="renxing3" type="int" default="0"/>
		<variable name="renxing4" type="int" default="0"/>
		<variable name="renxing5" type="int" default="0"/>
		<variable name="jingtong1" type="int" default="0"/>
		<variable name="jingtong2" type="int" default="0"/>
		<variable name="jingtong3" type="int" default="0"/>
		<variable name="jingtong4" type="int" default="0"/>
		<variable name="jingtong5" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GDeityInfo">
		<variable name="atatck_xian" type="float" default="0.0f"/><!--克仙-->
		<variable name="atatck_fo" type="float" default="0.0f"/><!--克佛-->
		<variable name="atatck_mo" type="float" default="0.0f"/><!--克魔-->
		<variable name="deity_level" type="int" default="0"/><!--元神等级-->
		<variable name="deity_power" type="int" default="0"/><!--元神威能-->
		<variable name="max_dp" type="int" default="0"/><!--元力值-->
		<variable name="deity_exp" type="int64_t" default="0"/><!--元神修为-->
	</rpcdata>
	<rpcdata name="GTitleInfo">
		<variable name="titlelist" type="Octets " default=" Octets (0)" attr="ref" /><!--尊号-->
	</rpcdata>
	<rpcdata name="GPetAddedInfo" attr="vector">
		<variable name="pet_index" type="unsigned char" default="0"/><!---->
		<variable name="max_hp" type="unsigned short" default="0"/><!---->
		<variable name="max_mp" type="unsigned short" default="0"/><!---->
		<variable name="defence" type="unsigned short" default="0"/><!---->
		<variable name="attack" type="unsigned short" default="0"/><!---->
		<variable name="resistance1" type="unsigned short" default="0"/><!---->
		<variable name="resistance2" type="unsigned short" default="0"/><!---->
		<variable name="resistance3" type="unsigned short" default="0"/><!---->
		<variable name="resistance4" type="unsigned short" default="0"/><!---->
		<variable name="resistance5" type="unsigned short" default="0"/><!---->
		<!--variable name="resistance6" type="unsigned short" default="0"/--><!---->
		<variable name="hit" type="unsigned short" default="0"/><!--命中-->
		<variable name="jouk" type="unsigned short" default="0"/><!--闪避-->
		<variable name="crit_rate" type="float" default="0.0f"/><!--致命一击率-->
		<variable name="crit_damage" type="float" default="0.0f"/><!--致命伤害-->
		<variable name="equip_mask" type="int" default="0"/><!---->
	</rpcdata>

	<rpcdata name="GConsignGsRoleInfo">
		<variable name="title" type="GTitleInfo"/>
		<variable name="deityinfo" type="GDeityInfo"/>
		<variable name="rolebasicinfo" type="GRoleBasicAttribute"/>
		<variable name="pet_addinfo" type="GPetAddedInfoVector"/>
		<variable name="skillinfo" type="GSkillInfo" default="GSkillInfo()" attr="ref"/><!--技能-->
	</rpcdata>
	<rpcdata name="GSNSGsRoleInfo">
		<variable name="title" type="GTitleInfo"/>
		<variable name="deityinfo" type="GDeityInfo"/>
		<variable name="rolebasicinfo" type="GRoleBasicAttribute"/>
		<variable name="pet_addinfo" type="GPetAddedInfoVector"/>
		<variable name="skillinfo" type="GSkillInfo" default="GSkillInfo()" attr="ref"/><!--技能-->
		<variable name="basic_ext" type="GSNSRoleBasicExt"/>
	</rpcdata>
        <rpcdata name="GCreditInfo">
		<variable name="credits" type="Octets " default=" Octets (0)" attr="ref" /><!--声望-->
	</rpcdata>
	<rpcdata name="GConsignRole">
		<variable name="gsroleinfo" type="GConsignGsRoleInfo" default="GConsignGsRoleInfo()" attr="ref"/>
		<variable name="creditinfo" type="GCreditInfo" default="GCreditInfo()" attr="ref"/><!--声望-->
		<variable name="petinfo" type="GPetsInfo" default="GPetsInfo()" attr="ref"/><!--宠物-->
		<variable name="pocketinfo" type="GPocketInfo" default="GPocketInfo()" attr="ref"/><!--物品-->
	</rpcdata>
	<rpcdata name="GSNSRole">
		<variable name="gsroleinfo" type="GSNSGsRoleInfo" default="GSNSGsRoleInfo()" attr="ref"/>
		<variable name="creditinfo" type="GCreditInfo" default="GCreditInfo()" attr="ref"/><!--声望-->
		<variable name="petinfo" type="GPetsInfo" default="GPetsInfo()" attr="ref"/><!--宠物-->
		<variable name="pocketinfo" type="GPocketInfo" default="GPocketInfo()" attr="ref"/><!--物品-->
	</rpcdata>
	<protocol name="GConsignStartRole" type="6328" maxsize="64" prior="1">  <!--gameserver to deliver-->
		<!--variable name="consign_id" type="unsigned int"/-->
		<variable name="roleid" type="int"/>
		<variable name="margin" type="int"/><!--保证金数量，铜-->
		<variable name="price" type="unsigned int"/><!--出售价格， 元为单位-->
		<variable name="shelf_period" type="unsigned int"/><!--上架时长，天-->
		<variable name="sell_to_rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="consign_type" type="unsigned char" default="0"/><!--1.游戏币，2.普通道具-->
		<variable name="token_item_id" type="unsigned int" default="0"/>
		<variable name="token_item_cnt" type="int" default="0"/>
		<variable name="token_item_idx" type="int" default="0"/>
		<variable name="category" type="int" default="0"/>
	</protocol>
	<protocol name="ConsignPlayer_Re" type="6329" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="retcode" type="int" default="0"/>
	</protocol>
	<protocol name="PlayerConsignOffline" type="6330" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="PlayerConsignOffline_Re" type="6331" maxsize="65536" prior="1" >
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="gsroleinfo" type="GConsignGsRoleInfo" default="GConsignGsRoleInfo()" attr="ref"/>
	</protocol>
	<rpcdata name="DBConsignPrePostRoleArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="seller_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="margin" type="int" default="0"/><!--保证金数量，铜-->
		<variable name="token_item_id" type="unsigned int" default="0"/>
		<variable name="token_item_cnt" type="int" default="0"/>
		<variable name="token_item_idx" type="int" default="0"/>
		<variable name="price" type="unsigned int" default="0"/><!--出售价格， 元为单位-->
		<variable name="shelf_period" type="unsigned int" default="0"/><!--上架时长，天-->
		<variable name="sell_to_rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="consign_type" type="unsigned char" default="0"/><!--1.游戏币，2.普通道具,4.角色-->
		<variable name="loginip" type="int" default="0"/>
		<variable name="category" type="int" default="0"/>
		<variable name="roleinfo" type="GConsignGsRoleInfo" default="GConsignGsRoleInfo()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBConsignPrePostRoleRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="detail" type="GConsignDB"/>
		<variable name="roledetail" type="GConsignRole"/>
	</rpcdata>
	<rpc name="DBConsignPrePostRole" type="6332" argument="DBConsignPrePostRoleArg" result="DBConsignPrePostRoleRes" maxsize="1048576" prior="1" timeout="30"/>
	<rpc name="DBConsignSoldRole" type="6333" argument="DBConsignSoldArg" result="DBConsignSoldRes" maxsize="256" prior="1" timeout="30"/>
	<rpcdata name="DBConsignGetRoleArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBConsignGetRoleRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="roledetail" type="GConsignRole"/>
	</rpcdata>
	<rpc name="DBConsignGetRole" type="6334" argument="DBConsignGetRoleArg" result="DBConsignGetRoleRes" maxsize="1048576" prior="1" timeout="30"/>
	<rpcdata name="DBConsignRoleFailArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="fin_state" type="int" default="0"/>
		<variable name="timestamp" type="int64_t" default="0"/>	
	</rpcdata>
	<rpcdata name="DBConsignRoleFailRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="statechange" type="int" default="0"/>
	</rpcdata>
	 <rpc name="DBConsignRoleFail" type="6335" argument="DBConsignRoleFailArg" result="DBConsignRoleFailRes" maxsize="32" prior="1" timeout="30"/>
	<protocol name="ConsignListRole" type="6336" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="page" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="GConsignListRoleNode">
		<variable name="info" type="GConsignItem" default="GConsignItem()" attr="ref"/>
		<variable name="seller_roleid" type="int" default="0"/>
		<variable name="seller_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="buyer_roleid" type="int" default="0"/>
		<variable name="commodityid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="cls" type="int" default="0"/><!--门派-->
		<variable name="cultivation" type="char" default="0"/><!--造化阵营-->
		<variable name="reborn_count" type="char" default="0"/><!--飞升次数-->
	</rpcdata>
	<protocol name="ConsignListRole_Re" type="6337" maxsize="65536" prior="1">
		<variable name="nodes" type="std::vector&lt;GConsignListRoleNode&gt;" attr="ref"/>
		<variable name="page" type="int"/>
		<variable name="timestamp" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="retcode" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="GConsignEndRole" type="6338" maxsize="32" prior="1"> <!--announce game server, event is end-->
		<variable name="roleid" type="int"/>
		<variable name="retcode" type="int"/>
	</protocol>
	<!--SNS 小工具协议定义 可以与本地 type 重复 begin-->
	<!--protocol debug="0" name="GetRoleDescSns" type="8064" maxsize="131072" prior="2">
		<variable name="sn" type="int64_t"/>
		<variable name="timestamp" type="int64_t"/>
		<variable name="detailInfo" type="Octets" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="GetRoleDescSnsRe" type="8065" maxsize="1310720" prior="2">
		<variable name="retCode" type="char"/>
		<variable name="sn" type="int64_t"/>
		<variable name="timestamp" type="int64_t"/>
		<variable name="cls" type="int"/>
		<variable name="gender" type="char"/>
		<variable name="level" type="int"/>
		<variable name="name" type="Octets" default="Octets()"/>
		<variable name="icon" type="Octets" default="Octets()"/>
		<variable name="basicDetailInfo" type="Octets" default="Octets()"/>
		<variable name="detailDesc" type="Octets" default="Octets()"/>
	</protocol-->

	<!--SNS 小工具协议定义 可以与本地 type 重复 end-->

	<!-- *************************************************************************** -->
	<!-- Friend Call back Protocols between Deliveryd and other Server, id 6501-6550 -->
	<!-- *************************************************************************** -->
	<!-- 1.鸿雁传书数据库相关数据结构 -->
	<rpcdata name="GCooldown" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="send_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GCallbackInfo">
		<variable name="mailnum" type="unsigned short" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="is_subscribe" type="char" default="1"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="cooldown_list" type="GCooldownVector"/>
	</rpcdata>
	<rpcdata name="GCallbackAward">
		<variable name="returnplayer_list" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="recaller_list" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="returnaward_num" type="unsigned int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFriendCallback">
		<variable name="callback_info" type="GCallbackInfo" default="GCallbackInfo()" attr="ref"/>
		<variable name="callback_award" type="GCallbackAward" default="GCallbackAward()" attr="ref"/>
		<variable name="reserved" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GCallbackLimit">
		<variable name="mailnum" type="unsigned short" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="is_subscribe" type="char" default="1"/>
		<variable name="cooldown_map" type="std::map&lt;int, int&gt;" attr="ref"/>
	</rpcdata>
	<!-- 2.获取发送召回邮件限制条件的相关协议和数据结构 -->
	<protocol name="FriendCallbackInfo" maxsize="8" prior="1" type="6501">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="FriendCallbackInfo_Re" maxsize="1024" prior="1" type="6502">
		<variable name="retcode" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="callback_limit" type="GCallbackInfo" attr="ref"/>
	</protocol>
	<rpcdata name="DBFriendCallbackInfoArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFriendCallbackInfoRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="callback_info" type="GCallbackInfo" default="GCallbackInfo()" attr="ref"/>
	</rpcdata>
	<rpc name="DBFriendCallbackInfo" type="6503" argument="DBFriendCallbackInfoArg" result="DBFriendCallbackInfoRes" maxsize="1024" prior="1" timeout="30"/>
	<!-- 3.发送召回邮件相关协议和数据结构 -->
	<protocol name="FriendCallbackMail" maxsize="16" prior="1" type="6504">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="receiver_roleid" type="int"/>
		<variable name="template_id" type="unsigned char"/>
	</protocol>
	<protocol name="FriendCallbackMail_Re" maxsize="16" prior="1" type="6505">
		<variable name="retcode" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="receiver_roleid" type="int"/>
	</protocol>
	<rpcdata name="DBFriendCallbackMailArg">
		<variable name="mail" type="GMail" default="GMail()" attr="ref"/>
		<variable name="sender_userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFriendCallbackMailRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="receiver_userid" type="int" default="0"/>
		<variable name="receiver_name" type="Octets" default="Octets()"/>
	</rpcdata>
	<rpc name="DBFriendCallbackMail" type="6506" argument="DBFriendCallbackMailArg" result="DBFriendCallbackMailRes" maxsize="1024" prior="1" timeout="30"/>
	<!-- 4.发送召回邮件限制条件存盘相关协议和数据结构 -->
	<rpcdata name="DBUpdateCallbackInfoArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="callback_info" type="GCallbackInfo" default="GCallbackInfo()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBUpdateCallbackInfoRes">
		<variable name="retcode" type="unsigned char" default="0"/>
	</rpcdata>
	<rpc name="DBUpdateCallbackInfo" type="6507" argument="DBUpdateCallbackInfoArg" result="DBUpdateCallbackInfoRes" maxsize="1024" prior="1" timeout="30"/>
	<!-- 5.发送鸿雁传书奖励相关协议和数据结构 -->
	<protocol name="FriendCallbackAward" type="6509" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="FriendCallbackAward_Re" type="6511" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="award_type" type="unsigned short"/>
		<variable name="returnplayer_name" type="Octets" attr="ref"/>
	</protocol>
	<rpcdata name="DBCheckAwardArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCheckAwardRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="award_type" type="unsigned char" default="0"/>
		<variable name="recaller_list" type="std::vector&lt;int&gt;" attr="ref"/>
	</rpcdata>
	<rpc name="DBCheckAward" type="6508" argument="DBCheckAwardArg" result="DBCheckAwardRes" maxsize="512" prior="1" timeout="30"/>
	<!-- 6.开通/拒绝接收鸿雁传书系统邮件 -->
	<protocol name="FriendCallbackSubscribe" type="6512" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="is_subscribe" type="unsigned char"/>
	</protocol>
	<protocol name="FriendCallbackSubscribe_Re" type="6513" maxsize="16" prior="1">
		<variable name="retcode" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBFriendCallbackSubscribeArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="is_subscribe" type="unsigned char" default="1"/>
	</rpcdata>
	<rpcdata name="DBFriendCallbackSubscribeRes">
		<variable name="retcode" type="unsigned char" default="0"/>
	</rpcdata>
	<rpc name="DBFriendCallbackSubscribe" type="6514" argument="DBFriendCallbackSubscribeArg" result="DBFriendCallbackSubscribeRes" maxsize="32" prior="1" timeout="30"/>

	<!-- Protocols Used for Gameserver and AU Communication -->
	<protocol name="Game2AU" type="8039" maxsize="1048576" prior="0">
		<variable name="userid" type="int"/>
		<variable name="qtype" type="int"/>
		<variable name="info" type="Octets"/>
		<variable name="reserved" type="int"/>
	</protocol>
	<protocol name="AU2Game" type="8038" maxsize="1048576" prior="0">
		<variable name="userid" type="int"/>
		<variable name="qtype" type="int"/>
		<variable name="info" type="Octets"/>
		<variable name="retcode" type="int"/>
		<variable name="reserved" type="int"/>
	</protocol>

	<protocol name="VIPAnnounce" type="8045" maxsize="1024" prior="2">
		<variable name="userid" type="int" default="0"/>
		<variable name="aid" type="int" default="0"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="currenttime" type="int" default="0"/> 	<!-- vip服务器的当前时间，此处三个时间均为格林尼治标准时间，不涉及时区问题 -->
		<variable name="starttime" type="int" default="0"/>   	<!-- vip的起始时间 -->
		<variable name="endtime" type="int" default="0"/>     	<!-- vip的结束时间 -->
		<variable name="status" type="int" default="0"/> 	  	<!-- vip状态，用于表示是否流失过等 -->
		<variable name="viplevel" type="int" default="0"/>    	<!-- vip等级 -->
		<variable name="totalcash" type="int" default="0"/>   	<!-- 充值总额 -->
		<variable name="recenttotalcash" type="int" default="0"/> 	<!-- 近期充值总额 -->
		<variable name="infolack" type="int" default="0"/>  	<!-- 账号信息是否完整，0全，1不全 -->
		<variable name="reserved1" type="int" default="0"/>
	</protocol>
	<protocol name="VIPInfoNotify" type="8046" maxsize="128" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="currenttime" type="int"/>
		<variable name="starttime" type="int"/>
		<variable name="endtime" type="int"/>
		<variable name="viplevel" type="int"/>
		<variable name="status" type="int" default="0"/>
		<variable name="totalcash" type="int" default="0"/> 
		<variable name="recenttotalcash" type="int" default="0"/> 
		<variable name="infolack" type="int" default="0"/>  
	</protocol>

	<!-- ***************************************************************************** -->
	<!-- inter-Server Protocols between circleServer and other Server,     id 6201-6300 -->
	<!-- ***************************************************************************** -->
	<protocol debug="0" name="GCircleChat" type="6208" maxsize="1024" prior="1">
		<variable name="src" type="unsigned int"/>
		<variable name="circleid" type="unsigned int"/>
		<variable name="channel" type="unsigned char" default="0"/>
		<variable name="emotion" type="unsigned char" default="0"/>
		<variable name="msg" type="Octets" attr="ref" default="Octets()"/>
		<variable name="data" type="Octets" attr="ref" default="Octets()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GCircleMemberDB">
                <variable name="roleid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level" type="unsigned char" default="0"/>		
		<variable name="reborn_cnt" type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="gender" type="unsigned char" default="0"/>
		<variable name="jointime" type="int" default="0"/>
		<variable name="graduate_time" type="int" default="0"/>
		<variable name="grad_bonus_count" type="unsigned char" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>	
	<rpcdata name="CircleMemberInfo">
		<variable name="roleid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="level"  type="unsigned char" default="0"/>
		<variable name="reborn_cnt" type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/> 
		<variable name="gender"  type="unsigned char" default="0"/>
		<variable name="jointime" type="int" default="0"/>
		<variable name="grad_time" type="int" default="0"/>
		<variable name="lineid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="CirclePoolStateNode">
		<variable name="racegrade" type="unsigned char" default="0"/>
		<variable name="cur_id"  type="unsigned int" default="0"/>
		<variable name="cur_name" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="GCircleDB">
		<variable name="circleid" type="unsigned int" default="0"/>
		<variable name="circlename" type="unsigned int" default="0"/>
		<variable name="master_rid" type="unsigned int" default="0"/>
		<variable name="member" type="std::vector&lt;GCircleMemberDB&gt;" attr="ref"/>
		<variable name="circlegrade" type="unsigned char" default="0"/>
		<variable name="circleversion" type="unsigned char" default="0"/>
		<variable name="taskpoint" type="unsigned int" default="0"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="tasksavetime" type="int" default="0"/>
		<!--variable name="circlepool_state" type="Octets" attr="ref" default="Octets(0)"/-->
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
	</rpcdata>
 		
	<rpcdata name="GCircleHistoryDB">
                <variable name="circleid" type="unsigned int" default="0"/>
		<variable name="circlename" type="unsigned int" default="0"/>
		<variable name="titlemask" type="unsigned char" default="0"/>	
                <variable name="jointime" type="int" default="0"/>
		<variable name="graduate_time" type="int" default="0"/>
		<variable name="circlegrade" type="unsigned char" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
        <rpcdata name="GCircleHistory">
                <variable name="circleid" type="unsigned int" default="0"/>
	        <variable name="circlename" type="unsigned int" default="0"/>
	        <variable name="titlemask" type="unsigned char" default="0"/>
	        <variable name="jointime" type="int" default="0"/>
	        <variable name="graduate_time" type="int" default="0"/>
	        <variable name="circlegrade" type="unsigned char" default="0"/>
	</rpcdata>	
	<rpcdata name="GCircleBaseInfo">
		<variable name="circleid" type="unsigned int" default="0"/>
		<variable name="name" type="unsigned int" default="0" />
		<variable name="grade" type="unsigned char" default="0"/>
		<variable name="master_roleid" type="unsigned int" default="0"/>
	</rpcdata>

	<protocol debug="0" name="GetCircleBaseInfo" type="6210" maxsize="4096"  prior="1">
		<variable name="roleid" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="circleidlist" type="IntVector" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GetCircleBaseInfo_Re" type="6211" maxsize="16384"  prior="1">
		<!--variable name="roleid" type="unsigned int"/-->
		<variable name="localsid" type="unsigned int"/>
		<variable name="circleinfolist" type="std::vector&lt;GCircleBaseInfo&gt;"/>
	</protocol>
	<protocol debug="0" name="CircleList" type="6213" maxsize="16384" prior="1">
		<!--variable name="page" type="int"/-->
		<variable name="roleid" type="unsigned int"/>
		<variable name="circleid" type="unsigned int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="CircleList_Re" type="6214" maxsize="16384" prior="1">
		<!--variable name="page" type="int"/-->
		<variable name="circleid" type="unsigned int"/>
		<variable name="createtime" type="int"/>
		<!--variable name="population" type="unsigned char"/-->
		<variable name="online_num" type="unsigned char"/>
		<variable name="members" type="std::vector&lt;CircleMemberInfo&gt;" attr="ref"/>
		<variable name="history" type="std::vector&lt;GCircleHistory&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="grad_bonus" type="int64_t" default="0"/>
		<variable name="circlepoint" type="unsigned int" default="0"/>
	</protocol>
	
        <protocol debug="0" name="ClaimCircleGradBonus" type="6215" maxsize="32" prior="1">	
		<variable name="circleid" type="unsigned int"/>
		<variable name="roleid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="BonusExp" type="6216" maxsize="32" prior="1">  
		<variable name="roleid" type="unsigned int"/>
		<variable name="award_type" type="unsigned int"/>
		<variable name="bonus_exp" type="int64_t" default="0"/>
	</protocol>
	<protocol debug="0" name="BonusItem" type="6217" maxsize="32" prior="1">
		<variable name="roleid" type="unsigned int"/>
		<variable name="award_type" type="unsigned int"/>
		<variable name="itemid" type="unsigned int"/>
	</protocol>
	<!--protocol debug="0" name="GetCirclePoint" type="6217" maxsize="32" prior="1">	
		<variable name="circleid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetCirclePoint_Re" type="6221" maxsize="32" prior="1">	
		<variable name="circleid" type="unsigned int"/>
		<variable name="circlepoint" type="unsigned int" default="0"/>
	</protocol-->
	<protocol debug="0" name="AddCirclePoint" type="6218" maxsize="32" prior="1">	
		<variable name="circleid" type="unsigned int"/>
		<variable name="point_delta" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UpdateRoleCircle" type="6219" maxsize="32" prior="1">	
		<variable name="roleid" type="unsigned int"/>
		<variable name="circleid" type="unsigned int"/>
		<variable name="titlemask" type="unsigned char"/>
	</protocol>
 	<!--protocol debug="0" name="RoleEnterNewCircle" type="6220" maxsize="32" prior="1">	
		<variable name="roleid" type="unsigned int"/>
		<variable name="circleid" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol-->
	<protocol debug="0" name="CircleNotify" type="6223" maxsize="32" prior="1">	
		<variable name="msgtype" type="unsigned int"/>
		<variable name="roleid" type="unsigned int"/>
		<variable name="circleid" type="unsigned int"/>
		<variable name="name" type="unsigned int" default="0" />
		<variable name="grade" type="unsigned char" default="0"/>

	</protocol>
	<protocol debug="0" name="CircleNotifyLink" type="6224" maxsize="32" prior="1">	
		<variable name="msgtype" type="unsigned int"/>
		<variable name="roleid" type="unsigned int"/>
		<variable name="circleid" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="name" type="unsigned int" default="0" />
		<variable name="grade" type="unsigned char" default="0"/>
	</protocol>


	<rpcdata name="CircleAsyncData">
                <variable name="roleid" type="int" default="0"/>
                <variable name="data" type="Octets" attr="ref" default="Octets()"/>
                <variable name="result" type="int" default="0"/>
        </rpcdata>	
	<rpc debug="0" name="CircleGetAsyncData" type="6222" argument="CircleAsyncData" result="CircleAsyncData"  maxsize="128" prior="1" timeout="60"/>
	
	<rpcdata name="DefCircleRes">
                <variable name="retcode" type="int" default="-1"/>
	</rpcdata>	
	<!--
	<rpcdata name="DBCircleAddArg">
		<variable name="circleid" type="unsigned int" default="0"/>
		<variable name="roleid" type="unsigned int" default="0"/>
	        <variable name="level" type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="circlegrade" type="unsigned char" default="0"/>
		<variable name="circleversion" type="unsigned char" default="0"/>
	</rpcdata>
        <rpcdata name="DBCircleAddRes">
	        <variable name="retcode" type="int" default="-1"/>
		<variable name="info" type="GCircleDB" attr="ref"/>
	</rpcdata>
        <rpc debug="0" name="DBCircleAdd" type="6203" argument="DBCircleAddArg" result="DBCircleAddRes"  maxsize="524288" prior="1" timeout="30"/>
	-->
	<rpcdata name="DBCircleJoinArg">
		<variable name="newgrade" type="int" default="0"/>	
		<variable name="oldcircleid" type="unsigned int" default="0"/>
		<variable name="roleid" type="unsigned int" default="0"/>
	        <variable name="level" type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="reborn_cnt" type="unsigned char" default="0"/>
		<variable name="jointype" type="unsigned int" default="0"/>
	</rpcdata>
        <rpcdata name="DBCircleJoinRes">
	        <variable name="retcode" type="int" default="-1"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="titlemask" type="unsigned char" default="0"/>
		<variable name="gender" type="unsigned char" default="0"/>
		<variable name="cur_circleid" type="unsigned int" default="0"/>
		<variable name="jointime" type="int" default="0"/>
		<variable name="circlename" type="unsigned int" default="0"/>
		<!--variable name="circlehis" type="Octets" attr="ref"/-->
		<!--variable name="circlelist" type="GCircleHistoryDBVector" attr="ref"/-->
	</rpcdata>
        <rpc debug="0" name="DBCircleJoin" type="6204" argument="DBCircleJoinArg" result="DBCircleJoinRes"  maxsize="524288" prior="1" timeout="60"/>

	<rpcdata name="DBCircleAppointArg">
		<variable name="circleid" type="unsigned int" default="0"/>
		<variable name="roleid" type="unsigned int" default="0"/>
	        <variable name="title" type="int" default="0"/>
		<!--variable name="level" type="unsigned char" default="0"/-->
	</rpcdata>
    	<rpcdata name="DBCircleAppointRes">
	        <variable name="retcode" type="int" default="-1"/>
		<variable name="titlemask" type="unsigned char" default="0"/>
	</rpcdata>
        
    	<rpc debug="0" name="DBCircleAppoint" type="6206" argument="DBCircleAppointArg" result="DBCircleAppointRes"  maxsize="524288" prior="1" timeout="60"/>

	<rpcdata name="DBCircleSyncArg">
		<variable name="circleid" type="unsigned int" default="0"/>
		<variable name="info" type="GCircleDB" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBCircleSync" type="6205" argument="DBCircleSyncArg" result="DefCircleRes"  maxsize="524288" prior="1" timeout="60"/>
	
	<rpcdata name="DBCircleHisGetRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="circlelist" type="std::vector&lt;GCircleHistory&gt;" attr="ref"/>
		<!--variable name="circlelist" type="GCircleHistoryDBVector" attr="ref"/-->
        </rpcdata>
        <rpc debug="0" name="DBCircleHisGet" type="6202" argument="RoleId" result="DBCircleHisGetRes"  maxsize="524288" prior="1" timeout="60"/>
	
	<rpcdata name="CircleID">
                <variable name="circleid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCircleGetRes">
	        <variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GCircleDB" attr="ref"/>
	</rpcdata>
	<!--rpc debug="0" name="DBFamilyGet" type="4613" argument="FamilyId" result="FamilyGetRes" maxsize="4096" prior="1" timeout="30"/-->	
	<rpc debug="0" name="DBCircleGet" type="6201" argument="CircleID" result="DBCircleGetRes" maxsize="524288" prior="1" timeout="60"/>	

	<!-- *****************************************************************************  -->
	<!-- inter-Server Protocols for GT system, id 6401-6500    -->
	<!--  ****************************************************************************  -->
	<rpcdata name="GGTActivate">
		<variable name="activatemask" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GGateRoleInfo">
		<variable name="roleid" type="int" default="0"/>
		<variable name="gender" type="unsigned char" default="0"/>
		<variable name="occupation" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="reborntimes" type="int" default="0"/>
		<variable name="cultivation" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="gameid" type="int" default="-1"/>
	</rpcdata>

	<protocol debug="0" name="GateRoleLogin" type="6401" maxsize="128" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="linksid" type="unsigned int"/>
		<variable name="roledata" type="GGateRoleInfo" attr="ref"/>
	</protocol>
	
	<protocol debug="0" name="GateRoleLogout" type="6402" maxsize="128" prior="1">
		<variable name="roledata" type="GGateRoleInfo" attr="ref"/>
	</protocol>
	
	<rpcdata name="GGateOnlineInfo">
		<variable name="roleid" type="int" default="0"/>
		<!--variable name="localsid" type="unsigned int" default="0"/-->
		<!--variable name="linksid" type="unsigned int" default="0"/-->
		<!--variable name="roledata" type="GGateRoleInfo" attr="ref"/-->
	</rpcdata>
	<protocol debug="0" name="GateOnlineList" type="6403" maxsize="65536" prior="1">
		<variable name="onlinelist" type="std::vector&lt;GGateOnlineInfo&gt;" attr="ref" />
		<!--no more than 500 entries each time-->
		<variable name="start" type="char" default="0" /><!--1:start 0:false -->
		<variable name="finish" type="char" default="0" /><!--1:finish 0:false-->
	</protocol>
	<protocol debug="0" name="GateOnlineList_Re" type="6404" maxsize="32" prior="1">
		<variable name="last_role" type="int" />
		<!--variable name="finish" type="char" default="0" /-->
	</protocol>

	<protocol debug="0" name="GateGetGTRoleStatus" type="6405" maxsize="4096" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="rolelist" type="std::vector&lt;int&gt;" attr="ref" />
	</protocol>
	<rpcdata name="GGateRoleGTStatus">
		<variable name="roleid" type="int" default="0"/>
		<variable name="status" type="unsigned char" default="0"/>
	</rpcdata>

	<protocol debug="0" name="GateGetGTRoleStatus_Re" type="6406" maxsize="8192" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="statuslist" type="std::vector&lt;GGateRoleGTStatus&gt;" attr="ref" />
		<variable name="localsid" type="unsigned int"/>
		<variable name="retcode" type="int"/>
	</protocol>
	<protocol debug="0" name="UpdateFriendGTStatus" type="6407" maxsize="32" prior="1">
		<variable name="friendstatus" type="GGateRoleGTStatus"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GateUpdateStatus" type="6408" maxsize="2048" prior="1">
		<variable name="friendstatus" type="GGateRoleGTStatus"/>
		<variable name="rolelist" type="std::vector&lt;int&gt;" attr="ref" />
		<!--variable name="localsid" type="unsigned int"/-->
		<!--variable name="linksid" type="unsigned int"/-->
	</protocol>
	<rpcdata name="GGTOfflineMsg">
		<variable name="srcroleid" type="int" default="0"/>
		<variable name="time" type="int64_t" default="0"/>
		<variable name="emotion" type="unsigned char" default="0"/>
		<variable name="src_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="msg" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<protocol debug="0" name="GateOfflineChat" type="6409" maxsize="1048576" prior="1">
	        <variable name="dstroleid" type="int"/>
		<variable name="channel" type="unsigned char"/>
	        <variable name="messages" type="std::vector&lt;GGTOfflineMsg&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GateRoleCreate" type="6419" maxsize="256" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="roledata" type="GGateRoleInfo" attr="ref"/>
	</protocol>
	<!--rpcdata name="GateGetUserRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="rolelist" type="std::vector&lt;GGateRoleInfo&gt;" attr="ref"/>
		<variable name="rolelist" type="unsigned int" default="0"/>
	</rpcdata-->

	<rpcdata name="DBGateGetUserRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="rolelist" type="unsigned int" default="0"/>
		<variable name="logicuid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBGateGetUser" type="6410" argument="UserID" result="DBGateGetUserRes" maxsize="32" prior="1" timeout="60"/>
	<rpcdata name="DBGateGetRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roledata" type="GGateRoleInfo" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBGateGetRole" type="6411" argument="RoleId" result="DBGateGetRoleRes" maxsize="256" prior="1" timeout="60"/>

	<rpcdata name="DBGateRoleRelationRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roledata" type="GGateRoleInfo" attr="ref"/>
		<variable name="friends" type="GFriendInfoVector" attr="ref"/>
		<variable name="groups" type="GGroupInfoVector" attr="ref"/>
		<variable name="familyid" type="int" default="0"/>
		<variable name="factionid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBGateRoleRelation" type="6412" argument="RoleId" result="DBGateRoleRelationRes" maxsize="32768" prior="1" timeout="60"/>

	<rpcdata name="DBGateActivateArg">
		<variable name="id" type="int" default="0"/>
		<variable name="operation" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBGateActivateRes">
		<variable name="retcode" type="int" default="-1"/>
		<!--variable name="userid" type="int" default="0"/-->
	</rpcdata>
	<rpc debug="0" name="DBGateActivate" type="6413" argument="DBGateActivateArg" result="DBGateActivateRes" maxsize="32" prior="1" timeout="60"/>
	<!--rpcdata name="DBGateDeactivateRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata-->
	<rpc debug="0" name="DBGateDeactivate" type="6414" argument="DBGateActivateArg" result="DBGateActivateRes" maxsize="32" prior="1" timeout="60"/>
	<protocol debug="0" name="GateFactionChat" type="6415" maxsize="1024" prior="1">
		<variable name="src" type="int"/>
		<variable name="channel" type="unsigned char" default="0"/>
		<variable name="emotion" type="unsigned char" default="0"/>
		<variable name="msg" type="Octets" attr="ref" default="Octets()"/>
		<variable name="data" type="Octets" attr="ref" default="Octets()"/>
		<variable name="fid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="GetFriendGTStatus" type="6416" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
	</protocol>
	<rpc debug="0" name="GateGetRoleRelation" type="6417" argument="RoleId" result="DBGateRoleRelationRes" maxsize="32768" prior="1" timeout="60"/>
	<protocol debug="0" name="GTReconnect" type="6418" maxsize="16" prior="1">
		<variable name="dummy" type="int"/>
	</protocol><!--gate 和 gt 重连后 gate 会给 gs 广播此协议; gate 和 gs 重连后 判断如果 gate 与 gt 连接正常 则给该 gs
	发送此协议-->

	<!-- *****************************************************************************  -->
	<!-- inter-Server Protocols between GTPlatform Client and Server, id 8101-8166       -->
	<!--  ****************************************************************************  -->
	<rpcdata name="RoleInfoBean">
		<variable name="roleid" type="int64_t" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="gender" type="char" default="0"/>
		<variable name="race" type="int" default="0"/><!--save cultivation in this field-->
		<variable name="occupation" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>

	<rpcdata name="RoleStatusBean">
		<variable name="status" type="unsigned char" default="0"/>
		<variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>

	<rpcdata name="RoleForbidBean">
		<variable name="endtime" type="std::map&lt;int,int64_t&gt;" attr="ref" />
		<variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>

	<rpcdata name="RoleBean">
		<variable name="info" type="RoleInfoBean" attr="ref" default="RoleInfoBean()"/>
		<variable name="status" type="RoleStatusBean" attr="ref" default="RoleStatusBean()"/>
	</rpcdata>

	<rpcdata name="RoleDetailBean">
		<variable name="info" type="RoleInfoBean" attr="ref" default="RoleInfoBean()"/>
		<variable name="status" type="RoleStatusBean" attr="ref" default="RoleStatusBean()"/>
		<variable name="forbid" type="RoleForbidBean" attr="ref" default="RoleForbidBean()"/>
	</rpcdata>

	<rpcdata name="RoleGroupBean">
		<variable name="gtype" type="int" default="0"/>
		<variable name="groupid" type="int64_t" default="0"/>
		<variable name="groupname" type="Octets" attr="ref" default="Octets()"/>
		<variable name="friends" type="std::vector&lt;RoleBean&gt;" attr="ref" default="std::vector&lt;RoleBean&gt;()"/>
	</rpcdata>

	<rpcdata name="RoleMsgBean">
		<variable name="sender" type="int64_t" default="0"/>
		<variable name="sendername" type="Octets" attr="ref" default="Octets()"/>
		<variable name="time" type="int64_t" default="0"/>
		<variable name="emotiongroup" type="int" default="0"/>
		<variable name="content" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>

	<rpcdata name="FactionIDBean">
		<variable name="ftype" type="int" default="0"/>
		<variable name="factionid" type="int64_t" default="0"/>
	</rpcdata>
	<rpcdata name="FactionInfoBean">
		<variable name="factionname" type="Octets" attr="ref" default="Octets()"/>
		<variable name="announcement" type="Octets" attr="ref" default="Octets()"/>
		<variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>

	<rpcdata name="FactionTitleBean">
		<variable name="titleid" type="int" default="0"/>
		<variable name="titlename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="titlemembers" type="std::vector&lt;RoleBean&gt;" attr="ref" default="std::vector&lt;RoleBean&gt;()"/>
	</rpcdata>

	<protocol name="AnnounceZoneidToIM" type="8101" maxsize="64" prior="1">
		<variable name="aid" type="int"/>
		<variable name="zoneid" type="int"/>
		<variable name="boottime" type="int64_t"/>
	</protocol>

	<protocol name="GameSysMsg" type="8102" maxsize="2048" prior="1">
		<variable name="mtype" type="int"/>
		<variable name="time" type="int64_t"/>
		<variable name="emotiongroup" type="int"/>
		<variable name="content" type="Octets" attr="ref"/>
	</protocol>

	<protocol name="GameDataReq" type="8103" maxsize="1024" prior="1">
		<variable name="dtype" type="int"/>
		<variable name="id" type="int64_t"/>
	</protocol>

	<protocol name="GameDataResp" type="8104" maxsize="1048576" prior="1">
		<variable name="dtype" type="int"/>
		<variable name="id" type="int64_t"/>
		<variable name="retcode" type="char"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>

	<protocol name="IMKeepAlive" type="8105" maxsize="16" prior="1">
		<variable name="code" type="char"/>
	</protocol>

	<protocol name="AnnounceResp" type="8106" maxsize="32" prior="1">
		<variable name="code" type="int"/>
		<variable name="boottime" type="int64_t" default="0"/>
	</protocol>

	<protocol name="RoleListReq" type="8121" maxsize="32" prior="1">
		<variable name="userid" type="int64_t"/>
	</protocol>

	<protocol name="RoleListResp" type="8122" maxsize="2048" prior="1">
		<variable name="userid" type="int64_t"/>
		<variable name="roles" type="std::vector&lt;RoleDetailBean&gt;" attr="ref" default="std::vector&lt;RoleDetailBean&gt;()"/>
	</protocol>

	<protocol name="RoleRelationReq" type="8123" maxsize="32" prior="1">
		<variable name="userid" type="int64_t"/>
		<variable name="roleid" type="int64_t" default="0"/>
	</protocol>

	<protocol name="RoleRelationResp" type="8124" maxsize="1048576" prior="1">
		<variable name="userid" type="int64_t"/>
		<variable name="roleinfo" type="RoleBean" attr="ref" default="RoleBean()"/>
		<variable name="factions" type="std::vector&lt;FactionIDBean&gt;" attr="ref" default="std::vector&lt;FactionIDBean&gt;()"/>
		<variable name="friends" type="std::vector&lt;RoleGroupBean&gt;" attr="ref" default="std::vector&lt;RoleGroupBean&gt;()"/>
		<variable name="blacklist" type="std::vector&lt;RoleInfoBean&gt;" attr="ref" default="std::vector&lt;RoleInfoBean&gt;()"/>
	</protocol>

	<protocol name="RoleStatusReq" type="8125" maxsize="65535" prior="1">
		<variable name="localrid" type="int64_t"/>
		<variable name="rolelist" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
	</protocol>

	<protocol name="RoleStatusResp" type="8126" maxsize="1048576" prior="1">
		<variable name="localrid" type="int64_t"/>
		<variable name="rolestatus" type="std::map&lt;int64_t,RoleStatusBean&gt;" attr="ref"/>
	</protocol>

	<protocol name="RoleStatusUpdate" type="8127" maxsize="1024" prior="1">
		<variable name="roleid" type="int64_t"/>
		<variable name="status" type="RoleStatusBean" attr="ref" default="RoleStatusBean()"/>
		<variable name="friends" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
		<variable name="factions" type="std::vector&lt;FactionIDBean&gt;" attr="ref" default="std::vector&lt;FactionIDBean&gt;()"/>
	</protocol>

	<protocol name="RoleGroupUpdate" type="8128" maxsize="1024" prior="1">
		<variable name="roleid" type="int64_t"/>
		<variable name="gtype" type="int"/>
		<variable name="groupid" type="int64_t"/>
		<variable name="groupname" type="Octets" attr="ref"/>
		<variable name="operation" type="char"/>
	</protocol>

	<protocol name="RoleFriendUpdate" type="8129" maxsize="1024" prior="1">
		<variable name="roleid" type="int64_t"/>
		<variable name="rolefriend" type="RoleBean" attr="ref"/>
		<variable name="gtype" type="int"/>
		<variable name="groupid" type="int64_t"/>
		<variable name="operation" type="char"/>
	</protocol>

	<protocol name="RoleBlacklistUpdate" type="8130" maxsize="1024" prior="1">
		<variable name="roleid" type="int64_t"/>
		<variable name="target" type="RoleInfoBean" attr="ref"/>
		<variable name="operation" type="char"/>
	</protocol>

	<protocol name="RoleMsg" type="8131" maxsize="2048" prior="1">
		<variable name="receiver" type="int64_t"/>
		<variable name="message" type="RoleMsgBean" attr="ref"/>
	</protocol>

	<protocol name="RoleOfflineMessages" type="8132" maxsize="1048576" prior="1">
		<variable name="receiver" type="int64_t"/>
		<variable name="messages" type="std::vector&lt;RoleMsgBean&gt;" attr="ref"/>
	</protocol>

	<protocol name="RoleActivation" type="8133" maxsize="64" prior="1">
		<variable name="roleid" type="int64_t"/>
		<variable name="operation" type="char" default="0"/>
	</protocol>

	<protocol name="RemoveRole" type="8134" maxsize="64" prior="1">
		<variable name="userid" type="int64_t"/>
		<variable name="roleid" type="int64_t"/>
	</protocol>

	<protocol name="RoleInfoUpdate" type="8135" maxsize="65535" prior="1">
		<variable name="roleinfo" type="RoleInfoBean" attr="ref"/>
		<variable name="updateflag" type="int" default="0"/>
	</protocol>

	<protocol name="RoleForbidUpdate" type="8136" maxsize="65535" prior="1">
		<variable name="forbid" type="std::map&lt;int64_t,RoleForbidBean&gt;" attr="ref"/>
	</protocol>

	<protocol name="RoleInfoReq" type="8137" maxsize="1024" prior="1">
	  <variable name="localuid" type="int64_t"/>
	  <variable name="roleid" type="int64_t"/>
	</protocol>

	<protocol name="RoleInfoResp" type="8138" maxsize="65535" prior="1">
	  <variable name="localuid" type="int64_t"/>
	  <variable name="roleinfo" type="RoleInfoBean" attr="ref"/>
	</protocol>

	<protocol name="FactionInfoReq" type="8161" maxsize="32" prior="1">
		<variable name="localuid" type="int64_t"/>
		<variable name="factionid" type="FactionIDBean" attr="ref"/>
	</protocol>

	<protocol name="FactionInfoResp" type="8162" maxsize="1048576" prior="1">
		<variable name="localuid" type="int64_t"/>
		<variable name="factionid" type="FactionIDBean" attr="ref" default="FactionIDBean()"/>
		<variable name="factioninfo" type="FactionInfoBean" attr="ref" default="FactionInfoBean()"/>
		<variable name="members" type="std::vector&lt;FactionTitleBean&gt;" attr="ref" default="std::vector&lt;FactionTitleBean&gt;()"/>
		<variable name="forbidlist" type="Octets" attr="ref" default="Octets()"/>
	</protocol>

	<protocol name="FactionMemberUpdate" type="8163" maxsize="1048576" prior="1">
		<variable name="factionid" type="FactionIDBean" attr="ref"/>
		<variable name="roles" type="std::vector&lt;RoleBean&gt;" attr="ref" default="std::vector&lt;RoleBean&gt;()"/>
		<variable name="titleid" type="int" default="0"/>
		<variable name="operation" type="char" default="0"/>
	</protocol>

	<protocol name="FactionInfoUpdate" type="8164" maxsize="1024" prior="1">
		<variable name="factionid" type="FactionIDBean" attr="ref"/>
		<variable name="factioninfo" type="FactionInfoBean" attr="ref" default="FactionInfoBean()"/>
		<variable name="updateflag" type="int" default="0"/>
	</protocol>

	<protocol name="FactionMsg" type="8165" maxsize="2048" prior="1">
		<variable name="factionid" type="FactionIDBean" attr="ref"/>
		<variable name="message" type="RoleMsgBean" attr="ref"/>
	</protocol>

	<protocol name="RemoveFaction" type="8166" maxsize="64" prior="1">
		<variable name="factionid" type="FactionIDBean" attr="ref"/>
	</protocol>

	<protocol name="FactionForbidUpdate" type="8167" maxsize="1048576" prior="1">
		<variable name="factionid" type="FactionIDBean" attr="ref"/>
		<variable name="updateforbid" type="Octets" attr="ref" default="Octets()"/>
	</protocol>

	<protocol name="BattleFlagStart" type="8168" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="flagid" type="int"/>
		<variable name="duration" type="int" default="0"/>
		<variable name="gsid" type="int" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="factionid" type="FactionIDBean" attr="ref" default="FactionIDBean()"/>
	</protocol>

	<protocol name="BattleFlagBuffScope" type="8169" maxsize="2400" prior="1">
		<variable name="roles" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="flagid" type="int"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="remaintime" type="int" default="0"/>
	</protocol>

	<protocol name="QueryBattleFlagBuff" type="8170" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gsid" type="int" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="factionid" type="FactionIDBean" attr="ref" default="FactionIDBean()"/>
	</protocol>
	
	<rpcdata name="GTTeamBean">
		<variable name="teamid" type="int64_t" default="0"/>
		<variable name="captain" type="int64_t" default="0"/>
		<variable name="members" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
	</rpcdata>
	<protocol name="GTSyncTeams" type="8151" maxsize="1048576" prior="1">
		<variable name="teams" type="std::vector&lt;GTTeamBean&gt;" attr="ref"/>
	</protocol>
	<protocol name="GTTeamCreate" type="8152" maxsize="1048576" prior="1">
		<variable name="team" type="GTTeamBean"/>
	</protocol>
	<protocol name="GTTeamDismiss" type="8153" maxsize="1048576" prior="1">
		<variable name="teamid" type="int64_t"/>
	</protocol>
	<protocol name="GTTeamMemberUpdate" type="8154" maxsize="1048576" prior="1">
		<variable name="teamid" type="int64_t"/>
		<variable name="members" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
		<variable name="operation" type="char" default="-1"/><!--0:TEAM_ADD 1:TEAM_DEL 2:TEAM_CAP-->
	</protocol>
	<protocol name="RoleEnterVoiceChannel" type="8177" maxsize="2048" prior="1">
		<variable name="userid" type="int64_t"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="zoneid" type="int"/>
		<variable name="seq" type="int64_t"/>
		<variable name="timestamp" type="int64_t"/>
	</protocol>
	<protocol name="RoleEnterVoiceChannelAck" type="8179" maxsize="2048" prior="1">
		<variable name="userid" type="int64_t"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="zoneid" type="int"/>
		<variable name="seq" type="int64_t"/>
		<variable name="timestamp" type="int64_t"/>
	</protocol>
	<protocol name="RoleLeaveVoiceChannel" type="8178" maxsize="2048" prior="1">
		<variable name="userid" type="int64_t"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="zoneid" type="int"/>
		<variable name="seq" type="int64_t"/>
		<variable name="timestamp" type="int64_t"/>
	</protocol>
	<protocol name="RoleLeaveVoiceChannelAck" type="8280" maxsize="2048" prior="1">
		<variable name="userid" type="int64_t"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="zoneid" type="int"/>
		<variable name="seq" type="int64_t"/>
		<variable name="timestamp" type="int64_t"/>
	</protocol>
        <rpcdata name="RoleImportBean">
                <variable name="roleid" type="int64_t" default="0"/>
                <variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
                <variable name="gender" type="unsigned char" default="0"/>
                <variable name="race" type="int" default="0"/>
                <variable name="occupation" type="int" default="0"/>
                <variable name="level" type="int" default="0"/>
                <!--variable name="extinfo" type="Octets" attr="ref" default="Octets()"/-->
                <variable name="reborntimes" type="int" default="0"/>
                <variable name="cultivation" type="int" default="0"/>
        </rpcdata>
        <rpcdata name="GroupBean">
                <variable name="gtype" type="int" default="0"/>
                <variable name="groupid" type="int64_t" default="0"/>
                <variable name="groupname" type="Octets" attr="ref" default="Octets()"/>
                <variable name="friendlist" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
        </rpcdata>
        <rpcdata name="FriendImportBean">        
                <variable name="roleid" type="int64_t"/>
	        <variable name="friends" type="std::vector&lt;GroupBean&gt;" attr="ref"  default="std::vector&lt;GroupBean&gt;()"/>
	</rpcdata>
        <rpcdata name="TitleBean">
                <variable name="titleid" type="int" default="0"/>
                <variable name="titlename" type="Octets" attr="ref" default="Octets()"/>
                <variable name="members" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
        </rpcdata>
        <rpcdata name="FactionImportBean">
                <variable name="ftype" type="int" default="0"/>
                <variable name="factionid" type="int64_t" default="0"/>
                <variable name="factionname" type="Octets" attr="ref" default="Octets()"/>
                <variable name="announcement" type="Octets" attr="ref" default="Octets()"/>
                <variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
                <variable name="members" type="std::vector&lt;TitleBean&gt;" attr="ref" default="std::vector&lt;TitleBean&gt;()"/>
        </rpcdata>

	<protocol name="SyncRoleEvent2SNS" type="8171" maxsize="1024" prior="1">
		<variable name="roleid" type="int64_t"/>
		<variable name="event_type" type="int"/>
		<variable name="event_data" type="Octets" attr="ref"/>
	</protocol> 
	<!-- *****************************************************************************  -->
	<!-- inter-Server Protocols between kds Client and Server, id 8198-8199       	-->
	<!--  ****************************************************************************  -->
	<rpcdata name="CustomKey">
		<!--该key的内容 -->	
		<variable name="encoded" type="Octets" default="Octets()"/>
		<!--加密算法如"AES"或"RC4" -->
		<variable name="algorithm" type="Octets" default="Octets()"/>
		<!--数据类型如"RAW" -->	
		<variable name="format" type="Octets" default="Octets()"/>
		<!--该key的过期的绝对时间，即自1970年1月1日0时起的毫秒数 -->
		<variable name="timeout" type="int64_t"/>
	</rpcdata>
	<!--连接请求 -->	
	<protocol name="KeysReq" type="8090" maxsize="65536" prior="1">
		<variable name="kc_name" type="Octets" attr="ref"/>	
		<variable name="kc_activeId" type="int" default="0"/>	
	</protocol>
	<!--保持连接 -->	
	<protocol name="KDSKeepAlive" type="8091" maxsize="65536" prior="1">
		<variable name="code" type="char" />
	</protocol>
	<!--加密过的key列表 -->
	<protocol name="KeysResp" type="8092" maxsize="65536" prior="1">
		<!--kds服务器时间戳 -->
		<variable name="timestamp" type="int64_t"/>
		<!--该map的key为key_id，是CustomKey的生成的绝对时间，即1970年1月1日0时起的毫秒数,value 为CustomKey-->
		<!--variable name="keylist" type="map" Key="long" value="CustomKey"/-->
		<variable name="keylist" type="std::map&lt;int64_t,CustomKey&gt;" attr="ref"/>
	</protocol>

	<!-- *****************************************************************************  -->
	<!-- inter-Server Protocols for 副本Raid system, id 6551-6600 6651-6700   -->
	<!--  ****************************************************************************  -->
	<rpcdata name="RaidGroupLimit">
		<variable name="max_player_limit" type="int" default="0"/>
		<variable name="min_start_player_num" type="int" default="0"/>
		<!--variable name="auto_start_player_num" type="int" default="0"/-->
		<!--variable name="reborn_limit" type="int" default="0"/>
		<variable name="min_level_limit" type="int" default="0"/>
		<variable name="max_level_limit" type="int" default="0"/>
		<variable name="max_prof_count_limit" type="int" default="0"/>
		<variable name="faction_limit" type="int" default="0"/>
		<variable name="required_item" type="int" default="0"/>
		<variable name="required_money" type="int" default="0"/-->
	</rpcdata>
	<rpcdata name="RaidFieldInfo">
		<variable name="map_id" type="int" default="0"/>
		<variable name="raid_template_id" type="int" default="0"/>
		<variable name="raid_type" type="int" default="0"/><!--副本类型，目前不检查-->
		<variable name="queuing_time" type="int" default="0"/><!--报名时间限制-->
		<variable name="raid_max_instance" type="int" default="0"/><!--这条线这个副本最大数量-->
		<!--variable name="create_player_info_mask" type="int" default="0"/--><!--副本开启人身份限制-->
		<variable name="group1_limit" type="RaidGroupLimit" default="RaidGroupLimit()" attr="ref"/>
		<!--variable name="group2_limit" type="RaidGroupLimit" default="RaidGroupLimit()" attr="ref"/>
		<variable name="group3_limit" type="RaidGroupLimit" default="RaidGroupLimit()" attr="ref"/-->
		<!--variable name="entermax_perday" type="int"/>
		<variable name="cooldown_time" type="int"/-->
	</rpcdata>
	<!--protocol name="GRaidInstanceRegister" type="6565" maxsize="512" prior="1">
		<variable name="map_id" type="int"/>
		<variable name="index" type="int"/>
		<variable name="raidroom_id" type="int"/>
		<variable name="group1list" type="RaidGroupInfo" default="RaidGroupInfo()" attr="ref"/>
		<variable name="group2list" type="RaidGroupInfo" default="RaidGroupInfo()" attr="ref"/>
		<variable name="group3list" type="RaidGroupInfo" default="RaidGroupInfo()" attr="ref"/>
	</protocol-->
	<protocol name="GRaidServerRegister" type="6551" maxsize="8192" prior="1">
                <variable name="gs_id" type="int"/>
		<!--variable name="gs_max_instance" type="int" default="0"/--><!--本线最大副本数量-->
		<variable name="fields" type="std::vector&lt;RaidFieldInfo&gt;" default="std::vector&lt;RaidFieldInfo&gt;()" attr="ref"/>
	</protocol>
	<protocol name="GRaidOpen" type="6552" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="itemid" type="int" default="-1"/><!--报名物品-->
		<variable name="item_count" type="int" default="0"/><!--物品个数-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="roomname" type="Octets" attr="ref" default="Octets()"/>
		<variable name="can_vote" type="char" default="0"/>
		<variable name="difficulty" type="char" default="0"/>
	</protocol>
	<protocol name="RaidOpen_Re" type="6553" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="raidroom_id" type="int" attr="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="roomname" type="Octets" attr="ref" default="Octets()"/>
		<variable name="apply_endtime" type="int" attr="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="difficulty" type="char" default="0"/>
	</protocol>
	<rpcdata name="DBRaidOpenArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" attr="ref" default="GMailSyncData()"/>
	</rpcdata>
	<rpcdata name="DBRaidOpenRes">
		<variable name="retcode" type="int"/>
		<variable name="syncdata" type="GMailSyncData" attr="ref" default="GMailSyncData()"/>
	</rpcdata>
	<rpc debug="0" name="DBRaidOpen" type="6554" maxsize="2097152" prior="1" timeout="30"/>

	<rpcdata name="GRaidRoomInfo">
		<variable name="raidroom_id" type="int" attr="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<!--variable name="status" type="int" attr="int" default="0"/-->
		<variable name="apply_endtime" type="int" attr="int" default="0"/>
		<variable name="player_number" type="int" attr="int" default="0"/>
		<variable name="player_limit" type="int" attr="int" default="0"/>
		<variable name="leadername" type="Octets" attr="ref" default="Octets()"/>
		<variable name="leaderid" type="int" default="0"/>
		<variable name="leader_line" type="int" attr="int" default="0"/>
		<variable name="roomname" type="Octets" attr="ref" default="Octets()"/>
		<variable name="can_vote" type="char" default="0"/>
		<variable name="difficulty" type="char" default="0"/>
	</rpcdata>
	<protocol name="RaidGetList" type="6555" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidGetList_Re" type="6556" maxsize="131072" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="map_id" type="int"/>
		<variable name="fields" type="std::vector&lt;GRaidRoomInfo&gt;" default="std::vector&lt;GRaidRoomInfo&gt;()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GRaidJoin" type="6557" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="groupid" type="unsigned char" default="0"/>
                <!--variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/-->	
		<!--variable name="localsid" type="unsigned int" default="0"/-->
	</protocol>
        <protocol name="RaidJoin_Re" type="6558" maxsize="16" prior="1">
                <variable name="retcode" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
        <protocol name="RaidJoinApplyList" type="6559" maxsize="16" prior="1">
                <variable name="retcode" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidJoinReq" type="6560" maxsize="32" prior="1">
                <variable name="masterid" type="int"/><!--room master-->
       		<variable name="map_id" type="int" default="0"/>
		<variable name="raidroom_id" type="int" default="0"/>
                <variable name="requester" type="int" default="0"/>
                <variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
 	<protocol name="RaidJoinAccept" type="6561" maxsize="32" prior="1">
		<variable name="accept" type="unsigned char"/><!--1 accept, 0 not-->
		<variable name="masterid" type="int" default="0"/>
       		<variable name="map_id" type="int" default="0"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="requester" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
 	<protocol name="RaidJoinAccept_Re" type="6562" maxsize="16" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="accept" type="unsigned short"/>
		<variable name="requester" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidGetRoom" type="6563" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
 	<protocol name="RaidGetRoom_Re" type="6564" maxsize="2048" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="raidroom_id" type="int" default="0"/>
       		<variable name="map_id" type="int" default="0"/>
		<!--variable name="masterid" type="int" default="0"/-->
		<variable name="group1_player" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="group1_applyer" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol name="RaidQuit" type="6565" maxsize="16" prior="1"><!--退出报名-->
		<variable name="roleid" type="int"/>
		<!--variable name="map_id" type="int" default="0"/-->
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="team" type="unsigned char" default="0"/><!--从哪个队列退出-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidQuit_Re" type="6566" maxsize="16" prior="1">
		<variable name="retcode" type="int"/>
		<!--variable name="map_id" type="int" default="0"/-->
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--gdelivery转发用-->
	</protocol>
	<protocol name="RaidKick" type="6567" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="target" type="int" default="0"/>
		<!--variable name="map_id" type="int" default="0"/-->
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="reason" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidKick_Re" type="6568" maxsize="16" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="target" type="int" default="0"/>
		<!--variable name="map_id" type="int" default="0"/-->
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
        <protocol name="RaidKickNotify" type="6569" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<!--variable name="map_id" type="int"/-->
		<variable name="raidroom_id" type="int"/>
		<variable name="reason" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
        </protocol>

	<protocol name="RaidStart" type="6570" maxsize="512" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="raid_type" type="int" default="0"/>
		<variable name="raid_data" type="Octets" default="Octets()" attr="ref" />
	</protocol>
	<protocol name="RaidStart_Re" type="6571" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--gdelivery跨服转发用-->
	</protocol>
	<rpcdata name="RaidGroupInfo">
		<variable name="roleid_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<!--variable name="leader" type="int"/-->
		<!--variable name="group_key_id" type="int"/-->
	</rpcdata>
	<protocol name="SendRaidStart" type="6572" maxsize="4096" prior="1">
		<variable name="map_id" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="group1_list" type="RaidGroupInfo" default="RaidGroupInfo()" attr="ref"/>
		<variable name="raid_type" type="int" default="0"/>
		<variable name="raid_data" type="Octets" default="Octets()" attr="ref" />
		<variable name="can_vote" type="char" default="0"/>
		<variable name="difficulty" type="char" default="0"/>
		<!--variable name="group2_list" type="RaidGroupInfo" default="RaidGroupInfo()" attr="ref"/>
		<variable name="group3_list" type="RaidGroupInfo" default="RaidGroupInfo()" attr="ref"/-->
	</protocol>
	<protocol name="SendRaidStart_Re" type="6573" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="raidroom_id" type="int" default="-1"/>
		<variable name="index" type="int" default="-1"/><!--raid instance index-->
	</protocol>
	<protocol name="SendRaidClose" type="6574" maxsize="64" prior="1">
		<variable name="raidroom_id" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="index" type="int" default="-1"/>
		<variable name="reason" type="int" default="-1"/>
	</protocol>
        <protocol name="RaidStartNotify" type="6575" maxsize="32" prior="1">
                <variable name="gs_id" type="int"/>
                <variable name="map_id" type="int" default="0"/>
		<variable name="raidroom_id" type="int" default="0"/>
                <variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--gdelivery跨服转发用-->
        </protocol>

	<protocol name="RaidEnter" type="6576" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidEnter_Re" type="6577" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--gdelivery跨服转发用-->
		<variable name="gs_id" type="int" default="0"/><!--gdelivery原服跳转用-->
	</protocol>
	<protocol name="SendRaidEnter" type="6578" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="raid_template_id" type="int" default="0"/>
		<!--variable name="raidroom_id" type="int" default="0"/-->
		<variable name="index" type="int" default="0"/>
		<!--variable name="teamid" type="unsigned char" default="0"/-->
		<variable name="raid_type" type="int" default="0"/>
		<variable name="raid_data" type="Octets" default="Octets()" attr="ref" />
	</protocol>
	<protocol name="SendRaidEnter_Re" type="6579" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gs_id" type="int" default="0"/>
		<variable name="retcode" type="int" default="-1"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="index" type="int" default="0"/>
		<variable name="raid_type" type="int" default="0"/>
	</protocol>
      	<protocol name="RaidAppoint" type="6580" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<!--variable name="map_id" type="int"/-->
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="target" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidAppoint_Re" type="6581" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<!--variable name="map_id" type="int" default="0"/-->
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="target" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidAppointNotify" type="6582" maxsize="16" prior="1">
                <variable name="new_master_id" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<!--variable name="reason" type="int" default="0"/-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GRaidMemberChange" type="6583" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<!--variable name="raidroom_id" type="int" default="0"/-->
		<variable name="gs_id" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="index" type="int" default="0"/>
		<variable name="operation" type="unsigned char" default="0"/><!-- 1 add, 0 delete-->
	</protocol>
	<protocol name="GRaidLeave" type="6584" maxsize="32" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="index" type="int" default="0"/>
                <variable name="scalex" type="float" default="0.0f"/>
                <variable name="scaley" type="float" default="0.0f"/>
                <variable name="scalez" type="float" default="0.0f"/>
		<variable name="reason" type="int" default="0"/>
	</protocol>
	<protocol name="GRaidEnd" type="6585" maxsize="16" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="index" type="int" default="0"/>
		<variable name="result" type="int" default="-2"/><!-- -1:teamA 负，0:teamA平， 1：teamA赢  -->
		<!--variable name="reason" type="int" default="0"/-->
	</protocol>
	<protocol name="GRaidEnterSuccess" type="6586" maxsize="16" prior="1">
		<variable name="gs_id" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="index" type="int" default="0"/>
	</protocol>
	<protocol name="RaidOpenVote" type="6587" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="voted_roleid" type="int" default="0"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidOpenVote_Re" type="6588" maxsize="16" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="voted_roleid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidBeginVotes" type="6589" maxsize="16" prior="1">
		<variable name="voted_roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="RaidVotes" type="6590" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="voted_roleid" type="int" default="0"/>
		<variable name="vote" type="unsigned char" default="0"/>
	</protocol>
	<protocol name="RaidVoteResult" type="6591" maxsize="32" prior="1">
		<variable name="result" type="unsigned char"/>
		<variable name="voted_roleid" type="int" default="0"/>
		<variable name="agree_number" type="unsigned short" default="0"/>
		<variable name="total_number" type="unsigned short" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SendRaidKickout" type="6592" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="index" type="int" default="0"/>
	</protocol>
	<protocol name="RaidBriefInfo" type="6593" maxsize="32" prior="1">
		<variable name="masterid" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="TeamRaidRoleBrief">
		<variable name="roleid" type="int" default="0"/>
		<variable name="occup" type="unsigned char" default="0"/>
		<variable name="gender" type="unsigned char" default="0"/>
                <variable name="faceid" type="unsigned char" default="0"/>
                <variable name="hairid" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="TeamRaidApplyingRole">
		<variable name="roleid" type="int" default="0"/>
		<variable name="score" type="int" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/><!--gs 转换好的职业类型 非原始 status.occupation-->
		<variable name="rolebrief" type="TeamRaidRoleBrief" default="TeamRaidRoleBrief()"  attr="ref"/>
	</rpcdata>
	<protocol name="GRaidTeamApply" type="6594" maxsize="1024" prior="1">
		<variable name="map_id" type="int"/>
		<variable name="roles" type="std::vector&lt;TeamRaidApplyingRole&gt;" default="std::vector&lt;TeamRaidApplyingRole&gt;()" attr="ref"/>
		<variable name="reborn_cnt" type="int" default="0"/>
		<variable name="iscross" type="char" default="0"/><!--是否是战队6v6-->
		<variable name="crssvrteamid" type="int" default="-1"/><!--delivery跨服用-->
		<variable name="issrc" type="char" default="0"/><!--是否消息来自原服-->
		<variable name="src_zoneid" type="int" default="0"/><!--原服zoneid-->
		<variable name="src_gsid" type="int" default="0"/><!--原服gsid-->
	</protocol>
	<rpcdata name="TeamRaidRoleData">
		<variable name="roleid" type="int" default="0"/>
		<variable name="team" type="int" default="0"/>
		<variable name="score" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="TeamRaidMatchData">
		<variable name="roles" type="std::vector&lt;TeamRaidRoleData&gt;" default="std::vector&lt;TeamRaidRoleData&gt;()" attr="ref"/>
	</rpcdata>
	<protocol name="TeamRaidApply_Re" type="6595" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="err_roleid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--跨服中转使用-->
	</protocol>
	<!--protocol name="TeamRaidApplyQuery" type="6596" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="TeamRaidApplyQuery_Re" type="6597" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="players" type="std::vector&lt;GBattleRole&gt;" attr="ref" default="std::vector&lt;GBattleRole&gt;()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol-->
	<protocol name="TeamRaidMappingSuccess" type="6598" maxsize="2048" prior="1">
		<variable name="raidroom_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--跨服中转使用-->
		<variable name="teamdata_a" type="GCrssvrTeamsData" default="GCrssvrTeamsData()" attr="ref"/>
		<variable name="teamdata_a_detail" type="std::vector&lt;TeamRaidRoleBrief&gt;" default="std::vector&lt;TeamRaidRoleBrief&gt;()" attr="ref"/>
		<variable name="a_ranking" type="int" default="0"/>
		<variable name="teamdata_b" type="GCrssvrTeamsData" default="GCrssvrTeamsData()" attr="ref"/>
		<variable name="teamdata_b_detail" type="std::vector&lt;TeamRaidRoleBrief&gt;" default="std::vector&lt;TeamRaidRoleBrief&gt;()" attr="ref"/>
		<variable name="b_ranking" type="int" default="0"/>
	</protocol>
	<protocol name="TeamRaidMappingSuccess_Re" type="6599" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="agree" type="char" default="0"/><!--0 拒绝 1 同意-->
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="TeamRaidAckTimeout" type="6600" maxsize="16" prior="1">
		<variable name="raidroom_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="TeamRaidBeginChooseChar" type="6651" maxsize="2048" prior="1">
		<variable name="raidroom_id" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="roles" type="TeamRaidMatchData" default="TeamRaidMatchData()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="TeamRaidUpdateChar" type="6652" maxsize="2048" prior="1">
		<variable name="raidroom_id" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="roledata" type="TeamRaidRoleData" default="TeamRaidRoleData()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="FactionPkRaidChallenge" maxsize="64" prior="1" type="6653">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<!--variable name="dst_roleid" type="int"/-->
		<variable name="dst_rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="FactionPkRaidChallenge_Re" maxsize="64" prior="1" type="6654">
		<variable name="retcode" type="int"/>
		<variable name="dst_factionid" type="unsigned int" default="0"/>
		<variable name="dst_rolename" type="Octets" attr="ref" default="Octets()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="FactionPkRaidInvite" maxsize="128" prior="1" type="6655">
		<variable name="map_id" type="int"/>
		<variable name="inviter_factionid" type="unsigned int" default="0"/>
		<variable name="inviter_faction_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="dst_factionid" type="unsigned int" default="0"/>
		<variable name="dst_faction_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="FactionPkRaidInvite_Re" maxsize="32" prior="1" type="6656">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="result" type="char" default="0"/>
		<variable name="inviter_factionid" type="unsigned int" default="0"/>
		<variable name="dst_factionid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="FactionPkRaidBegin" maxsize="128" prior="1" type="6657">
		<variable name="retcode" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="raidroom_id" type="int"/>
		<variable name="attacker" type="unsigned int" default="0"/>
		<variable name="defender" type="unsigned int" default="0"/>
		<variable name="attacker_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="defender_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GFactionPkRaidKill" maxsize="32" prior="1" type="6658">
		<variable name="map_id" type="int"/>
		<variable name="index" type="int"/>
		<variable name="killer" type="int"/>
		<variable name="victim" type="int" default="0"/>
		<variable name="victim_faction" type="int" default="0"/>
	</protocol>
	<protocol name="FactionPkRaidGetScore" maxsize="64" prior="1" type="6659">
		<variable name="mapid" type="int"/>
		<variable name="raidroom_id" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GFactionPkRaidRecord">
		<variable name="roleid" type="int" default="0"/>
		<!--variable name="rolename" type="Octets" default="Octets()" attr="ref" /-->
		<variable name="kills" type="short" default="0"/>
		<variable name="deaths" type="short" default="0"/>
	</rpcdata>
	<protocol name="FactionPkRaidGetScore_Re" maxsize="16384" prior="1" type="6660">
		<variable name="retcode" type="int"/>
		<variable name="mapid" type="int"/>
		<variable name="raidroom_id" type="int"/>
		<variable name="attacker" type="int"/>
		<variable name="defender" type="int"/>
		<variable name="attack_score" type="std::vector&lt;GFactionPkRaidRecord&gt;" attr="ref"/>
		<variable name="defender_score" type="std::vector&lt;GFactionPkRaidRecord&gt;" attr="ref"/>
		<!--variable name="attacker_kills" type="int" default="0"/-->
		<!--variable name="defender_kills" type="int" default="0"/-->
		<variable name="remain_time" type="int" default="0"/>
		<variable name="attacker_num" type="short" default="0"/>
		<variable name="defender_num" type="short" default="0"/>
		<variable name="watcher_num" type="short" default="0"/>
		<variable name="bonus" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--protocol name="FactionPkRaidJoin" maxsize="32" prior="1" type="6661">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="raidroom_id" type="int" default="0"/>
	</protocol-->
        <protocol name="FactionPkRaidStopFight" maxsize="32" prior="1" type="6661">
                <variable name="mapid" type="int"/>
                <variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
        </protocol>
	<rpcdata name="GFactionPkRoomInfo">
		<variable name="raidroom_id" type="int" attr="int" default="0"/>
		<!--variable name="status" type="int" attr="int" default="0"/-->
		<variable name="attacker" type="int"/>
		<variable name="defender" type="int"/>
		<variable name="attacker_num" type="short" default="0"/>
		<variable name="defender_num" type="short" default="0"/>
		<variable name="watcher_num" type="short" default="0"/>
		<!--variable name="player_limit" type="int" attr="int" default="0"/-->
		<variable name="attacker_level" type="char"/>
		<variable name="defender_level" type="char"/>
		<!--variable name="roomname" type="Octets" attr="ref" default="Octets()"/-->
	</rpcdata>
	<protocol name="FactionPkRaidGetList" type="6662" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="FactionPkRaidGetList_Re" type="6663" maxsize="131072" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="fields" type="std::vector&lt;GFactionPkRoomInfo&gt;" default="std::vector&lt;GFactionPkRoomInfo&gt;()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GFactionPkRaidDeposit" maxsize="32" prior="1" type="6664">
		<variable name="mapid" type="int"/>
		<variable name="index" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
	</protocol>
	<!--protocol name="SendRaidRoleData" maxsize="1024" prior="1" type="6665">
		<variable name="roleid" type="int"/>
		<variable name="mapid" type="int"/>
		<variable name="index" type="int"/>
		<variable name="raid_data" type="Octets" default="Octets()" attr="ref" />
	</protocol-->
	<protocol name="FactionPkRaidChallengeCancel" maxsize="32" prior="1" type="6666">
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="dst_factionid" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="FactionPkRaidChallengeCancel_Re" maxsize="32" prior="1" type="6667">
		<variable name="retcode" type="int"/>
		<variable name="dst_factionid" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GFactionPkRaidFightNotify" maxsize="32" prior="1" type="6668">
		<variable name="mapid" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
		<variable name="is_start" type="char" default="1"/>
	</protocol>
	<protocol name="TeamRaidQuit" type="6669" maxsize="32" prior="1"><!--退出组队副本报名-->
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int"/>
		<variable name="teamid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="zoneid" type="int" default="0"/><!--gdelivery转发用-->
	</protocol>
	<protocol name="TeamRaidApplyNotice" type="6670" maxsize="32" prior="1"><!--组队副本报名返回-->
		<variable name="roleid" type="int"/>
		<variable name="isapplying" type="int"/><!--0:clear role， 1本服6v6，2跨服6v6, 3捉迷藏副本-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="TeamRaidActiveApplyNotice" type="6671" maxsize="32" prior="1"><!--标识战队active-->
		<variable name="active_roleid" type="int"/>
		<variable name="isapplying" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
	</protocol>

	<!-- *****************************************************************************  -->
	<!-- 捉迷藏副本 Protocols, id 6780-6789    -->
	<!--  ****************************************************************************  -->
	<protocol name="GHideSeekRaidApply" type="6680" maxsize="1024" prior="1">
		<variable name="map_id" type="int"/>
		<variable name="roles" type="std::vector&lt;TeamRaidApplyingRole&gt;" default="std::vector&lt;TeamRaidApplyingRole&gt;()" attr="ref"/>
		<variable name="issrc" type="char" default="0"/><!--是否消息来自原服-->
		<variable name="src_zoneid" type="int" default="0"/><!--原服zoneid-->
		<variable name="src_gsid" type="int" default="0"/><!--原服gsid-->
	</protocol>
	<protocol name="HideSeekMappingSuccess" type="6681" maxsize="32" prior="1">
		<variable name="raidroom_id" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="iscross" type="char" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--跨服中转使用-->
	</protocol>
	<protocol name="HideSeekMappingSuccess_Re" type="6682" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="raidroom_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="agree" type="char" default="0"/><!--0 拒绝 1 同意-->
		<variable name="iscross" type="char" default="0"/>
	</protocol>
	<protocol name="HideSeekRaidQuit" type="6683" maxsize="32" prior="1"><!--捉迷藏副本退出-->
		<variable name="roleid" type="int"/>
		<variable name="map_id" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="zoneid" type="int" default="0"/><!--gdelivery转发用-->
	</protocol>

	<!-- *****************************************************************************  -->
	<!-- 飞升155-160 Protocols, id 6790-6799    -->
	<!--  ****************************************************************************  -->
	<protocol name="GFengShenRaidApply" type="6690" maxsize="1024" prior="1">
		<variable name="map_id" type="int"/>
		<variable name="roles" type="std::vector&lt;TeamRaidApplyingRole&gt;" default="std::vector&lt;TeamRaidApplyingRole&gt;()" attr="ref"/>
		<variable name="issrc" type="char" default="0"/><!--是否消息来自原服-->
		<variable name="src_zoneid" type="int" default="0"/><!--原服zoneid-->
		<variable name="src_gsid" type="int" default="0"/><!--原服gsid-->
	</protocol>

	<!-- *****************************************************************************  -->
	<!-- 战队协议 Protocols, id 6701-6720    -->
	<!--  ****************************************************************************  -->

	<rpcdata name="GCrssvrTeamsRole">
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref" default="Octets()"/><!--―名字-->
		<variable name="level" type="unsigned short" default="0"/><!--等级-->
		<variable name="occupation" type="unsigned char" default="0"/><!--门派-->
		<variable name="score" type="int" default="0"/><!--―个人积分-->
		<variable name="camp" type="char" default="0"/><!--阵营-->
		<variable name="isonline" type="char" default="0"/><!--0不在线，1原服在线，2跨服在线-->
		<variable name="data_score" type="GCrssvrTeamsScore" default="GCrssvrTeamsScore()" attr="ref"/> <!--只是传输用，数据库值不准，真正的值在玩家身上-->
		<variable name="reserved" type="char" default="0"/>
		<variable name="ct_last_battle_count" type="short" default="0"/><!--只是传输用，数据库值不准，真正的值在玩家身上-->
		<variable name="ct_last_punish_time" type="int" default="0"/><!--只是传输用-->
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GCrssvrTeamsInfo"> 
		<variable name="createtime" type="int"/><!--创建时间-->
		<variable name="zoneid" type="int" default="-1"/><!--来自的原服id -->
		<variable name="teamid" type="int" default="-1"/>
		<variable name="master" type="int" default="-1"/><!--队长-->
		<variable name="name" type="Octets" attr="ref" default="Octets()"/><!--战队名字-->
		<variable name="score" type="int" default="0"/><!--战队积分-->
		<variable name="battle_losses " type="int" default="0"/><!--竞技场对战失败场次-->
		<variable name="battle_draws " type="int" default="0"/><!--竞技场平场次-->
		<variable name="battle_wins " type="int" default="0"/><!--竞技场胜利场次-->
		<variable name="changenametime" type="int" default="0"/>
		<variable name="weekbattletimes" type="int" default="0"/><!--一周打得场次-->
		<variable name="lastbattletime" type="int" default="0"/><!--最后一次战斗结算的时间,惩罚时使用，使用后重置-->
		<variable name="seasonlastbattletime" type="int" default="0"/> <!--赛季最后一次战斗结算时间，用于判断是否是新赛季，新赛季重置-->
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
	</rpcdata>

	<rpcdata name="GCrssvrTeamsData">
		<variable name="info" type="GCrssvrTeamsInfo" attr="ref"/>
		<variable name="roles" type="std::vector&lt;GCrssvrTeamsRole&gt;" default="std::vector&lt;GCrssvrTeamsRole&gt;()" attr="ref"/><!--战队成员-->
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>

	<!--创建战队-->
	<protocol debug="0" name="SendCrssvrTeamsCreate" type="6701" maxsize="2097152" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="teamname" type="Octets" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	
	<!--创建战队唯一名消息-->
	<rpcdata name="PreCrssvrTeamsCreateArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreCrssvrTeamsCreateRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreCrssvrTeamsCreate" type="6702" argument="PreCrssvrTeamsCreateArg" result="PreCrssvrTeamsCreateRes" table="unamecrssvrteams" attr="get" key="teamname" value="teamid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostCrssvrTeamsCreateArg">
		<variable name="success" type="char" default="1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="teamname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostCrssvrTeamsCreateRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCrssvrTeamsCreate" type="6703" argument="PostCrssvrTeamsCreateArg" result="PostCrssvrTeamsCreateRes" table="unamecrssvrteams" attr="put" key="teamname" value="teamid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>

	<!--创建战队数据库消息-->
	<rpcdata name="DBCrssvrTeamsCreateArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="info" type="GCrssvrTeamsRole" default="GCrssvrTeamsRole()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBCrssvrTeamsCreateRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="info" type="GCrssvrTeamsData" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsCreate" type="6704" argument="DBCrssvrTeamsCreateArg" result="DBCrssvrTeamsCreateRes" maxsize="2097152" prior="1" timeout="30"/>
	
	<!--战队操作结果返回-->
	<protocol debug="0" name="CrssvrTeamsNotify_Re" type="6705" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="teamid" type="int" />
		<variable name="localsid" type="unsigned int"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</protocol>

	<!--玩家请求自己关于战队的信息的消息-->
	<protocol debug="0" name="CrssvrTeamsGetRoleNotify" type="6711" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="CrssvrTeamsRoleNotify_Re" type="6712" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="teamid" type="int"/>
		<variable name="ct_last_max_score" type="int" default="0"/><!--上周个人最大积分-->
		<variable name="ct_last_battle_count" type="int" default="0"/><!--上周战斗场次-->
		<variable name="role_score" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<!--战队信息请求-->
	<protocol debug="0" name="CrssvrTeamsGetTeamBase" type="6706" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="CrssvrTeamsTeamBase_Re" type="6707" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="teamid" type="int"/>
		<variable name="master" type="int" default="-1"/><!--队长-->
		<variable name="name" type="Octets" attr="ref" default="Octets()"/><!--战队名字-->
		<variable name="score" type="int" default="0"/><!--战队积分-->
		<variable name="battle_losses " type="int" default="0"/><!--竞技场对战失败场次-->
		<variable name="battle_draws " type="int" default="0"/><!--竞技场平场次-->
		<variable name="battle_wins" type="int" default="0"/><!--竞技场胜利场次-->
		<variable name="team_pos" type="int" default="-1"/><!--队伍排名-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="CrssvrTeamsGetRoleList" type="6708" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="CrssvrTeamsRoleList_Re" type="6709" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="teamid" type="int"/>
		<variable name="members" type="std::vector&lt;GCrssvrTeamsRole&gt;" default="std::vector&lt;GCrssvrTeamsRole&gt;()" attr="ref"/><!--战队成员-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<rpcdata name="TeamId">
		<variable name="teamid" type="int" default="-1"/>
		<variable name="season_start_time" type="int" default="-1"/>
	</rpcdata>

	<rpcdata name="DBCrssvrTeamsGetRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="info" type="GCrssvrTeamsData" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsGet" type="6710" argument="TeamId" result="DBCrssvrTeamsGetRes" maxsize="131072" prior="1" timeout="30"/>
	
	<!--战队改名-->
	<protocol debug="0" name="CrssvrTeamsRename" type="6715" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="new_teamsname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<!--战队改名唯一名消息-->
	<rpcdata name="PreCrssvrTeamsRenameArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="new_teamsname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreCrssvrTeamsRenameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreCrssvrTeamsRename" type="6717" argument="PreCrssvrTeamsRenameArg" result="PreCrssvrTeamsRenameRes" table="unamecrssvrteams" attr="get" key="teamname" value="teamid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="PostCrssvrTeamsRenameArg">
		<variable name="success" type="char" default="1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="0"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostCrssvrTeamsRenameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCrssvrTeamsRename" type="6718" argument="PostCrssvrTeamsRenameArg" result="PostCrssvrTeamsRenameRes" maxsize="1024" prior="1" timeout="15"/>

	<!--战队改名数据库消息-->
	<rpcdata name="DBCrssvrTeamsRenameArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="DBCrssvrTeamsRenameRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="changetime" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsRename" type="6719" argument="DBCrssvrTeamsRenameArg" result="DBCrssvrTeamsRenameRes" maxsize="1024" prior="1" timeout="30"/>
	
	<!--战队解散-->
	<protocol debug="0" name="CrssvrTeamsDismiss" type="6720" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<rpcdata name="PostCrssvrTeamsDelArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="teamid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="PostCrssvrTeamsDelRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCrssvrTeamsDel" type="6721" argument="PostCrssvrTeamsDelArg" result="PostCrssvrTeamsDelRes" maxsize="1024" prior="1" timeout="15"/>
	
	<!--战队解散数据库消息-->
	<rpcdata name="DelCrssvrTeamsRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="teamname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="createtime" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsDel" type="6723" argument="TeamId" result="DelCrssvrTeamsRes" maxsize="64" prior="1" timeout="30"/>
	
	<!--战队招募,输入玩家名字，点击操作发送-->
	<protocol debug="0" name="CrssvrTeamsRecruit" type="6730" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="teamid" type="int"/>
		<variable name="invitee" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<!--战队招募,被招收成员点击操作发送-->
	<rpcdata name="CrssvrTeamsInviteArg">
		<variable name="roleid" type="int" default="-1"/><!--邀请人-->
		<variable name="invitee" type="int" default="-1"/><!--被邀请人-->
		<variable name="teamid" type="int" default="-1"/>
		<variable name="team_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="role_name" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="CrssvrTeamsInviteRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="CrssvrTeamsInvite" type="6732" maxsize="256" argument="CrssvrTeamsInviteArg" result="CrssvrTeamsInviteRes" prior="1" timeout="30"/>

	<!--队伍加人-->
	<rpcdata name="DBCrssvrTeamsJoinArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="info" type="GCrssvrTeamsRole" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBCrssvrTeamsJoinRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="info" type="GCrssvrTeamsRole" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsJoin" type="6733" argument="DBCrssvrTeamsJoinArg" result="DBCrssvrTeamsJoinRes" maxsize="1024" prior="1" timeout="30"/>
	
	<!--战队更换队长-->
	<protocol debug="0" name="CrssvrTeamsChgCaptain" type="6740" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="master_new" type="int"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<!--更换队长-->
	<rpcdata name="DBCrssvrTeamsChgCaptainArg">
		<variable name="caption_roleid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="DBCrssvrTeamsChgCaptainRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsChgCaptain" type="6741" argument="DBCrssvrTeamsChgCaptainArg" result="DBCrssvrTeamsChgCaptainRes" maxsize="128" prior="1" timeout="30"/>
	
	<!--战队退出-->
	<protocol debug="0" name="CrssvrTeamsLeave" type="6750" maxsize="32" prior="1">
		<variable name="teamid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>	

	<rpcdata name="DBCrssvrTeamsLeaveArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="DBCrssvrTeamsLeaveRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="captain_roleid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsLeave" type="6752" argument="DBCrssvrTeamsLeaveArg" result="DBCrssvrTeamsLeaveRes" maxsize="128" prior="1" timeout="30"/>

	<!--踢出战队-->
	<protocol debug="0" name="CrssvrTeamsKick" type="6753" maxsize="32" prior="1">
		<variable name="teamid" type="int"/>
		<variable name="roleid" type="int"/><!--操作人id-->
		<variable name="kick_roleid" type="int"/><!--被踢的人-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>	


	<rpcdata name="GCrssvrTeamsScore">
		<variable name="roleid" type="int" default="0"/>
		<variable name="ct_max_score" type="int" default="0"/><!--当前最高积分-->
		<variable name="ct_last_max_score" type="int" default="0"/><!--上周最大积分-->
		<variable name="ct_score_updatetime" type="int" default="0"/><!--最近积分更新时间-->
	</rpcdata>

	<!--同步到数据库-->
	<rpcdata name="SyncCrssvrTeamsScoreArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="data_score" type="GCrssvrTeamsScore" default="GCrssvrTeamsScore()" attr="ref"/>
		<variable name="ct_score" type="int" default="0"/>
		<variable name="ct_last_battle_count" type="int" default="0"/><!--玩家上周战斗场次-->
	</rpcdata>
	<rpcdata name="SyncCrssvrTeamsScoreRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrssvrTeamsScore" type="6754" argument="SyncCrssvrTeamsScoreArg" result="SyncCrssvrTeamsScoreRes" maxsize="128" prior="1" timeout="30"/>

	<!--积分从跨服同步到原服-->
	<rpc debug="0" name="SyncCrossCrssvrTeamsScore" type="6757" argument="SyncCrssvrTeamsScoreArg" result="SyncCrssvrTeamsScoreRes" maxsize="128" prior="1" timeout="30"/>

	<!--战队中玩家数据修改，延迟写入消息-->
	<rpcdata name="SyncCrssvrTeamsRoleArg">
		<variable name="teamid" type="int"/>
		<variable name="role" type="GCrssvrTeamsRole" attr="ref"/>
	</rpcdata>
	<rpcdata name="SyncCrssvrTeamsRoleRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrssvrTeamsRole" type="6760" argument="SyncCrssvrTeamsRoleArg" result="SyncCrssvrTeamsRoleRes" maxsize="1024" prior="1" timeout="30"/>
	
	<!--战队数据修改，延迟写入消息-->
	<rpcdata name="SyncCrssvrTeamsArg">
		<variable name="teamid" type="int"/>
		<variable name="info" type="GCrssvrTeamsInfo" attr="ref"/>
	</rpcdata>
	<rpcdata name="SyncCrssvrTeamsRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrssvrTeams" type="6761" argument="SyncCrssvrTeamsArg" result="SyncCrssvrTeamsRes" maxsize="131072" prior="1" timeout="30"/>
	
	<!--同步到跨服，整个战队-->
	<rpcdata name="SyncCrossCrssvrTeamsArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="info" type="GCrssvrTeamsData" default="GCrssvrTeamsData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsRes">
		<variable name="retcode" type="int"/>
		<variable name="teamid" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeams" type="6762" argument="SyncCrossCrssvrTeamsArg" result="SyncCrossCrssvrTeamsRes" maxsize="131072" prior="1" timeout="30"/>

	<!--更新战队信息到跨服-->
	<rpcdata name="SyncCrossCrssvrTeamsUpdateArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="teaminfo" type="GCrssvrTeamsInfo" default="GCrssvrTeamsInfo()" attr="ref"/>
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsUpdateRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeamsUpdate" type="6755" argument="SyncCrossCrssvrTeamsUpdateArg" result="SyncCrossCrssvrTeamsUpdateRes" maxsize="2048" prior="1" timeout="30"/>
	
	<!--同步到跨服，加入,如果玩家已有，更新-->
	<rpcdata name="SyncCrossCrssvrTeamsAddArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="info" type="GCrssvrTeamsRole" default="GCrssvrTeamsRole()" attr="ref"/>
		<variable name="data_score" type="GCrssvrTeamsScore" default="GCrssvrTeamsScore()" attr="ref"/>
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsAddRes">
		<variable name="retcode" type="int"/>
		<variable name="teamid" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeamsAdd" type="6763" argument="SyncCrossCrssvrTeamsAddArg" result="SyncCrossCrssvrTeamsAddRes" maxsize="1024" prior="1" timeout="30"/>

	<!--同步到跨服，删除-->
	<rpcdata name="SyncCrossCrssvrTeamsDelArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsDelRes">
		<variable name="retcode" type="int"/>
		<variable name="teamid" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeamsDel" type="6764" argument="SyncCrossCrssvrTeamsDelArg" result="SyncCrossCrssvrTeamsDelRes" maxsize="128" prior="1" timeout="30"/>

	<!--同步到跨服，换队长-->
	<rpcdata name="SyncCrossCrssvrTeamsChgCaptainArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="caption_roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsChgCaptainRes">
		<variable name="retcode" type="int"/>
		<variable name="teamid" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeamsChgCaptain" type="6765" argument="SyncCrossCrssvrTeamsChgCaptainArg" result="SyncCrossCrssvrTeamsChgCaptainRes" maxsize="128" prior="1" timeout="30"/>
	
	<!--同步到跨服，改名-->
	<rpcdata name="SyncCrossCrssvrTeamsRenameArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsRenameRes">
		<variable name="retcode" type="int"/>
		<variable name="teamid" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeamsRename" type="6766" argument="SyncCrossCrssvrTeamsRenameArg" result="SyncCrossCrssvrTeamsRenameRes" maxsize="1024" prior="1" timeout="30"/>

	<!--同步到跨服，解散-->
	<rpcdata name="SyncCrossCrssvrTeamsDismissArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="createtime" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsDismissRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeamsDismiss" type="6767" argument="SyncCrossCrssvrTeamsDismissArg" result="SyncCrossCrssvrTeamsDismissRes" maxsize="128" prior="1" timeout="30"/>

	<!--跨服数据库存储-->
	<rpcdata name="DBCrossCrssvrTeamsArg">
		<variable name="teamid" type="int" default="-1"/>
		<variable name="info" type="GCrssvrTeamsData" default="GCrssvrTeamsData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBCrossCrssvrTeamsRes">
		<variable name="retcode" type="int"/>
		<variable name="teamid" type="int"/>
	</rpcdata>
	<rpc debug="0" name="DBCrossCrssvrTeams" type="6768" argument="DBCrossCrssvrTeamsArg" result="DBCrossCrssvrTeamsRes" maxsize="131072" prior="1" timeout="30"/>
	<!--战队解散数据库消息-->
	<rpcdata name="DBCrossCrssvrTeamsDismissArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="createtime" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCrossCrssvrTeamsDismissRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="teamname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="DBCrossCrssvrTeamsDismiss" type="6769" argument="DBCrossCrssvrTeamsDismissArg" result="DBCrossCrssvrTeamsDismissRes" maxsize="64" prior="1" timeout="30"/>

	<!--战队改名数据库消息-->
	<rpcdata name="DBCrossCrssvrTeamsRenameArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="teamid" type="int" default="-1"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="createtime" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCrossCrssvrTeamsRenameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="DBCrossCrssvrTeamsRename" type="6756" argument="DBCrossCrssvrTeamsRenameArg" result="DBCrossCrssvrTeamsRenameRes" maxsize="64" prior="1" timeout="30"/>

	<!--跨服同步玩家在线信息到原服-->
	<protocol debug="0" name="CrossCrssvrTeamsOnlineStatus" type="6758" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="teamid" type="int"/>
		<variable name="online" type="char"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<!--跨服请求原服数据-->
	<protocol debug="0" name="CrossCrssvrTeamsGetReq" type="6770" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="teamid" type="int"/>
		<variable name="req_type" type="char"/> <!--0表示战队信息，1表示角色信息-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<!--跨服排行榜同步到原服-->
	<rpcdata name="SyncCrossCrssvrTeamsTopArg">
		<variable name="top_type" type="int" default="0"/>
		<variable name="table"  type="GTopTable" default="GTopTable()" attr="ref"/>
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsTopRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeamsTop" type="6771" argument="SyncCrossCrssvrTeamsTopArg" result="SyncCrossCrssvrTeamsTopRes" maxsize="1024576" prior="1" timeout="30"/>

	<!--跨服结算数据通知到原服-->
	<rpcdata name="SyncCrossCrssvrTeamsEndBriefArg">
		<variable name="teamid" type="int" default="-1"/>
		<variable name="team_roles" type="std::vector&lt;int&gt;" default="std::vector&lt;int&gt;()" attr="ref"/>
		<variable name="team_b_score" type="int" default="0"/>
		<variable name="result" type="int" default="-2"/><!-- -1: 负，0:平， 1：赢  -->
	</rpcdata>
	<rpcdata name="SyncCrossCrssvrTeamsEndBriefRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="SyncCrossCrssvrTeamsEndBrief" type="6772" argument="SyncCrossCrssvrTeamsEndBriefArg" result="SyncCrossCrssvrTeamsEndBriefRes" maxsize="128" prior="1" timeout="30"/>

	<!--战队6v6从原服拉人用-->
	<protocol name="CrossRaidEnter_Re" type="6773" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="0"/><!--gdelivery跨服转发用-->
		<variable name="gs_id" type="int" default="0"/><!--gdelivery原服跳转用-->
		<variable name="map_id" type="int" default="0"/><!--gdelivery原服跳转用-->
		<variable name="templateid" type="int" default="0"/><!--gdelivery原服跳转用-->
		<variable name="index" type="int" default="0"/><!--gdelivery原服跳转用-->
		<variable name="raid_type" type="int" default="0"/><!--gdelivery原服跳转用-->
	</protocol>

	<!--战队奖励-->
	<protocol name="GCrssvrTeamsGetScore" type="6774" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="award_type" type="int" default="0"/><!--gs转发-->
		<variable name="award_level" type="int" default="0"/><!--gs转发-->

	</protocol>
	<protocol name="GCrssvrTeamsPostScore" type="6775" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="rolescore" type="int" default="0"/><!--上周个人积分-->
		<variable name="teamscore" type="int" default="0"/><!--上周队伍积分-->
		<variable name="toppos" type="int" default="0"/><!--上周队伍排名,上赛季队伍排名-->
		<variable name="weektoptime" type="int" default="0"/><!--上周排行榜更新时间-->
		<variable name="retcode" type="int" default="0"/><!--0:成功, -1不能领-->
		<variable name="award_type" type="int" default="0"/><!--gs中转用-->
		<variable name="award_level" type="int" default="0"/><!--gs中转用-->
	</protocol>

	<!--战队搜索-->
	<protocol debug="0" name="CrssvrTeamsSearch" type="6776" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="zoneid" type="int" default="0"/><!--gdeliveryd中转用-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--战队搜索-->
	<protocol debug="0" name="CrssvrTeamsSearch_Re" type="6777" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="retcode" type="int"/>
		<variable name="info" type="GCrssvrTeamsData" default="GCrssvrTeamsData()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--数据库中搜索结果-->
	<rpcdata name="DBCrossCrssvrTeamsSearchArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="DBCrossCrssvrTeamsSearchRes">
		<variable name="retcode" type="int"/>
		<variable name="info" type="GCrssvrTeamsData" default="GCrssvrTeamsData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBCrossCrssvrTeamsSearch" type="6778" argument="DBCrossCrssvrTeamsSearchArg" result="DBCrossCrssvrTeamsSearchRes" maxsize="131072" prior="1" timeout="30"/>

	<!--个人积分惩罚-->
	<rpcdata name="DBCrssvrTeamsRolePunishScoreArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="ct_score" type="int" default="0"/>
		<variable name="ct_last_punish_time" type="int" default="0"/>
		<variable name="ct_last_battle_count" type="int" default="0"/>
		<variable name="updatemask" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCrssvrTeamsRolePunishScoreRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsRolePunishScore" type="6779" argument="DBCrssvrTeamsRolePunishScoreArg" result="DBCrssvrTeamsRolePunishScoreRes" maxsize="64" prior="1" timeout="30"/>

	<!--得到赛季排行榜-->
	<rpcdata name="DBCrssvrTeamsGetSeasonTopArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCrssvrTeamsGetSeasonTopRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="seasontop" type="GCrssvrTeamsSeasonTop" default="GCrssvrTeamsSeasonTop()"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsGetSeasonTop" type="6780" argument="DBCrssvrTeamsGetSeasonTopArg" result="DBCrssvrTeamsGetSeasonTopRes" maxsize="1048576" prior="1" timeout="30"/>

	<rpcdata name="GCrssvrTeamsSeasonTop">
		<variable name="pos_map"  type="std::map&lt;int, int&gt;"/><!--原服中这个字段有用-->
		<variable name="table"  type="GTopTable"/><!--跨服数据库中这个字段有用-->
		<variable name="updatetime" type="int" default="0"/>	
	</rpcdata>
	<!--保存赛季排行榜-->
	<rpcdata name="DBCrssvrTeamsSeasonTopSaveArg">
		<variable name="seasontop"  type="GCrssvrTeamsSeasonTop"/>
	</rpcdata>
	<rpcdata name="DBCrssvrTeamsSeasonTopSaveRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="DBCrssvrTeamsSeasonTopSave" type="6781" argument="DBCrssvrTeamsSeasonTopSaveArg" result="DBCrssvrTeamsSeasonTopSaveRes" maxsize="1048576" prior="1" timeout="30"/>

	<!--战队6v6数据榜请求，原服向跨服请求-->
	<rpcdata name="CrossCrssvrTeamsGetTopTableArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="toptype" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="CrossCrssvrTeamsGetTopTableRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc debug="0" name="CrossCrssvrTeamsGetTopTable" type="6782" argument="CrossCrssvrTeamsGetTopTableArg" result="CrossCrssvrTeamsGetTopTableRes" maxsize="128" prior="1" timeout="30"/>

	<!-- *****************************************************************************  -->
	<!-- inter-Server Protocols for SNS&单点接入 system, id 6601-6650    -->
	<!--  ****************************************************************************  -->
	<protocol debug="0" name="GetKDCToken" type="6604" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="linksid" type="unsigned int" default="0"/>
		<variable name="userid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="GetKDCToken_Re" type="6605" maxsize="256" prior="1">
		<variable name="token" type=" Octets " attr="ref" />
		<variable name="retcode" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="linksid" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="GetKDCTokenToGate" type="6606" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="rolename" type=" Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="linksid" type="unsigned int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="passport" type=" Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="SyncGsRoleInfo2Platform" type="6607" maxsize="65536" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gsroleinfo" type="GSNSGsRoleInfo" default="GSNSGsRoleInfo()" attr="ref"/>
	</protocol>
	<rpcdata name="DBSNSGetRoleArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBSNSGetRoleRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="creditinfo" type="GCreditInfo" default="GCreditInfo()" attr="ref"/>
		<variable name="petinfo" type="GPetsInfo" default="GPetsInfo()" attr="ref"/>
		<variable name="pocketinfo" type="GPocketInfo" default="GPocketInfo()" attr="ref"/>
	</rpcdata>
	<rpc name="DBSNSGetRole" type="6608" maxsize="1048576" prior="1" timeout="30"/>

	<!--为寻宝网 SNS 与小工具之间定义协议 end-->
	<!-- ************************ -->
	<!--  STATES of AC Server  -->
	<!-- ************************ -->
	<state name="ACServer" timeout="86400">
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACProtoStat"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="ACStatusAnnounce"/>
		<protocol ref="ACReportCheater"/>
		<protocol ref="ACTriggerQuestion"/>
		<protocol ref="ACStatusAnnounce2"/>
		<!--<protocol ref="PlayerStatusAnnounce"/>-->
	</state>
	<state name="ACClient" timeout="86400">
		<protocol ref="ACRemoteCode"/>
		<protocol ref="ACQuestion"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="ACKickoutUser"/>
		<protocol ref="ACReportCheater"/>
		<protocol ref="ACForbidUser"/>
		<protocol ref="ACAccuse_Re"/>
	</state>
	<state name="ACControlServer" timeout="1800">
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACReloadConfig"/>
		<protocol ref="ACRemoteExe"/>
		<protocol ref="ACQuery"/>
		<protocol ref="ACSendCode"/>
	</state>
	<state name="ACControlClient" timeout="86400">
		<protocol ref="ACConnectRe"/>
		<protocol ref="ACReloadConfigRe"/>
		<protocol ref="ACRemoteExeRe"/>
		<protocol ref="ACQLogInfo"/>
		<protocol ref="ACQuery" />
		<protocol ref="ACQUserStrs"/>
		<protocol ref="ACQUserOnline"/>
		<protocol ref="ACQMouseInfo" />
		<protocol ref="ACQThreadTimes" />
		<protocol ref="ACQProtocolStats" />
		<protocol ref="ACQStrOwner"/>
		<protocol ref="ACCheaters"/>
		<protocol ref="ACQPatterns"/>
		<protocol ref="ACForbidProcess"/>
		<protocol ref="ACQPlatformInfo"/>
		<protocol ref="ACBriefInfo"/>
		<protocol ref="ACPeriodInfo"/>
		<protocol ref="ACQCodeRes"/>
		<protocol ref="ACVersion"/>
	</state>


	<!-- ************************ -->
	<!--  STATES of GLink Server  -->
	<!-- ************************ -->
	<state name="GLoginServer" timeout="10">
		<protocol ref="Response"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="DomainLogin"/>
		<protocol ref="KeyReestablish"/>
		<protocol ref="TryReconnect"/>
	</state>	

	<state name="GResponseReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GKeyReestablished" timeout="60"><!--跨服登录引入-->
		<protocol ref="SelectRole"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GVerifyMatrix" timeout="180">
                <protocol ref="MatrixResponse"/>
                <protocol ref="KeepAlive"/>
                <protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
        </state>
	<state name="GKeyExchgSend" timeout="60">
		<protocol ref="KeyExchange"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>	
	<state name="GKeyExchgSucc" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GRoleList" timeout="60">
		<protocol ref="RoleList"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GRoleList_OnGame" timeout="60">
		<protocol ref="RoleList"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="GamedataSend"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>

	<state name="GRoleListReceive" timeout="120">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GSelectRoleServer" timeout="86400">
		<protocol ref="CreateRole"/>
		<protocol ref="DeleteRole"/>
		<protocol ref="SelectRole"/>
		<protocol ref="UndoDeleteRole"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GSelectRoleReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GCreateRoleReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GDeleteRoleReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GUndoDeleteRoleReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GReadyGame" timeout="120">
		<protocol ref="EnterWorld"/>
		<protocol ref="GamedataSend"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="LineList"/>
	</state>	
	<state name="__only_for_stub" timeout="120" >
		<protocol ref="BINDER" maxsize="131072"/>
		<protocol ref="COMPRESSBINDER" maxsize="131072"/>
	</state>
	<state name="GDomainServer" timeout="120">
		<protocol ref="DomainValidate"/>
		<protocol ref="DomainCmd"/>
	</state>	
	<state name="GDataExchgServer" timeout="120">
		<protocol ref="FacBaseDataSend"/>
		<protocol ref="CreateFacBase"/>
		<protocol ref="GetFacActTopTable"/>
		<protocol ref="GetFactionDynamic"/>
		<!--protocol ref="FactionPostMsg"/-->
		<!--protocol ref="GetFactionMsg"/-->
		<protocol ref="ACClientTimeout"/>
		<!--Token-->
		<protocol ref="GetKDCToken"/>
      		<!--Raid-->
		<protocol ref="RaidStart"/>
		<protocol ref="RaidEnter"/>
		<protocol ref="RaidQuit"/>
		<protocol ref="TeamRaidQuit"/>
		<protocol ref="HideSeekRaidQuit"/>
		<protocol ref="GetCommonData"/>
		<protocol ref="RaidGetList"/>
		<protocol ref="RaidAppoint"/>
		<protocol ref="RaidKick"/>
		<protocol ref="RaidGetRoom"/>
		<protocol ref="RaidJoinAccept"/>
		<protocol ref="RaidOpenVote"/>
		<protocol ref="RaidVotes"/>
		<!--protocol ref="TeamRaidApplyQuery"/-->
		<protocol ref="TeamRaidMappingSuccess_Re"/>
		<protocol ref="HideSeekMappingSuccess_Re"/>
		<protocol ref="TeamRaidUpdateChar"/>
		<protocol ref="FactionPkRaidChallenge"/>
		<protocol ref="FactionPkRaidChallengeCancel"/>
		<protocol ref="FactionPkRaidInvite_Re"/>
		<protocol ref="FactionPkRaidGetScore"/>
		<!--protocol ref="FactionPkRaidJoin"/-->
		<protocol ref="FactionPkRaidGetList"/>
		<protocol ref="FactionWithDrawBonus"/>

		<!--GT-->
		<protocol ref="GetFriendGTStatus" />
		<!--Circle -->
		<protocol ref="GCircleChat"/>
		<protocol ref="CircleList"/>
		<protocol ref="GetCircleBaseInfo"/>
         	<!--protocol ref="CircleList_Re"/-->
	        <!--protocol ref="GetCircleBaseInfo_Re"/-->
		<!--protocol ref="RoleEnterNewCircle"/-->
		<protocol ref="ClaimCircleGradBonus"/>	
	
		<!--Consign-->
		<protocol ref="ConsignCancelPost"/>
		<protocol ref="ConsignQuery"/>
		<protocol ref="ConsignGetItem"/>
		<protocol ref="ConsignListAll"/>
		<protocol ref="ConsignListRole"/>
		<protocol ref="ConsignListLargeCategory"/>

		<protocol ref="RoleList"/>
		<protocol ref="GamedataSend"/>
		<protocol ref="PublicChat"/>
		<protocol ref="PrivateChat"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="PlayerBaseInfo2"/>
		<protocol ref="PlayerBaseInfoCRC"/>
		<protocol ref="GetPlayerIDByName"/>
		<protocol ref="SetUIConfig"/>
		<protocol ref="GetUIConfig"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="GetPlayerBriefInfo"/>
		<protocol ref="GetServerRTT"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend"/>
		<protocol ref="AddFriend_Re"/>
		<protocol ref="GetFriends"/>
		<protocol ref="GetFriends_Re"/>
		<protocol ref="SetGroupName"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="DelFriend"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="GetEnemies"/>
		<protocol ref="UpdateEnemy"/>
		<protocol ref="FriendStatus"/>
		<protocol ref="GetSavedMsg"/>
		<protocol ref="GetSavedMsg_Re"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="ChatRoomCreate"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList"/>

		<!-- friend call back protocols -->
		<protocol ref="FriendCallbackInfo"/>
		<protocol ref="FriendCallbackMail"/>
		<protocol ref="FriendCallbackAward"/>
		<protocol ref="FriendCallbackSubscribe"/>

		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeAddGoods"/>
		<protocol ref="TradeRemoveGoods"/>
		<protocol ref="TradeSubmit"/>
		<protocol ref="TradeMoveObj"/>
		<protocol ref="TradeConfirm"/>
		<protocol ref="TradeDiscard"/>
		<rpc ref="TradeStartRqst"/>

		<!-- faction related protocol -->
		<protocol ref="GetFactionBaseInfo"/>
		<protocol ref="BattleGetMap"/>
		<protocol ref="BattleGetList"/>
		<protocol ref="BattleGetField"/>
		<protocol ref="BattleJoin"/>
		<protocol ref="BattleEnter"/>
		<protocol ref="BattleLeave"/>

		<protocol ref="InstancingGetList"/> 
		<protocol ref="InstancingGetField"/>
		<protocol ref="InstancingKick"/>
		<protocol ref="InstancingStart"/>
		<protocol ref="InstancingAvailableList"/>
		<protocol ref="InstancingAccept"/>
		<protocol ref="InstancingLeave"/>
		<protocol ref="InstancingAppoint"/>
		<protocol ref="InstancingEnter"/>
		
		<!--CrssvrTeams-->
		<protocol ref="CrssvrTeamsGetRoleNotify"/>
		<protocol ref="CrssvrTeamsGetTeamBase"/>
		<protocol ref="CrssvrTeamsGetRoleList"/>
		<protocol ref="CrssvrTeamsRename"/>
		<protocol ref="CrssvrTeamsDismiss"/>
		<protocol ref="CrssvrTeamsRecruit"/>
		<protocol ref="CrssvrTeamsChgCaptain"/>
		<protocol ref="CrssvrTeamsLeave"/>
		<protocol ref="CrssvrTeamsKick"/>
		<protocol ref="CrssvrTeamsSearch"/>
		<rpc ref="CrssvrTeamsInvite"/>

		<rpc ref="FactionInvite"/>
		<protocol ref="FactionChat"/>
		<protocol ref="FactionDismiss"/>
		<protocol ref="FactionRecruit"/>
		<protocol ref="FactionExpel"/>
		<protocol ref="FactionAnnounce"/>
		<protocol ref="FactionAppoint"/>
		<protocol ref="FactionResign"/>
		<protocol ref="FactionLeave"/>
		<protocol ref="FactionNickname"/>
		<protocol ref="FactionList"/>
		<protocol ref="FactionUpgrade"/>
		<!--protocol ref="GetFactionHostile"/-->
		<!--protocol ref="HostileDelete"/-->
		<!--protocol ref="HostileAdd"/-->
		<protocol ref="SectRecruit"/>
		<protocol ref="SectExpel"/>
		<protocol ref="SectList"/>
		<rpc ref="SectInvite"/>

		<!-- GM related protocols -->
		<protocol ref="GMOnlineNum"/>
		<protocol ref="GMListOnlineUser"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="GMForbidSellPoint"/>
		<protocol ref="GMKickoutRole"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GMShutupRole"/>
		<protocol ref="GMToggleChat"/>
		<protocol ref="GMForbidRole"/>
		<protocol ref="GMRestartServer"/>
		<protocol ref="Report2GM"/>
		<protocol ref="Complain2GM"/>

		<!-- anti-cheat related protocols -->
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="ACAccuse"/>

		<!-- mail system related protocols -->
		<protocol ref="CheckNewMail"/>

		<protocol ref="AuctionOpen"/>
		<protocol ref="AuctionBid"/>
		<protocol ref="AuctionList"/>
		<protocol ref="AuctionClose"/>
		<protocol ref="AuctionGet"/>
		<protocol ref="AuctionGetItem"/>
		<protocol ref="AuctionAttendList"/>
		<protocol ref="AuctionExitBid"/>

		<protocol ref="GetTopTable"/>
		<protocol ref="CombatChallenge"/>
		<protocol ref="CombatTop"/>
		<rpc ref="CombatInvite"/>
		<protocol ref="CashLock"/>
		<protocol ref="CashPasswordSet"/>
		<protocol ref="FamilyRecord"/>
		<protocol ref="AutolockSet"/>
		<!-- siege relative -->
		<protocol ref="SiegeInfoGet"/>
		<protocol ref="SiegeEnter"/>
		<protocol ref="SiegeTop"/>

		<!-- contest relative protocol-->
		<protocol ref="ContestInvite_Re"/>
		<protocol ref="ContestAnswer"/>
		<protocol ref="ContestExit"/>

		<protocol ref="FunGamedataSend"/>
		<protocol ref="HometowndataSend"/>

		<protocol ref="SNSSetPlayerInfo"/>
		<protocol ref="SNSGetPlayerInfo"/>
		<protocol ref="SNSCancelMessage"/>
		<protocol ref="SNSCancelLeaveMessage"/>
		<protocol ref="SNSListMessage"/>
		<protocol ref="SNSGetMessage"/>
		<protocol ref="SNSAcceptApply"/>

		<protocol ref="RefListReferrals"/>
		<protocol ref="RefWithdrawExp"/>
		<protocol ref="RefWithdrawBonus"/>
		<protocol ref="RefGetReferenceCode"/>
		<!--Territory-->
		<protocol ref="TerritoryMapGet"/>

		<protocol ref="UniqueBidHistory"/>
		<protocol ref="TryChangeGS"/>
		<protocol ref="DoChangeGS"/>
		<protocol ref="LineList"/>

		<protocol ref="SSOGetTicketReq"/>
		<protocol ref="FastPay"/>
		<protocol ref="QueryRolenameHistory"/>

		<protocol ref="KingdomAnnounce"/>
		<protocol ref="KingdomAppoint"/>
		<protocol ref="KingdomDischarge"/>
		<protocol ref="KingdomSetGameAttri"/>
		<protocol ref="KingdomGetInfo"/>
		<protocol ref="KingdomGetTitle"/>
		<rpc ref="KingGuardInvite"/>
		<rpc ref="QueenOpenBathInvite"/>
		<protocol ref="QueenTryOpenBath"/>
		<protocol ref="GetKingTask"/>

		<protocol ref="SendFlowerReq"/>
		<protocol ref="TopFlowerReq"/>
		<protocol ref="TopFlowerGetGift"/>

		<!--openbanquet-->
		<protocol ref="OpenBanquetCancel"/>
		<protocol ref="OpenBanquetQueueCount"/>
		<protocol ref="OpenBanquetEnter"/>
		<protocol ref="OpenBanquetGetField"/>
		
		<protocol ref="GetTouchPoint"/>
		<protocol ref="GetPassportCashAdd"/>
</state>

	<!-- ************************ -->
	<!--  STATES of GLink client  -->
	<!-- ************************ -->
	<state name="GLoginClient" timeout="60">
		<protocol ref="ErrorInfo"/>
		<protocol ref="ServerMessage"/>
		<protocol ref="Challenge"/>
		<protocol ref="MatrixChallenge"/>
		<protocol ref="KeyExchange"/>
		<protocol ref="LineList"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="OnlineAnnounce"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="GetServerRTT"/>
		<protocol ref="TryReconnect_Re"/>
	</state>

	<state name="GSelectRoleClient" timeout="86400">
		<protocol ref="LineList"/>
		<protocol ref="ErrorInfo"/>
		<protocol ref="ServerMessage"/>
		<protocol ref="RoleList_Re"/>
		<protocol ref="CreateRole_Re"/>
		<protocol ref="DeleteRole_Re"/>
		<protocol ref="UndoDeleteRole_Re"/>
		<protocol ref="SelectRole_Re"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="GetServerRTT"/>
		<protocol ref="PlayerChangeDS_Re"/>
		<!--protocol ref="LineInfo"/-->
	</state>

	<state name="GDataExchgClient" timeout="120">
		<protocol ref="FacBaseDataSend"/>
		<protocol ref="CreateFacBase_Re"/>
		<protocol ref="GetFacActTopTable_Re"/>
		<protocol ref="FacBaseStopNotice"/>
		<protocol ref="FacBaseEnter_Re"/>
		<protocol ref="GetFactionDynamic_Re"/>
		<!--protocol ref="FactionPostMsg_Re"/-->
		<!--protocol ref="GetFactionMsg_Re"/-->
	        <protocol ref="GlobalDropBroadCast"/>
	        <protocol ref="GlobalDropRemainBroadCast"/>
		<!--Token-->
		<protocol ref="GetKDCToken_Re"/>
		<!--Raid-->
		<protocol ref="RaidJoinReq"/>
		<protocol ref="RaidOpen_Re"/>
		<protocol ref="RaidJoin_Re"/>
		<protocol ref="RaidJoinApplyList"/>
		<protocol ref="RaidJoinAccept_Re"/>
		<protocol ref="RaidEnter_Re"/>
		<protocol ref="RaidGetList_Re"/>
		<protocol ref="RaidStart_Re"/>
		<protocol ref="RaidAppoint_Re"/>
		<protocol ref="RaidAppointNotify"/>
		<protocol ref="RaidStartNotify"/>
		<protocol ref="RaidKick_Re"/>
		<protocol ref="RaidKickNotify"/>
		<protocol ref="RaidQuit_Re"/>
		<protocol ref="GetCommonData_Re"/>
		<protocol ref="RaidGetRoom_Re"/>
		<protocol ref="RaidOpenVote_Re"/>
		<protocol ref="RaidBeginVotes"/>
		<protocol ref="RaidVoteResult"/>
		<protocol ref="RaidBriefInfo"/>
		<protocol ref="TeamRaidApply_Re"/>
		<protocol ref="TeamRaidApplyNotice"/>
		<protocol ref="TeamRaidActiveApplyNotice"/>
		<!--protocol ref="TeamRaidApplyQuery_Re"/-->
		<protocol ref="TeamRaidMappingSuccess"/>
		<protocol ref="HideSeekMappingSuccess"/>
		<protocol ref="TeamRaidBeginChooseChar"/>
		<protocol ref="TeamRaidUpdateChar"/>
		<protocol ref="TeamRaidAckTimeout"/>
		<protocol ref="FactionPkRaidChallenge_Re"/>
		<protocol ref="FactionPkRaidChallengeCancel_Re"/>
		<protocol ref="FactionPkRaidInvite"/>
		<protocol ref="FactionPkRaidBegin"/>
		<protocol ref="FactionPkRaidGetScore_Re"/>
		<protocol ref="FactionPkRaidGetList_Re"/>
		<protocol ref="FactionPkRaidStopFight"/>
		<protocol ref="FactionWithDrawBonus_Re"/>


		<!--GT-->
		<protocol ref="GateOfflineChat" />
		<protocol ref="UpdateFriendGTStatus" />
		<protocol ref="GateGetGTRoleStatus_Re" />
	        <!--Circle -->
		<protocol ref="GCircleChat"/>
	        <!--protocol ref="CircleList"/-->
                <!--protocol ref="GetCircleBaseInfo"/-->		 
		<protocol ref="CircleList_Re"/>
	        <protocol ref="GetCircleBaseInfo_Re"/>
		<protocol ref="CircleNotify"/>
		<!--protocol ref="ClaimCircleGradBonus"/-->

		<!--Consign-->
		<protocol ref="ConsignCancelPost_Re"/>
		<protocol ref="ConsignQuery_Re"/>
		<protocol ref="ConsignStartErr"/>
		<protocol ref="ConsignGetItem_Re"/>
		<protocol ref="ConsignListAll_Re"/>
		<protocol ref="ConsignListRole_Re"/>
		<protocol ref="ConsignListLargeCategory_Re"/>
		<protocol ref="ConsignPlayer_Re"/>

		<protocol ref="UpdateRemainTime"/>
		<protocol ref="BINDER" maxsize="131072"/>
		<protocol ref="COMPRESSBINDER" maxsize="131072"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="ErrorInfo"/>
		<protocol ref="ServerMessage"/>
		<protocol ref="GamedataSend"/>
		<protocol ref="PlayerBaseInfo_Re"/>
		<protocol ref="PlayerBaseInfo2_Re"/>
		<protocol ref="PlayerBaseInfoCRC_Re"/>
		<protocol ref="GetPlayerIDByName_Re"/>
		<protocol ref="SetUIConfig_Re"/>
		<protocol ref="GetUIConfig_Re"/>
		<protocol ref="SetHelpStates_Re"/>
		<protocol ref="GetHelpStates_Re"/>
		<protocol ref="GetPlayerBriefInfo_Re"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="PlayerLogout"/>
		<protocol ref="ChatMessage"/>
		<protocol ref="WorldChat"/>
		<protocol ref="PrivateChat"/>
		<protocol ref="RoleStatusAnnounce"/>
		<protocol ref="GetServerRTT"/>

		<!-- friend call back protocols -->
		<protocol ref="FriendCallbackInfo_Re"/>
		<protocol ref="FriendCallbackMail_Re"/>
		<protocol ref="FriendCallbackAward_Re"/>
		<protocol ref="FriendCallbackSubscribe_Re"/>

		<!--CrssvrTeams-->
		<protocol ref="CrssvrTeamsRoleNotify_Re"/>
		<protocol ref="CrssvrTeamsTeamBase_Re"/>
		<protocol ref="CrssvrTeamsRoleList_Re"/>
		<protocol ref="CrssvrTeamsNotify_Re"/>
		<protocol ref="CrssvrTeamsSearch_Re"/>
		<!--<protocol ref="CrssvrTeamsRecruit_Re"/>-->
		<!--<protocol ref="CrssvrTeamsChgCaptain_Re"/>-->
		<!--<protocol ref="CrssvrTeamsLeave_Re"/>-->
		<!--<protocol ref="CrssvrTeamsRename_Re"/>-->

		<!-- faction related protocols -->
		<protocol ref="FactionChat"/>
		<protocol ref="FactionCreate_Re"/>
		<protocol ref="FamilyRecord"/>
		<protocol ref="FactionExpel_Re"/>
		<protocol ref="FactionList_Re"/>
		<protocol ref="FactionRecruit_Re"/>
		<protocol ref="FactionAppoint_Re"/>
		<protocol ref="FactionResign_Re"/>
		<protocol ref="FactionLeave_Re"/>
		<protocol ref="FactionDismiss_Re"/>
		<protocol ref="FactionUpgrade_Re"/>
		<protocol ref="FactionNickname_Re"/>
		<protocol ref="FactionAnnounce_Re"/>
		<protocol ref="BattleGetMap_Re"/>
		<protocol ref="BattleGetList_Re"/>
		<protocol ref="BattleGetField_Re"/>
		<protocol ref="BattleJoin_Re"/>
		<protocol ref="BattleLeave_Re"/>
		<protocol ref="BattleEnter_Re"/>
		<protocol ref="BattleStartNotify"/>

		<protocol ref="InstancingGetList_Re"/>
		<protocol ref="InstancingGetField_Re"/>
		<protocol ref="InstancingKick_Re"/>
		<protocol ref="InstancingStart_Re"/>
		<protocol ref="InstancingAvailableList_Re"/>
		<protocol ref="InstancingJoinReq"/>
		<protocol ref="InstancingJoin_Re"/>
		<protocol ref="HometownExchgMoney_Re"/>
		<protocol ref="InstancingLeave_Re"/>
		<protocol ref="InstancingAppoint_Re"/>
		<protocol ref="InstancingAccept_Re"/>
		<protocol ref="InstancingAppointNotify"/>
		<protocol ref="InstancingKickNotify"/>
		<protocol ref="InstancingEnter_Re"/>
		<protocol ref="InstancingStartNotify"/>
		<protocol ref="InstancingCloseNotify"/>

		<rpc ref="CrssvrTeamsInvite"/>

		<rpc ref="FactionInvite"/>
		<protocol ref="GetFactionBaseInfo_Re"/>
		<!--protocol ref="GetFactionHostile_Re"/-->
		<protocol ref="HostileAdd_Re"/>
		<protocol ref="HostileDelete_Re"/>
		<protocol ref="HostileProtect_Re"/>
		<protocol ref="SectList_Re"/>
		<protocol ref="SectRecruit_Re"/>
		<protocol ref="SectExpel_Re"/>
		<protocol ref="SectQuit"/>
		<rpc ref="SectInvite"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend_Re"/>
		<protocol ref="GetFriends_Re"/>
		<protocol ref="SetGroupName"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="DelFriend"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="FriendStatus"/>
		<protocol ref="GetEnemies_Re"/>
		<protocol ref="UpdateEnemy_Re"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="GetSavedMsg"/>
		<protocol ref="GetSavedMsg_Re"/>
		<protocol ref="ChatRoomCreate_Re"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin_Re"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList_Re"/>
		
		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeStart_Re"/>
		<protocol ref="TradeAddGoods_Re"/>
		<protocol ref="TradeRemoveGoods_Re"/>
		<protocol ref="TradeSubmit_Re"/>
		<protocol ref="TradeMoveObj_Re"/>
		<protocol ref="TradeConfirm_Re"/>
		<protocol ref="TradeDiscard_Re"/>
		<protocol ref="TradeEnd"/>

		<rpc ref="TradeStartRqst"/>

		<protocol ref="KeepAlive"/>
		
		<!-- GM related protocols -->
		<protocol ref="GMRestartServer"/>
		<protocol ref="GMOnlineNum_Re"/>
		<protocol ref="GMListOnlineUser_Re"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="GMForbidSellPoint_Re"/>
		<protocol ref="GMKickoutRole_Re"/>
		<protocol ref="GMShutup_Re"/>
		<protocol ref="GMShutupRole_Re"/>
		<protocol ref="GMToggleChat_Re"/>
		<protocol ref="GMRestartServer_Re"/>
		<protocol ref="GMForbidRole_Re"/>
		<protocol ref="Report2GM_Re"/>
		<protocol ref="Complain2GM_Re"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="QueryUserPrivilege_Re"/>

		<!-- Anti-Cheat related protocols -->
		<protocol ref="ACRemoteCode"/>
		<protocol ref="ACQuestion"/>

		<!-- mail system related protocols -->
		<protocol ref="AnnounceNewMail"/>
		<protocol ref="GetMailList_Re"/>
		<protocol ref="GetMail_Re"/>
		<protocol ref="GetMailAttachObj_Re"/>
		<protocol ref="DeleteMail_Re"/>
		<protocol ref="PreserveMail_Re"/>
		<protocol ref="PlayerSendMail_Re"/>

		<protocol ref="AuctionOpen_Re"/>
		<protocol ref="AuctionBid_Re"/>
		<protocol ref="AuctionClose_Re"/>
		<protocol ref="AuctionList_Re"/>
		<protocol ref="AuctionGet_Re"/>
		<protocol ref="AuctionGetItem_Re"/>
		<protocol ref="AuctionAttendList_Re"/>
		<protocol ref="AuctionExitBid_Re"/>
		
		<protocol ref="GetTopTable_Re"/>
		<protocol ref="StockCommission_Re"/>
		<protocol ref="StockAccount_Re"/>
		<protocol ref="StockTransaction_Re"/>
		<protocol ref="StockBill_Re"/>
		<protocol ref="StockCancel_Re"/>
		<protocol ref="CombatChallenge_Re"/>
		<protocol ref="CombatControl"/>
		<protocol ref="CombatStatus"/>
		<protocol ref="CombatTop_Re"/>
		<rpc ref="CombatInvite"/>
		<!--protocol ref="PlayerChangeGS_Re"/-->
		<protocol ref="TryChangeGS_Re"/>
		<protocol ref="DoChangeGS_Re"/>
		<protocol ref="AutolockSet"/>


		<!-- siege relative -->
		<protocol ref="SiegeChallenge_Re"/>
		<protocol ref="SiegeSetAssistant_Re"/>
		<protocol ref="SiegeInfoGet_Re"/>
		<protocol ref="SiegeEnter_Re"/>
		<protocol ref="SiegeTop_Re"/>

		<!-- contest relative -->
		<protocol ref="ContestInvite"/>
		<protocol ref="ContestBegin"/>
		<protocol ref="ContestQuestion"/>
		<protocol ref="ContestAnswer_Re"/>
		<protocol ref="ContestPlaceNotify"/>
		<protocol ref="ContestEnd"/>

		<protocol ref="FunGamedataSend"/>
		<protocol ref="HometowndataSend"/>

		<protocol ref="SNSSetPlayerInfo_Re"/>
		<protocol ref="SNSPressMessage_Re"/>
		<protocol ref="SNSCancelMessage_Re"/>
		<protocol ref="SNSCancelLeaveMessage_Re"/>
		<protocol ref="SNSApply_Re"/>
		<protocol ref="SNSApplyNotify"/>
		<protocol ref="SNSListMessage_Re"/>
		<protocol ref="SNSGetMessage_Re"/>
		<protocol ref="SNSGetPlayerInfo_Re"/>
		<protocol ref="SNSVote_Re"/>
		<protocol ref="SNSAcceptApply_Re"/>

		<protocol ref="RefListReferrals_Re"/>
		<protocol ref="RefWithdrawExp_Re"/>
		<protocol ref="RefWithdrawBonus_Re"/>
		<protocol ref="RefGetReferenceCode_Re"/>

		<protocol ref="AchievementMessage"/>
		<protocol ref="PKMessage"/>
		<protocol ref="RefineMessage"/>
		<protocol ref="GShopNotifyScheme"/>
		<!--Territory-->
		<protocol ref="TerritoryMapGet_Re"/>
		<protocol ref="TerritoryChallenge_Re"/>
		<protocol ref="TerritoryEnter_Re"/>
		<protocol ref="TerritoryLeave_Re"/>
		<protocol ref="TerritoryEnterRemind"/>
		<protocol ref="TerritoryScoreUpdate"/>

		<protocol ref="UniqueBidHistory_Re"/>
		<protocol ref="UniqueBid_Re"/>
		<protocol ref="UniqueGetItem_Re"/>
		<!--cross server-->
		<protocol ref="PlayerChangeDS_Re"/>
		<protocol ref="ChangeDS_Re"/>
		<!--protocol ref="LineInfo"/-->

		<protocol ref="SSOGetTicketRep"/>
		<protocol ref="DiscountAnnounce"/>
		<protocol ref="FastPay_Re"/>
		<protocol ref="FastPayBindInfo"/>
		<protocol ref="QueryRolenameHistory_Re"/>
		<protocol ref="ChangeRolename_Re"/>
		<protocol ref="ChangeFactionName_Re"/>
		<protocol ref="FriendNameChange"/>

		<protocol ref="KingdomBattleEnter_Re"/>
		<protocol ref="KingdomBattleLeave_Re"/>
		<protocol ref="KingdomAnnounce_Re"/>
		<protocol ref="KingdomAppoint_Re"/>
		<protocol ref="KingdomDischarge_Re"/>
		<protocol ref="KingdomSetGameAttri_Re"/>
		<protocol ref="KingdomGetInfo_Re"/>
		<protocol ref="KingdomGetTitle_Re"/>
		<protocol ref="KingdomTitleChange"/>
		<protocol ref="KingdomPointChange"/>
		<protocol ref="KingdomKingChange"/>
		<rpc ref="KingGuardInvite"/>
		<rpc ref="QueenOpenBathInvite"/>
		<protocol ref="KingCallGuards_Re"/>
		<protocol ref="QueenOpenBath_Re"/>
		<protocol ref="KingIssueTask_Re"/>
		<protocol ref="GetKingTask_Re"/>
		<protocol ref="KingGetReward_Re"/>

		<protocol ref="TopFlower_Re"/>
		<protocol ref="TopFlower_Err"/>
		<protocol ref="TopFlowerMsg_Re"/>

		<protocol ref="OpenBanquetJoin_Re"/>
		<protocol ref="OpenBanquetNotify_Re"/>
		<protocol ref="OpenBanquetDrag_Re"/>
		<protocol ref="OpenBanquetQueueCount_Re"/>
		<protocol ref="OpenBanquetEnter_Re"/>
		<protocol ref="OpenBanquetGetField_Re"/>
		
		<protocol ref="GetTouchPoint_Re"/>
		<protocol ref="GetPassportCashAdd_Re"/>
		<protocol ref="TouchPointExchange_Re"/>
		<protocol ref="ACAccuse_Re"/>
	</state>

	<!-- ******************************** -->
	<!--  STATES of gauthd client/server  -->
	<!-- ******************************** -->
	<state name="GAuthServer" timeout="86400">
		<protocol ref="KeyExchange"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="AccountingRequest" /> 
		<protocol ref="AnnounceZoneid"/>
		<protocol ref="AnnounceZoneid2"/>
		<protocol ref="AnnounceZoneid3"/>
		<protocol ref="Game2AU"/>
		<protocol ref="QueryUserPrivilege"/>
		<protocol ref="QueryUserPrivilege2"/>
		<protocol ref="QueryUserForbid"/>
		<protocol ref="QueryUserForbid2"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="GMForbidSellPoint"/>
		<protocol ref="GMShutup"/>
		<protocol ref="TransBuyPoint"/>
		<protocol ref="AddCash"/>
		<protocol ref="AddCash_Re"/>
		<protocol ref="VerifyMaster"/>
                <protocol ref="VerifyMaster_Re"/>
		
		<rpc ref="GQueryPasswd"/>
		<rpc ref="MatrixPasswd"/>
                <rpc ref="MatrixPasswd2"/>
                <rpc ref="MatrixToken"/>
                <protocol ref="MatrixFailure"/>
		<rpc ref="UserLogin"/>
                <rpc ref="UserLogin2"/>
		<rpc ref="UserLogout"/>
		<rpc ref="GetAddCashSN"/>
		<rpc ref="CashSerial"/>
		<protocol ref="BillingRequest"/>
		<protocol ref="BillingBalance"/>
		<rpc ref="NetMarbleLogin"/>
		<rpc ref="NetMarbleDeduct"/>
		<protocol ref="NetMarbleLogout"/>
	</state>
	
	<state name="GAuthClient" timeout="86400">
		<rpc ref="PassportGetRoleList"/>
		<protocol ref="KeyExchange"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="KickoutUser" />
		<protocol ref="AccountingResponse" />
		<protocol ref="QueryUserPrivilege_Re"/>
		<protocol ref="QueryUserForbid_Re"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="TransBuyPoint_Re"/>
		<protocol ref="AddCash"/>
		<protocol ref="AddCash_Re"/>
		<protocol ref="GetPlayerIDByName"/>
                <protocol ref="SysSendMail"/>
		<protocol ref="SysRecoveredObjMail"/>
		<protocol ref="VerifyMaster"/>
                <protocol ref="VerifyMaster_Re"/>

		<protocol ref="CertAnswer"/>
		<protocol ref="CertFinish"/>
		<rpc ref="CertChallenge"/>
		<rpc ref="GQueryPasswd"/>
		<rpc ref="MatrixPasswd"/>
                <rpc ref="MatrixPasswd2"/>
                <rpc ref="MatrixToken"/>
                <protocol ref="MatrixFailure"/>
		<rpc ref="UserLogin"/>
                <rpc ref="UserLogin2"/>
		<rpc ref="UserLogout"/>
		<rpc ref="GetAddCashSN"/>
		<rpc ref="CashSerial"/>
		<protocol ref="AddictionControl"/>
		<protocol ref="VIPAnnounce"/>
		<rpc ref="QueryUserid"/>
		<protocol ref="NetBarAnnounce"/>
		<protocol ref="BillingRequest"/>
		<protocol ref="BillingBalance"/>
		<protocol ref="AuthdVersion"/>
		<rpc ref="NetMarbleLogin" />
		<rpc ref="NetMarbleDeduct"/>
		<protocol ref="SSOGetTicketRep"/>
		<protocol ref="DiscountAnnounce"/>
		<protocol ref="AU2Game"/>
		<protocol ref="SysSendMail4"/>
	</state>
	
	<!-- *********************************** -->
	<!--  STATES of gdelivery client/server  -->
	<!-- *********************************** -->
	<state name="GDeliverServer" timeout="86400">
		<protocol ref="FacBaseDataSend"/>
		<protocol ref="CreateFacBase"/>
		<protocol ref="GetFacActTopTable"/>
		<protocol ref="GetFactionDynamic"/>
		<!--protocol ref="FactionPostMsg"/-->
		<!--protocol ref="GetFactionMsg"/-->
      		<!--Token-->
		<protocol ref="GetKDCToken"/>
      		<!--Raid-->
		<protocol ref="RaidStart"/>
		<protocol ref="RaidEnter"/>
		<protocol ref="RaidQuit"/>
		<protocol ref="TeamRaidQuit"/>
		<protocol ref="HideSeekRaidQuit"/>
		<protocol ref="RaidGetList"/>
		<protocol ref="RaidAppoint"/>
		<protocol ref="RaidKick"/>
		<protocol ref="RaidGetRoom"/>
		<protocol ref="RaidJoinAccept"/>
		<protocol ref="RaidOpenVote"/>
		<protocol ref="RaidVotes"/>
		<!--protocol ref="TeamRaidApplyQuery"/-->
		<protocol ref="TeamRaidMappingSuccess_Re"/>
		<protocol ref="HideSeekMappingSuccess_Re"/>
		<protocol ref="TeamRaidUpdateChar"/>
		<protocol ref="FactionPkRaidChallenge"/>
		<protocol ref="FactionPkRaidChallengeCancel"/>
		<protocol ref="FactionPkRaidInvite_Re"/>
		<protocol ref="FactionPkRaidGetScore"/>
		<!--protocol ref="FactionPkRaidJoin"/-->
		<protocol ref="FactionPkRaidGetList"/>
		<protocol ref="FactionWithDrawBonus"/>
		<!--GT-->
		<protocol ref="GetFriendGTStatus"/>
		<!--iweb-->
		<rpc ref="CommonDataQuery"/>
		<!--Circle-->
		<protocol ref="GCircleChat"/>
		<protocol ref="CircleList"/>
		<protocol ref="GetCircleBaseInfo"/>
		<!--protocol ref="RoleEnterNewCircle"/-->
		<protocol ref="ClaimCircleGradBonus"/>
		
		<!--Consign-->
		<protocol ref="ConsignCancelPost"/>
		<protocol ref="ConsignQuery"/>
		<protocol ref="ConsignGetItem"/>
		<protocol ref="ConsignListAll"/>
		<protocol ref="ConsignListRole"/>
		<protocol ref="ConsignListLargeCategory"/>

		<protocol ref="PlayerLogin"/>
		<protocol ref="PlayerStatusSync"/>
		<protocol ref="EnterWorld"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="RoleList"/>
		<protocol ref="CreateRole"/>
		<protocol ref="DeleteRole"/>
		<protocol ref="UndoDeleteRole"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="PlayerBaseInfo2"/>
		<protocol ref="PlayerBaseInfoCRC"/>
		<protocol ref="GetPlayerIDByName"/>
		<protocol ref="SetUIConfig"/>
		<protocol ref="GetUIConfig"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="GetPlayerBriefInfo"/>

		<protocol ref="BattleFlagBuffScope"/>
		<protocol ref="GetCouponsReq"/>
		
		<protocol ref="PublicChat"/>
		<protocol ref="PrivateChat"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend"/>
		<protocol ref="GetFriends"/>
		<protocol ref="SetGroupName"/>
		<protocol ref="SetFriendGroup"/>
		<protocol ref="DelFriend"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="FriendStatus"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="GetEnemies"/>
		<protocol ref="UpdateEnemy"/>
		<protocol ref="GetSavedMsg"/>
		<protocol ref="ChatRoomCreate"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList"/>

		<!-- friend call back protocols -->
		<protocol ref="FriendCallbackInfo"/>
		<protocol ref="FriendCallbackMail"/>
		<protocol ref="FriendCallbackAward"/>
		<protocol ref="FriendCallbackSubscribe"/>
		
		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeAddGoods"/>
		<protocol ref="TradeRemoveGoods"/>
		<protocol ref="TradeSubmit"/>
		<protocol ref="TradeMoveObj"/>
		<protocol ref="TradeConfirm"/>
		<protocol ref="TradeDiscard"/>
		<rpc ref="TradeStartRqst"/>

		<rpc ref="UserLogin" />
                <rpc ref="UserLogin2"/>
		<rpc ref="GQueryPasswd"/>
		<rpc ref="MatrixPasswd"/>
                <rpc ref="MatrixPasswd2"/>
                <rpc ref="MatrixToken"/>
                <protocol ref="MatrixFailure"/>
                <protocol ref="TryReconnect"/>
		
		<!-- GM related protocols -->
		<protocol ref="GMRestartServer"/>
		<protocol ref="GMShutdownLine"/>
		<protocol ref="GMOnlineNum"/>
		<protocol ref="GMListOnlineUser"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="GMForbidSellPoint"/>
		<protocol ref="GMKickoutRole"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GMShutupRole"/>
		<protocol ref="GMToggleChat"/>
		<protocol ref="GMForbidRole"/>
		<protocol ref="GMPrivilegeChange"/>
		<protocol ref="Report2GM"/>
		<protocol ref="Complain2GM"/>
		<protocol ref="AnnounceLinkType"/>
		<rpc ref="GMQueryRoleInfo"/>
		<protocol ref="SetMaxOnlineNum"/>
		<rpc ref="GetMaxOnlineNum"/>
		<rpc ref="GMGetGameAttri"/>
		<rpc ref="GMSetGameAttri"/>
		<rpc ref="GetLinePlayerLimit"/>
		<rpc ref="SetLinePlayerLimit"/>
                <protocol ref="VerifyMaster"/>
                <protocol ref="VerifyMaster_Re"/>

                <rpc ref="DBVerifyMaster"/>

		<rpc ref="ForbidUser"/>

		<!-- anti-cheat related protocols -->
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="ACProtoStat"/>
		<protocol ref="ReportIP"/>
		<protocol ref="ACAccuse"/>

		<!-- mail system related protocols -->
		<protocol ref="CheckNewMail"/>
		<protocol ref="SysSendMail"/>
		<protocol ref="SysRecoveredObjMail"/>
			<!-- add these protocols for test purpose,so client can send this protocol to link directly -->
		<protocol ref="GetMailList"/>
		<protocol ref="GetMail"/>
		<protocol ref="GetMailAttachObj"/>
		<protocol ref="DeleteMail"/>
		<protocol ref="PreserveMail"/>
		<protocol ref="PlayerSendMail"/>

		<protocol ref="AuctionOpen"/>
		<protocol ref="AuctionBid"/>
		<protocol ref="SendAuctionBid"/>
		<protocol ref="AuctionList"/>
		<protocol ref="AuctionClose"/>
		<protocol ref="AuctionGet"/>
		<protocol ref="AuctionAttendList"/>
		<protocol ref="AuctionExitBid"/>

		<protocol ref="InstancingGetList"/>
		<protocol ref="InstancingGetField"/>
		<protocol ref="InstancingKick"/>
		<protocol ref="InstancingStart"/>
		<protocol ref="InstancingAvailableList"/>
		<protocol ref="InstancingAccept"/>
		<protocol ref="InstancingLeave"/>
		<protocol ref="InstancingAppoint"/>
		<protocol ref="InstancingEnter"/>

		<!-- Battle field -->
		<protocol ref="BattleGetMap"/>
		<protocol ref="BattleGetList"/>
		<protocol ref="BattleGetField"/>
		<protocol ref="BattleJoin"/>
		<protocol ref="BattleEnter"/>
		<protocol ref="BattleLeave"/>

		<!--CrssvrTeams-->
		<protocol ref="CrssvrTeamsGetRoleNotify"/>
		<protocol ref="CrssvrTeamsGetTeamBase"/>
		<protocol ref="CrssvrTeamsGetRoleList"/>
		<protocol ref="CrssvrTeamsRename"/>
		<protocol ref="CrssvrTeamsDismiss"/>
		<protocol ref="CrssvrTeamsRecruit"/>
		<protocol ref="CrssvrTeamsChgCaptain"/>
		<protocol ref="CrssvrTeamsLeave"/>
		<protocol ref="CrssvrTeamsKick"/>
		<protocol ref="CrssvrTeamsSearch"/>
		<rpc ref="CrssvrTeamsInvite"/>

		<protocol ref="FactionChat"/>
		<protocol ref="FactionCreate"/>
		<protocol ref="FactionList"/>
		<protocol ref="FactionDismiss"/>
		<protocol ref="FactionRecruit"/>
		<protocol ref="FactionExpel"/>
		<protocol ref="FactionAnnounce"/>
		<protocol ref="FactionAppoint"/>
		<protocol ref="FactionResign"/>
		<protocol ref="FactionLeave"/>
		<protocol ref="FactionUpgrade"/>
		<protocol ref="FactionNickname"/>
		<protocol ref="GetFactionBaseInfo"/>
		<protocol ref="GetFactionHostile"/>
		<protocol ref="HostileDelete"/>
		<protocol ref="HostileAdd"/>
		<protocol ref="HostileProtect"/>
		<rpc ref="FactionInvite"/>
		<protocol ref="SectRecruit"/>
		<protocol ref="SectExpel"/>
		<protocol ref="SectList"/>
		<rpc ref="SectInvite"/>

		<protocol ref="GetTopTable"/>
		<protocol ref="CombatChallenge"/>
		<protocol ref="CombatTop"/>
		<rpc ref="CombatInvite"/>
		<protocol ref="CashLock"/>
		<protocol ref="CashPasswordSet"/>
		<protocol ref="FamilyRecord"/>
		<protocol ref="DomainLogin"/>
		<protocol ref="DomainValidate"/>
		<protocol ref="DomainCmd"/>
		<protocol ref="AutolockSet"/>
		<!-- siege relative -->
		<protocol ref="SiegeInfoGet"/>
		<protocol ref="SiegeEnter"/>
		<protocol ref="SiegeTop"/>
		<rpc ref="QueryUserid"/>

		<!-- contest relative protocol-->
		<protocol ref="ContestInvite_Re"/>
		<protocol ref="ContestAnswer"/>
		<protocol ref="ContestExit"/>

		<protocol ref="C2SFunGamedataSend"/>
		<protocol ref="C2SHometowndataSend"/>

		<protocol ref="SNSSetPlayerInfo"/>
		<protocol ref="SNSGetPlayerInfo"/>
		<protocol ref="SNSCancelMessage"/>
		<protocol ref="SNSCancelLeaveMessage"/>
		<protocol ref="SNSListMessage"/>
		<protocol ref="SNSGetMessage"/>
		<protocol ref="SNSAcceptApply"/>

		<protocol ref="RefListReferrals"/>
		<protocol ref="RefWithdrawExp"/>
		<protocol ref="RefWithdrawBonus"/>
		<protocol ref="RefGetReferenceCode"/>

		<protocol ref="GShopSetSaleScheme" />
		<protocol ref="GShopSetDiscountScheme" />
		<rpc ref="GShopGetScheme" />
		<!--Territory-->
		<protocol ref="TerritoryMapGet"/>

		<protocol ref="UniqueBidHistory"/>
		<protocol ref="DisableAutolock"/>
		<rpc ref="PlayerIdentityMatch" />
		<protocol ref="TryChangeGS"/>
		<protocol ref="DoChangeGS"/>

		<protocol ref="SSOGetTicketReq"/>
		<protocol ref="FastPay"/>
		<protocol ref="QueryRolenameHistory"/>

		<protocol ref="KingdomAnnounce"/>
		<protocol ref="KingdomAppoint"/>
		<protocol ref="KingdomDischarge"/>
		<protocol ref="KingdomSetGameAttri"/>
		<protocol ref="KingdomGetInfo"/>
		<protocol ref="KingdomGetTitle"/>
		<rpc ref="KingGuardInvite"/>
		<rpc ref="QueenOpenBathInvite"/>
		<protocol ref="QueenTryOpenBath"/>
		<protocol ref="GetKingTask"/>
		<protocol ref="SendFlowerReq"/>
		<protocol ref="TopFlowerReq"/>
		<protocol ref="TopFlowerGetGift"/>		
		
		<protocol ref="OpenBanquetCancel"/>
		<protocol ref="OpenBanquetQueueCount"/>
		<protocol ref="OpenBanquetEnter"/>
		<protocol ref="OpenBanquetGetField"/>

		<protocol ref="GetTouchPoint"/>
		<protocol ref="GetPassportCashAdd"/>
		<rpc ref="OperationCmd"/>
	</state>

	<state name="GDeliverClient" timeout="86400">
		<protocol ref="FacBaseDataSend"/>
		<protocol ref="CreateFacBase_Re"/>
		<protocol ref="GetFacActTopTable_Re"/>
		<protocol ref="FacBaseStopNotice"/>
		<protocol ref="FacBaseEnter_Re"/>
		<protocol ref="GetFactionDynamic_Re"/>
		<!--protocol ref="FactionPostMsg_Re"/-->
		<!--protocol ref="GetFactionMsg_Re"/-->
	        <protocol ref="GlobalDropBroadCast"/>
	        <protocol ref="GlobalDropRemainBroadCast"/>
      		<!--Token-->
		<protocol ref="GetKDCToken_Re"/>
		<!--Raid-->
		<protocol ref="RaidJoinReq"/>
		<protocol ref="RaidOpen_Re"/>
		<protocol ref="RaidJoin_Re"/>
		<protocol ref="RaidJoinApplyList"/>
		<protocol ref="RaidJoinAccept_Re"/>
		<protocol ref="RaidEnter_Re"/>
		<protocol ref="RaidGetList_Re"/>
		<protocol ref="RaidStart_Re"/>
		<protocol ref="RaidAppoint_Re"/>
		<protocol ref="RaidAppointNotify"/>
		<protocol ref="RaidStartNotify"/>
		<protocol ref="RaidKick_Re"/>
		<protocol ref="RaidKickNotify"/>
		<protocol ref="RaidQuit_Re"/>
		<protocol ref="RaidGetRoom_Re"/>
		<protocol ref="RaidOpenVote_Re"/>
		<protocol ref="RaidBeginVotes"/>
		<protocol ref="RaidVoteResult"/>
		<protocol ref="RaidBriefInfo"/>
		<protocol ref="TeamRaidApply_Re"/>
		<protocol ref="TeamRaidApplyNotice"/>
		<protocol ref="TeamRaidActiveApplyNotice"/>
		<!--protocol ref="TeamRaidApplyQuery_Re"/-->
		<protocol ref="TeamRaidMappingSuccess"/>
		<protocol ref="HideSeekMappingSuccess"/>
		<protocol ref="TeamRaidBeginChooseChar"/>
		<protocol ref="TeamRaidUpdateChar"/>
		<protocol ref="TeamRaidAckTimeout"/>
		<protocol ref="FactionPkRaidChallenge_Re"/>
		<protocol ref="FactionPkRaidChallengeCancel_Re"/>
		<protocol ref="FactionPkRaidInvite"/>
		<protocol ref="FactionPkRaidBegin"/>
		<protocol ref="FactionPkRaidGetScore_Re"/>
		<protocol ref="FactionPkRaidGetList_Re"/>
		<protocol ref="FactionPkRaidStopFight"/>
		<protocol ref="FactionWithDrawBonus_Re"/>
		<!--GT-->
		<protocol ref="GateOfflineChat" />
		<protocol ref="UpdateFriendGTStatus" />
		<protocol ref="GateGetGTRoleStatus_Re" />
		<!--Circle -->
                <protocol ref="GCircleChat"/>
		<!--protocol ref="CircleList"/-->
		<!--protocol ref="GetCircleBaseInfo"/-->
		<protocol ref="CircleNotifyLink"/>
		<protocol ref="CircleList_Re"/>
		<protocol ref="GetCircleBaseInfo_Re"/>
	
		<!--Consign-->	
		<protocol ref="ConsignCancelPost_Re"/>
		<protocol ref="ConsignQuery_Re"/>
		<protocol ref="ConsignStartErr"/>
		<protocol ref="ConsignGetItem_Re"/>
		<protocol ref="ConsignListAll_Re"/>
		<protocol ref="ConsignListRole_Re"/>
		<protocol ref="ConsignListLargeCategory_Re"/>
		<protocol ref="ConsignPlayer_Re"/>

		<protocol ref="QueryUserPrivilege_Re"/>
		<protocol ref="QueryUserForbid_Re"/>
		<protocol ref="KickoutUser"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="OnlineAnnounce"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="PlayerLogin_Re"/>
		<protocol ref="PlayerLogout"/>
		<protocol ref="PlayerReconnect"/>
		<protocol ref="TryReconnect_Re"/>
		<protocol ref="RoleList_Re"/>
		<protocol ref="CreateRole_Re"/>
		<protocol ref="DeleteRole_Re"/>
		<protocol ref="UndoDeleteRole_Re"/>
		<protocol ref="PlayerBaseInfo_Re"/>
		<protocol ref="PlayerBaseInfo2_Re"/>
		<protocol ref="PlayerBaseInfoCRC_Re"/>
		<protocol ref="GetPlayerIDByName_Re"/>
		<protocol ref="SetUIConfig_Re"/>
		<protocol ref="GetUIConfig_Re"/>
		<protocol ref="SetHelpStates_Re"/>
		<protocol ref="GetHelpStates_Re"/>
		<protocol ref="GetPlayerBriefInfo_Re"/>
		<protocol ref="DisconnectPlayer"/>
		<protocol ref="AnnounceChallengeAlgo"/>
		
		<protocol ref="PrivateChat"/>
		<protocol ref="ChatBroadCast"/>
		<protocol ref="WorldChat"/>
		<protocol ref="ChatMultiCast"/>
		<protocol ref="ChatSingleCast"/>
		<protocol ref="RoleStatusAnnounce"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend_Re"/>
		<protocol ref="GetFriends_Re"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="FriendStatus"/>
		<protocol ref="GetEnemies_Re"/>
		<protocol ref="UpdateEnemy_Re"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="GetSavedMsg_Re"/>
		<protocol ref="ChatRoomCreate_Re"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin_Re"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList_Re"/>

		<!-- friend call back protocols -->
		<protocol ref="FriendCallbackInfo_Re"/>
		<protocol ref="FriendCallbackMail_Re"/>
		<protocol ref="FriendCallbackAward_Re"/>
		<protocol ref="FriendCallbackSubscribe_Re"/>

		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeStart_Re"/>
		<protocol ref="TradeAddGoods_Re"/>
		<protocol ref="TradeRemoveGoods_Re"/>
		<protocol ref="TradeSubmit_Re"/>
		<protocol ref="TradeMoveObj_Re"/>
		<protocol ref="TradeConfirm_Re"/>
		<protocol ref="TradeDiscard_Re"/>
		<protocol ref="TradeEnd"/>
		<rpc ref="TradeStartRqst"/>
	
		<rpc ref="UserLogin"/>
                <rpc ref="UserLogin2"/>
		<rpc ref="GQueryPasswd"/>
		<rpc ref="MatrixPasswd"/>
                <rpc ref="MatrixPasswd2"/>
                <rpc ref="MatrixToken"/>
		<protocol ref="MatrixFailure"/>

		<!-- GM related protocols -->
		<protocol ref="GMRestartServer"/>
		<protocol ref="GMRestartServer_Re"/>
		<protocol ref="GMShutdownLine_Re"/>
		<protocol ref="GMOnlineNum_Re"/>
		<protocol ref="GMListOnlineUser_Re"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="GMForbidSellPoint_Re"/>
		<protocol ref="GMKickoutRole_Re"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GMShutup_Re"/>
		<protocol ref="GMShutupRole"/>
		<protocol ref="GMShutupRole_Re"/>
		<protocol ref="GMToggleChat"/>
		<protocol ref="GMToggleChat_Re"/>
		<protocol ref="GMForbidRole"/>
		<protocol ref="GMForbidRole_Re"/>
		<protocol ref="Report2GM_Re"/>
		<protocol ref="Complain2GM_Re"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="SetMaxOnlineNum_Re"/>
		<rpc ref="GetLinePlayerLimit"/>
		<rpc ref="SetLinePlayerLimit"/>
		
		<!-- anti-cheat related protocols -->
		<protocol ref="ACRemoteCode"/>
		<protocol ref="ACQuestion"/>

		<!-- mail system related protocols -->
		<protocol ref="AnnounceNewMail"/>
		<protocol ref="GetMailList_Re"/>
		<protocol ref="GetMail_Re"/>
		<protocol ref="GetMailAttachObj_Re"/>
		<protocol ref="DeleteMail_Re"/>
		<protocol ref="PreserveMail_Re"/>
		<protocol ref="PlayerSendMail_Re"/>

		<protocol ref="AuctionOpen_Re"/>
		<protocol ref="AuctionBid_Re"/>
		<protocol ref="AuctionClose_Re"/>
		<protocol ref="AuctionList_Re"/>
		<protocol ref="AuctionGet_Re"/>
		<protocol ref="AuctionGetItem_Re"/>
		<protocol ref="AuctionAttendList_Re"/>
		<protocol ref="AuctionExitBid_Re"/>

		<protocol ref="BattleGetMap_Re"/>
		<protocol ref="BattleGetList_Re"/>
		<protocol ref="BattleGetField_Re"/>
		<protocol ref="BattleJoin_Re"/>
		<protocol ref="BattleLeave_Re"/>
		<protocol ref="BattleEnter_Re"/>
		<protocol ref="BattleStartNotify"/>

		<protocol ref="InstancingGetList_Re"/>
		<protocol ref="InstancingGetField_Re"/>
		<protocol ref="InstancingKick_Re"/>
		<protocol ref="InstancingStart_Re"/>
		<protocol ref="InstancingAvailableList_Re"/>
		<protocol ref="InstancingJoinReq"/>
		<protocol ref="InstancingJoin_Re"/>
		<protocol ref="HometownExchgMoney_Re"/>
		<protocol ref="InstancingLeave_Re"/>
		<protocol ref="InstancingAppoint_Re"/>
		<protocol ref="InstancingAccept_Re"/>
		<protocol ref="InstancingAppointNotify"/>
		<protocol ref="InstancingKickNotify"/>
		<protocol ref="InstancingEnter_Re"/>
		<protocol ref="InstancingStartNotify"/>
		<protocol ref="InstancingCloseNotify"/>

		<!-- announce server attribute -->
		<protocol ref="AnnounceServerAttribute"/>
		
		<!--CrssvrTeams-->
		<protocol ref="CrssvrTeamsRoleNotify_Re"/>
		<protocol ref="CrssvrTeamsTeamBase_Re"/>
		<protocol ref="CrssvrTeamsRoleList_Re"/>
		<protocol ref="CrssvrTeamsNotify_Re"/>
		<protocol ref="CrssvrTeamsSearch_Re"/>
		<!--<protocol ref="CrssvrTeamsRecruit_Re"/>
		<protocol ref="CrssvrTeamsChgCaptain_Re"/>
		<protocol ref="CrssvrTeamsLeave_Re"/>
		<protocol ref="CrssvrTeamsRename_Re"/>-->
		<rpc ref="CrssvrTeamsInvite"/>

		<protocol ref="FactionChat"/>
		<protocol ref="FactionAppoint_Re"/>
		<protocol ref="FactionAnnounce_Re"/>
		<protocol ref="FactionCreate_Re"/>
		<protocol ref="FamilyRecord"/>
		<protocol ref="FactionDismiss_Re"/>
		<protocol ref="FactionExpel_Re"/>
		<protocol ref="FactionList_Re"/>
		<protocol ref="FactionLeave_Re"/>
		<protocol ref="FactionNickname_Re"/>
		<protocol ref="FactionResign_Re"/>
		<protocol ref="FactionRecruit_Re"/>
		<protocol ref="FactionUpgrade_Re"/>
		<protocol ref="GetFactionBaseInfo_Re"/>
		<protocol ref="GetFactionHostile_Re"/>
		<protocol ref="HostileAdd_Re"/>
		<protocol ref="HostileDelete_Re"/>
		<protocol ref="HostileProtect_Re"/>
		<rpc ref="FactionInvite"/>
		<protocol ref="SectRecruit_Re"/>
		<protocol ref="SectList_Re"/>
		<protocol ref="SectExpel_Re"/>
		<protocol ref="SectQuit"/>
		<rpc ref="SectInvite"/>

		<protocol ref="GetTopTable_Re"/>
		<protocol ref="StockCommission_Re"/>
		<protocol ref="StockAccount_Re"/>
		<protocol ref="StockTransaction_Re"/>
		<protocol ref="StockBill_Re"/>
		<protocol ref="StockCancel_Re"/>

		<protocol ref="CombatChallenge_Re"/>
		<protocol ref="CombatControl"/>
		<protocol ref="CombatStatus"/>
		<protocol ref="CombatTop_Re"/>
		<rpc ref="CombatInvite"/>
		<!--protocol ref="PlayerChangeGS_Re"/-->
		<protocol ref="CashLock_Re"/>
		<protocol ref="CashPasswordSet_Re"/>
		<protocol ref="DomainValidate"/>
		<protocol ref="DomainCmd_Re"/>
		<protocol ref="AutolockSet_Re"/>

		<!-- siege relative -->
		<protocol ref="SiegeChallenge_Re"/>
		<protocol ref="SiegeSetAssistant_Re"/>
		<protocol ref="SiegeInfoGet_Re"/>
		<protocol ref="SiegeEnter_Re"/>
		<protocol ref="SiegeTop_Re"/>
		<protocol ref="ForwardChat"/>

		<!-- contest related protocols -->
		<protocol ref="ContestInviteBroadcast"/>
		<protocol ref="ContestInvite"/>
		<protocol ref="ContestBegin"/>
		<protocol ref="ContestQuestion"/>
		<protocol ref="ContestAnswer_Re"/>
		<protocol ref="ContestPlaceNotify"/>
		<protocol ref="ContestEnd"/>

		<protocol ref="S2CFunGamedataSend"/>
		<protocol ref="S2CHometowndataSend"/>

		<protocol ref="SNSSetPlayerInfo_Re"/>
		<protocol ref="SNSPressMessage_Re"/>
		<protocol ref="SNSCancelMessage_Re"/>
		<protocol ref="SNSCancelLeaveMessage_Re"/>
		<protocol ref="SNSApply_Re"/>
		<protocol ref="SNSApplyNotify"/>
		<protocol ref="SNSListMessage_Re"/>
		<protocol ref="SNSGetMessage_Re"/>
		<protocol ref="SNSGetPlayerInfo_Re"/>
		<protocol ref="SNSVote_Re"/>
		<protocol ref="SNSAcceptApply_Re"/>

		<protocol ref="RefListReferrals_Re"/>
		<protocol ref="RefWithdrawExp_Re"/>
		<protocol ref="RefWithdrawBonus_Re"/>
		<protocol ref="RefGetReferenceCode_Re"/>
		
		<protocol ref="AchievementMessage"/>
		<protocol ref="PKMessage"/>
		<protocol ref="RefineMessage"/>
		<protocol ref="GShopNotifyScheme"/>
		<!--Territory-->
		<protocol ref="TerritoryMapGet_Re"/>
		<protocol ref="TerritoryChallenge_Re"/>
		<protocol ref="TerritoryEnter_Re"/>
		<protocol ref="TerritoryLeave_Re"/>
		<protocol ref="TerritoryEnterRemind"/>
		<protocol ref="TerritoryScoreUpdate"/>

		<protocol ref="UniqueBidHistory_Re"/>
		<protocol ref="UniqueBid_Re"/>
		<protocol ref="UniqueGetItem_Re"/>
		<!--cross server-->
		<protocol ref="PlayerChangeDS_Re"/>
		<protocol ref="ChangeDS_Re"/>
		<protocol ref="TryChangeGS_Re"/>
		<protocol ref="DoChangeGS_Re"/>
		<rpc ref="PlayerIdentityMatch"/>

		<protocol ref="SSOGetTicketRep"/>
		<protocol ref="DiscountAnnounce"/>
		<protocol ref="FastPay_Re"/>
		<protocol ref="FastPayBindInfo"/>
		<protocol ref="QueryRolenameHistory_Re"/>
		<protocol ref="ChangeRolename_Re"/>
		<protocol ref="ChangeFactionName_Re"/>
		<protocol ref="FriendNameChange"/>

		<protocol ref="KingdomBattleEnter_Re"/>
		<protocol ref="KingdomBattleLeave_Re"/>
		<protocol ref="KingdomAnnounce_Re"/>
		<protocol ref="KingdomAppoint_Re"/>
		<protocol ref="KingdomDischarge_Re"/>
		<protocol ref="KingdomSetGameAttri_Re"/>
		<protocol ref="KingdomGetInfo_Re"/>
		<protocol ref="KingdomGetTitle_Re"/>
		<protocol ref="KingdomTitleChange"/>
		<protocol ref="KingdomPointChange"/>
		<protocol ref="KingdomKingChange"/>
		<protocol ref="KingCallGuards_Re"/>
		<protocol ref="QueenOpenBath_Re"/>
		<protocol ref="KingIssueTask_Re"/>
		<protocol ref="GetKingTask_Re"/>
		<protocol ref="KingGetReward_Re"/>

		<rpc ref="KingGuardInvite"/>
		<rpc ref="QueenOpenBathInvite"/>
		<rpc ref="CommonDataQuery"/>
		
		<protocol ref="S2CLineBroadcast" />
		<protocol ref="TopFlower_Re"/>
		<protocol ref="TopFlower_Err"/>
		<protocol ref="TopFlowerMsg_Re"/>
		
		<protocol ref="OpenBanquetJoin_Re"/>
		<protocol ref="OpenBanquetNotify_Re"/>
		<protocol ref="OpenBanquetDrag_Re"/>
		<protocol ref="OpenBanquetQueueCount_Re"/>
		<protocol ref="OpenBanquetEnter_Re"/>
		<protocol ref="OpenBanquetGetField_Re"/>

		<protocol ref="GetTouchPoint_Re"/>
		<protocol ref="GetPassportCashAdd_Re"/>
		<protocol ref="TouchPointExchange_Re"/>
		<protocol ref="ACAccuse_Re"/>
		<rpc ref="OperationCmd"/>
	</state>

	<!-- *********************************** -->
	<!--  STATES of gprovider client/server  -->
	<!-- *********************************** -->
	<state name="GProviderDeliveryServer" timeout="120">
		<protocol ref="SyncPlayerFacCouponAdd"/>
		<protocol ref="StartFactionMultiExp"/>
		<protocol ref="FacBaseDataBroadcast"/>
		<protocol ref="FacBaseDataDeliver"/>
		<protocol ref="FacBaseDataSend"/>
		<protocol ref="FacMallChange"/>
		<protocol ref="FacDynDonateCash"/>
		<protocol ref="FacDynPutAuction"/>
		<protocol ref="FacDynWinAuction"/>
		<protocol ref="FacDynBuyAuction"/>
		<protocol ref="FacDynBuildingUpgrade"/>
		<protocol ref="FacDynBuildingComplete"/>
		<protocol ref="GFacBaseEnter"/>
		<protocol ref="GFacBaseLeave"/>
		<protocol ref="FacBasePropChange"/>
		<protocol ref="FacBaseBuildingProgress"/>
		<protocol ref="FacAuctionPut"/>
		<protocol ref="StartFacBase_Re"/>
		<protocol ref="StopFacBase_Re"/>
		<protocol ref="GUpdateFacAct"/>
		<protocol ref="GFacBaseServerRegister"/>
	        <protocol ref="GlobalDropBroadCast"/>
		<protocol ref="RegisterGlobalCounter"/>
		<!--Raid -->
	        <protocol ref="GRaidServerRegister"/>
	        <protocol ref="GRaidOpen"/>
	        <protocol ref="GRaidJoin"/>
	        <protocol ref="GRaidMemberChange"/>
	        <protocol ref="GRaidLeave"/>
	        <protocol ref="GRaidEnterSuccess"/>
	        <protocol ref="GRaidEnd"/>
	        <protocol ref="SendRaidStart_Re"/>
		<protocol ref="SendRaidEnter_Re"/>
	        <protocol ref="GCrssvrTeamsGetScore"/>
	        <protocol ref="GRaidTeamApply"/>
		<protocol ref="GHideSeekRaidApply"/>
		<protocol ref="GFengShenRaidApply"/>
	        <protocol ref="GFactionPkRaidKill"/>
	        <protocol ref="GFactionPkRaidDeposit"/>
		<protocol ref="GFactionPkRaidFightNotify"/>

		<!--Circle -->
	        <protocol ref="GCircleChat"/>
		<protocol ref="AddCirclePoint"/>
		<!--protocol ref="GetCirclePoint"/-->
		<rpc ref="CircleGetAsyncData"/>
		
		
		<protocol ref="AnnounceProviderID"/>
		<protocol ref="PlayerLogin_Re"/>
		<protocol ref="PlayerKickout_Re"/>
		<protocol ref="PlayerLogout"/>
		<protocol ref="PlayerOffline_Re"/>
		<protocol ref="PlayerReconnect_Re"/>
		<protocol ref="QueryPlayerStatus"/>
		<protocol ref="GetTaskData"/>
		<protocol ref="SetTaskData"/>
		<protocol ref="SetChatEmotion"/>

		<protocol ref="BattleFlagStart"/>
		<protocol ref="QueryBattleFlagBuff"/>
		<protocol ref="GetCouponsRep"/>
		
		<protocol ref="GTradeStart_Re"/>
		<protocol ref="GTradeDiscard"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="DisconnectPlayer"/>
		
		<protocol ref="GMRestartServer_Re"/>

		<protocol ref="CommonDataSync"/>
		<rpc ref="CommonDataChange"/>


		<!-- mail system related -->
		<protocol ref="GetMailList"/>
		<protocol ref="GetMail"/>
		<protocol ref="GetMailAttachObj"/>
		<protocol ref="DeleteMail"/>
		<protocol ref="PreserveMail"/>
		<protocol ref="PlayerSendMail"/>

		<protocol ref="AuctionOpen"/>
		<protocol ref="AuctionBid"/>
		<protocol ref="SendAuctionBid"/>
		<protocol ref="AuctionList"/>
		<protocol ref="AuctionClose"/>
		<protocol ref="AuctionGet"/>
		<protocol ref="AuctionGetItem"/>
		<protocol ref="AuctionAttendList"/>
		<protocol ref="AuctionExitBid"/>

		<!-- Activity related protocol  -->
		<protocol ref="QueryRewardType"/>
		<!-- GameServer Attributes -->
		<protocol ref="QueryGameServerAttr"/>

		<!-- anti cheater -->		
		<protocol ref="ACReportCheater"/>
		<protocol ref="ACTriggerQuestion"/>

		<!-- Battle field -->
		<protocol ref="BattleEnter"/>
		<protocol ref="BattleServerRegister"/>
		<protocol ref="BattleEnterFail"/>
		<protocol ref="GBattleEnd"/>
		<protocol ref="BattleStart_Re"/>
		<protocol ref="GBattleLeave"/>
		<protocol ref="DebugCommand"/>

		<protocol ref="GOpenBanquetLeave"/>
		<protocol ref="GOpenBanquetJoin"/>	
		
		<protocol ref="SendInstancingJoin"/>
		<protocol ref="InstancingRegister"/>
		<protocol ref="InstancingEnterFail"/>
		<protocol ref="GInstancingEnd"/>
		<protocol ref="SendInstancingStart_Re"/>
		<protocol ref="GInstancingLeave"/>
		<protocol ref="GBattleJoin"/>
		<!-- World Channel-->
		<protocol ref="ChatBroadCast"/>
		<protocol ref="PrivateChat"/>
		<protocol ref="FactionChat"/>
		
		<!-- Faction -->
		<protocol ref="SendFactionCreate"/>
		<protocol ref="PlayerFactionInfo"/>
		<protocol ref="SyncPlayerFaction"/>
		<protocol ref="FactionDismiss"/>
		<protocol ref="FactionUpgrade"/>
		<protocol ref="GHostileProtect"/>

		<!-- CrssvrTeams -->
		<protocol ref="SendCrssvrTeamsCreate"/>

		<protocol ref="SyncRoleData"/>
		<protocol ref="UpdateEnemy"/>
		<rpc ref="GetWeeklyTop"/>
		<rpc ref="GetDailyTop"/>
		<rpc ref="PutSpouse"/>
		<protocol ref="StockCommission"/>
		<protocol ref="StockAccount"/>
		<protocol ref="StockTransaction"/>
		<protocol ref="StockBill"/>
		<protocol ref="StockCancel"/>
		<protocol ref="CombatKill"/>
		<protocol ref="PlayerChangeGS_Re"/>
		<rpc ref="TaskAsyncData"/>
		<protocol ref="FamilyUseSkill"/>
		<protocol ref="FamilyExpShare"/>
		
		<!-- cert challenge -->
		<rpc ref="CertChallenge"/>
	
		<!-- Siege relative -->
		<protocol ref="GSiegeServerRegister"/>
		<protocol ref="GSiegeEnd"/>
		<protocol ref="SendSiegeStart_Re"/>
		<protocol ref="SendSiegeChallenge"/>
		<protocol ref="SiegeSetAssistant"/>
		<protocol ref="SiegeKill"/>
		<protocol ref="SiegeBroadcat"/>
		<protocol ref="SectUpdate"/>
		<protocol ref="SectQuit"/>

		<protocol ref="SendSNSPressMessage"/>
		<protocol ref="SendSNSApply"/>
		<protocol ref="SendSNSVote"/>
		<protocol ref="BillingRequest2"/>
		<protocol ref="BillingBalance"/>
		<protocol ref="SendRefCashUsed"/>
		<protocol ref="SendRefLevelUp"/>
		<protocol ref="SendChangeProfile"/>
		<protocol ref="QueryNetBarReward"/>
	
		<protocol ref="AchievementMessage"/>
		<protocol ref="PKMessage"/>
		<protocol ref="RefineMessage"/>
		<protocol ref="GInstancingStatus"/>
		<protocol ref="SendHometownExchgMoney" />
	
		<!--OpenBanquet-->

		<!--territory-->
		<protocol ref="GTerritoryChallenge" />
		<protocol ref="TerritoryServerRegister" />
		<protocol ref="SendTerritoryStart_Re" />
		<protocol ref="GTerritoryEnd" />
		<protocol ref="GTerritoryEnter" />
		<protocol ref="GTerritoryLeave" />
		<rpc ref="GTerritoryItemGet" />
		<rpc ref="GUniqueBid"/>
		<rpc ref="GUniqueGetItem"/>
		<rpc ref="GetFriendNumber"/>
		<!--cross server-->
		<protocol ref="TryChangeDS" />
		<protocol ref="PlayerChangeDS_Re" />
		<!--Consign -->
		<protocol ref="GConsignStart"/>
		<protocol ref="GConsignStartRole"/>
		<protocol ref="PlayerConsignOffline_Re"/>
		<protocol ref="GChangeRolename"/>
		<protocol ref="GChangeFactionName"/>
		<!--kingdom-->
		<protocol ref="GKingdomBattleRegister" />
		<protocol ref="KingdomBattleStart_Re" />
		<protocol ref="GKingdomBattleEnd" />
		<protocol ref="GKingdomBattleHalf" />
		<protocol ref="GKingdomAttackerFail" />
		<protocol ref="GKingdomBattleEnter" />
		<protocol ref="GKingdomBattleLeave" />
		<protocol ref="GKingdomPointChange" />
		<protocol ref="GKingTryCallGuards" />
		<protocol ref="GKingIssueTask" />
		<protocol ref="GKingGetReward" />
		<protocol ref="SyncBathTimes"/>
		<protocol ref="IsConnAlive" />

		<protocol ref="S2CLineBroadcast" />
		<rpc ref="FlowerGiftTake"/>
		<rpc ref="FlowerTakeOff"/>

		<protocol ref="GTouchPointExchange" />
		<rpc ref="GetCashAvail"/>
	</state>
	
	<state name="GProviderLinkServer" timeout="120">
		<protocol ref="FacBaseDataSend"/>
		<protocol ref="AnnounceProviderID"/>
		<protocol ref="S2CGamedataSend"/>
		<protocol ref="S2CMulticast"/>
		<protocol ref="S2CMulticast2"/>
		<protocol ref="S2CBroadcast"/>
		<protocol ref="ChatBroadCast"/>
		<protocol ref="ChatMultiCast"/>
		<protocol ref="ChatSingleCast"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="PlayerHeartBeat"/>
		<protocol ref="DisconnectPlayer"/>
		<rpc ref="KingGuardInvite"/>
	</state>

	<state name="GProviderGateServer" timeout="120">
		<!--GT-->
		<protocol ref="KeepAlive"/>
		<protocol ref="AnnounceProviderID"/>
		<protocol ref="GTSyncTeams"/>
		<protocol ref="GTTeamCreate"/>
		<protocol ref="GTTeamDismiss"/>
		<protocol ref="GTTeamMemberUpdate"/>
		<protocol ref="SyncGsRoleInfo2Platform"/>
		<protocol ref="SyncRoleEvent2SNS"/>
	</state>

	<state name="GProviderClient" timeout="86400">
		<protocol ref="FactionMultiExpSync"/>
		<protocol ref="FacBaseDataSend"/>
		<protocol ref="FacBaseDataDeliver"/>
		<protocol ref="FacMallChange"/>
		<protocol ref="StartFacBase"/>
		<protocol ref="StopFacBase"/>
		<protocol ref="FacMallSync"/>
		<protocol ref="FacBasePropChange"/>
		<protocol ref="FacBaseBuildingProgress"/>
		<protocol ref="FacAuctionPut"/>
		<!--Raid -->
		<protocol ref="GCrssvrTeamsPostScore" />
	        <protocol ref="SendRaidStart"/>
	        <protocol ref="SendRaidEnter"/>
	        <protocol ref="GRaidMemberChange"/>
	        <protocol ref="SendRaidClose"/>
	        <protocol ref="SendRaidKickout"/>

		<rpc ref="FlowerGiftTake"/>
		<rpc ref="FlowerTakeOff"/>
		<protocol ref="Open_Controler"/>
	        
		<protocol ref="GOpenBanquetRoleDel"/> 
		<protocol ref="GOpenBanquetClose"/>
		<!--protocol ref="SendRaidRoleData"/-->
		<!--fast cash add-->
		<protocol ref="AddCash_Re"/>
		<!--Circle -->
	        <protocol ref="GCircleChat"/>
		<protocol ref="BonusExp"/>
		<protocol ref="UpdateRoleCircle"/>
		<rpc ref="CircleGetAsyncData"/>

		<protocol ref="BonusItem"/>

		<protocol ref="AnnounceProviderID"/>
		<protocol ref="PlayerKickout"/>
		<protocol ref="PlayerLogin"/>
		<protocol ref="PlayerOffline"/>
		<protocol ref="PlayerReconnect"/>
		<protocol ref="PlayerStatusSync"/>	<!-- send when gameserver send playerheartbeat -->
		<protocol ref="PlayerStatusAnnounce"/>	<!-- broadcast gs, when gameserver connected or login,logout -->

		<protocol ref="BattleFlagBuffScope"/>
		<protocol ref="GetCouponsReq"/>

		<protocol ref="GetTaskData_Re"/>
		<protocol ref="SetTaskData_Re"/>
		
		<protocol ref="EnterWorld"/>
		<protocol ref="C2SGamedataSend"/>
		<protocol ref="PublicChat"/>
		<protocol ref="PrivateChat"/>
		<protocol ref="FactionChat"/>


		<protocol ref="CommonDataSync"/>
		<rpc ref="CommonDataChange"/>
		
		<protocol ref="GTradeStart"/>
		<protocol ref="GTradeEnd"/>

		<protocol ref="AnnounceGM"/>
		<protocol ref="GMRestartServer"/>
		<protocol ref="GMShutdownLine"/>
		
		<!-- mail system related protocols -->
		<protocol ref="GMailEndSync"/>
		<!-- Activity related protocol  -->
		<protocol ref="QueryRewardType_Re"/>
		<!-- GameServer Attributes -->
		<protocol ref="QueryGameServerAttr_Re"/>

		<!-- anti cheater -->		
		<protocol ref="ACReportCheater"/>

		<!-- Battle field -->
		<protocol ref="BattleStart"/>
		<protocol ref="SendBattleEnter"/>


		<protocol ref="SendInstancingStart"/>
		<protocol ref="SendInstancingEnter"/>
		<protocol ref="GBattleJoin"/>

		<protocol ref="PlayerFactionInfo_Re"/>
		<protocol ref="SyncPlayerFaction"/>
		<protocol ref="SyncFactionLevel"/>
		<protocol ref="SyncFamilyData"/>
		<protocol ref="SyncFactionHostiles"/>
		<protocol ref="NetBarReward"/>

		<rpc ref="GetWeeklyTop"/>
		<rpc ref="GetDailyTop"/>
		<rpc ref="PutSpouse"/>
		<protocol ref="NotifyDailyTableChange"/>
		<protocol ref="OnDivorce"/>
		<protocol ref="CombatControl"/>
		<protocol ref="PlayerChangeGS"/>
		<rpc ref="TaskAsyncData"/>
		<protocol ref="FamilyExpShare"/>
		<protocol ref="SendAsyncData"/>
		<protocol ref="AddictionControl"/>
		<protocol ref="VIPInfoNotify"/>
		
		<protocol ref="HostileProtect_Re"/>
		<protocol ref="HostileDelete_Re"/>
		<protocol ref="HostileAdd_Re"/>
		<!-- Siege relative -->
		<protocol ref="SendSiegeStart"/>
		<protocol ref="GSiegeStatus"/>
		<protocol ref="SectQuit"/>
		<protocol ref="SectRecruit_Re"/>
		<protocol ref="SectExpel_Re"/>
		<protocol ref="SectUpdate"/>

		<!-- contest field -->
		<protocol ref="ContestResult"/>
		<!-- Cert Challenge -->
		<rpc ref="CertChallenge"/>

		<protocol ref="SendSNSResult"/>
		<protocol ref="BillingRequest2"/>
		<protocol ref="BillingBalance"/>

		<protocol ref="SendRefAddExp" />
		<protocol ref="SendRefAddBonus" />
		<protocol ref="SendChangeProfile_Re"/>

		<protocol ref="GShopSetSaleScheme" />
		<protocol ref="GShopSetDiscountScheme" />
		<!--Territory-->
		<protocol ref="SendTerritoryStart"/>
		<rpc ref="GTerritoryItemGet" />
		<protocol ref="SyncTerritoryList"/>

		<rpc ref="GUniqueBid"/>
		<rpc ref="GUniqueGetItem"/>
		<rpc ref="GetFriendNumber"/>
		<!--cross server-->
		<protocol ref="PlayerChangeDS"/>
		<!--Consign -->
		<!--protocol ref="GConsignStart"/-->
		<protocol ref="GConsignEnd"/>
		<protocol ref="PlayerConsignOffline"/>
		<protocol ref="GConsignEndRole"/>
		<protocol ref="GChangeRolename_Re"/>
		<protocol ref="GChangeFactionName_Re"/>

		<protocol ref="GTReconnect"/>
		<protocol ref="RoleEnterVoiceChannel"/>
		<protocol ref="RoleLeaveVoiceChannel"/>
		<!--kingdom-->
		<protocol ref="KingdomBattleStart"/>
		<protocol ref="KingdomBattleStop"/>
		<protocol ref="KingdomInfoSync"/>
		<protocol ref="KingdomTitleSync"/>
		<protocol ref="KingdomPointSync"/>
		<protocol ref="KingCallGuard"/>
		<protocol ref="QueenOpenBath"/>
		<protocol ref="QueenCloseBath"/>
		<protocol ref="SyncBathTimes"/>
		<protocol ref="GKingIssueTask_Re"/>
		<protocol ref="GKingGetReward_Re"/>
		<rpc ref="KingGuardInvite"/>
		<protocol ref="IsConnAlive" />

		<protocol ref="GTouchPointExchange_Re"/>
		<protocol ref="ForbidService"/>
		<rpc ref="GetCashAvail"/>
		<protocol ref="WebOrderNotice"/>
	</state>

	<!-- ********************************* -->
	<!--  STATES of gamedb 	client/server  -->
	<!-- ********************************* -->
	<state name="GameDBServer" timeout="86400">
		<rpc ref="DBSNSGetRole"/>
		<rpc ref="PassportGetRoleList"/>
		<protocol ref="DelRoleAnnounce" />

		<rpc ref="DBCreateFacBase"/>
		<rpc ref="GetFacBase"/>
		<rpc ref="PutFacBase"/>
		<rpc ref="DBSaveWebOrder"/>
		<rpc ref="GetCashAvail"/>

		<rpc ref="DBCreateRole"/>
		<rpc ref="DBDeleteRole"/>
		<rpc ref="DBUndoDeleteRole"/>
		<rpc ref="DBDeleteFaction"/>
		<rpc ref="DBUndeleteFaction"/>
		<rpc ref="DBDeleteFamily"/>
		<rpc ref="DBUndeleteFamily"/>
		<rpc ref="PutUser"/>
		<rpc ref="GetUser"/>
		<rpc ref="DelUser"/>
		<rpc ref="GetRole" />
		<rpc ref="DelRole" />
		<rpc ref="PutRoleBase" />
		<rpc ref="UpdateRoleBase" />
		<rpc ref="GetRoleBase" />
		<rpc ref="GetRoleInfo" />
		<rpc ref="PutRoleStatus" />
		<rpc ref="GetRoleStatus" />
		<rpc ref="PutRolePocket" />
		<rpc ref="GetRolePocket" />
		<rpc ref="PutRoleTask" />
		<rpc ref="GetRoleTask" />
		<rpc ref="PutRoleData" />
		<rpc ref="DBModifyRoleData" />
		<rpc ref="DBRestoreRoleData" />
		<rpc ref="GetRoleData" />
		<rpc ref="GetRoleBase2" />
		<rpc ref="PutRoleBase2" />
		<rpc ref="TradeInventory" />
		<rpc ref="TradeSave" />
		<rpc ref="PutRole" />
		<rpc ref="GetMoneyInventory" />
		<rpc ref="PutMoneyInventory" />
		<rpc ref="GetRoleBaseStatus" />
		<rpc ref="PutRoleStorehouse" />
		<rpc ref="GetRoleStorehouse" />
		<rpc ref="PutRoleForbid" />
		<rpc ref="GetRoleForbid" />
		<rpc ref="GetRoleId" />
		<protocol ref="RoleLogin" />
		<rpc ref="GetFriendList" />
		<rpc ref="PutFriendList"/>
		<rpc ref="PutMessage"/>
		<rpc ref="GetMessage"/>

		<!-- friend call back protocols -->
		<rpc ref="DBFriendCallbackInfo"/>
		<rpc ref="DBFriendCallbackMail"/>
		<rpc ref="DBUpdateCallbackInfo"/>
		<rpc ref="DBCheckAward"/>
		<rpc ref="DBFriendCallbackSubscribe"/>

		<rpc ref="GetUserRoles" />
		<rpc ref="CanChangeRolename" />
		<rpc ref="ClearStorehousePasswd" />
		<rpc ref="RenameRole" />
		<rpc ref="Uid2Logicuid"/>
		<rpc ref="Roleid2Uid"/>

		<rpc ref="GetTaskDataRpc"/>
		<rpc ref="DBSetCashPassword"/>
		<rpc ref="PutTaskDataRpc"/>

		<rpc ref="TransactionAcquire"/>
		<rpc ref="TransactionAbort"/>
		<rpc ref="TransactionCommit"/>

		<!-- mail related rpcs -->
		<rpc ref="DBGetMailList"/>
		<rpc ref="DBGetMail"/>
		<rpc ref="DBGetMailAttach"/>
		<rpc ref="DBSetMailAttr"/>
		<rpc ref="DBSendMail"/>
		<rpc ref="DBDeleteMail"/>
		<rpc ref="DBGetMailAll"/>

		<rpc ref="DBAuctionOpen"/>
		<rpc ref="DBAuctionBid"/>
		<rpc ref="DBAuctionGet"/>
		<rpc ref="DBAuctionClose"/>
		<rpc ref="DBAuctionList"/>
		<rpc ref="DBAuctionTimeout"/>
		<!-- sync aid,zoneid with delivery -->
		<protocol ref="AnnounceZoneid"/>
		<protocol ref="AnnounceZoneid2"/>
		<protocol ref="AnnounceZoneid3"/>
		<!-- use cash -->
		<rpc ref="GetAddCashSN"/>
		<rpc ref="CashSerial"/>
		<protocol ref="AddCash"/>
		<protocol ref="AddCash_Re"/>
		<!--protocol ref="FakeAddCash"/-->

		<!--CrssvrTeams-->
		<rpc ref="DBCrssvrTeamsGet"/>
		<rpc ref="DBCrssvrTeamsCreate"/>
		<rpc ref="DBCrssvrTeamsRename"/>
		<rpc ref="DBCrssvrTeamsDel"/>
		<rpc ref="DBCrssvrTeamsJoin"/>
		<rpc ref="DBCrssvrTeamsChgCaptain"/>
		<rpc ref="DBCrssvrTeamsLeave"/>
		<rpc ref="DBCrssvrTeamsRolePunishScore"/>
		<rpc ref="DBCrssvrTeamsGetSeasonTop"/>
		<rpc ref="DBCrssvrTeamsSeasonTopSave"/>

		<rpc ref="DBCrossCrssvrTeams"/>
		<rpc ref="DBCrossCrssvrTeamsDismiss"/>
		<rpc ref="DBCrossCrssvrTeamsRename"/>
		<rpc ref="DBCrossCrssvrTeamsSearch"/>

		<rpc ref="SyncCrssvrTeamsScore"/>
		<rpc ref="SyncCrssvrTeamsRole"/>
		<rpc ref="SyncCrssvrTeams"/>

		<rpc ref="DBFactionAdd"/>
		<rpc ref="DBFactionDel"/>
		<rpc ref="DBFactionJoin"/>
		<rpc ref="DBFactionGet"/>
		<rpc ref="DBFactionLeave"/>
		<rpc ref="DBFactionSync"/>
		<rpc ref="DBFactionUpdate"/>
		<rpc ref="DBFactionRename"/>
		<rpc ref="DBSectJoin"/>
		<rpc ref="DBSectQuit"/>
		<rpc ref="DBSectGet"/>
		<rpc ref="DBSectUpdate"/>

		<rpc ref="DBFamilyAdd"/>
		<rpc ref="DBFamilyGet"/>
		<rpc ref="DBFamilyDel"/>
		<rpc ref="DBFamilyJoin"/>
		<rpc ref="DBFamilyLeave"/>
		<rpc ref="DBFamilyUpdate"/>
		<rpc ref="DBFamilyAppoint"/>
		<rpc ref="DBFamilySync"/>
		<rpc ref="DBHostileAdd"/>
		<rpc ref="DBHostileDelete"/>
		<rpc ref="DBHostileUpdate"/>
		<rpc ref="DBHostileProtect"/>
		<rpc ref="DBFactionAddMoney"/>
		<rpc ref="DBFactionWithDrawMoney"/>

		<rpc ref="DBVerifyMaster"/>
		<rpc ref="DBFactionBrief"/>
		<rpc ref="DBFactionAppoint"/>
		<rpc ref="DBPutTopTable" />
		<rpc ref="DBGetTopTable" />
		<rpc ref="PutSpouse" />
		<rpc ref="DBStockLoad"/>
		<rpc ref="DBStockTransaction"/>
		<rpc ref="DBStockBalance"/>
		<rpc ref="DBStockCommission"/>
		<rpc ref="DBStockCancel"/>
		<rpc ref="DBAutolockSet"/>
		
		<rpc ref="DBGetTopFlowerData"/>
		<rpc ref="DBUpdateTopFlowerData"/>
		<rpc ref="DBFlowerGetRoleId"/>
		<rpc ref="DBFlowerGetRoleExist"/>

		<rpc ref="DBSiegeLoad"/>
		<rpc ref="DBSiegeEnd"/>
		<rpc ref="DBSiegeSetAssistant"/>
		<rpc ref="DBSiegeChallenge"/>
		<rpc ref="DBInstancingActivate"/>
		<rpc ref="DBHometownExchgMoney"/>
		<rpc ref="DBSiegeGet"/>
		<rpc ref="DBSiegePutDetail"/>
		<rpc ref="DBBattleJoin"/>
		<protocol ref="DomainCmd"/>
		<rpc ref="DBRawRead"/>
		<rpc ref="QueryUserid"/>
		<rpc ref="ForbidUser"/>
		<rpc ref="DBForbidUser"/>
		<rpc ref="DBGetCommonData" />
		<rpc ref="DBPutCommonData" />

		<rpc ref="DBSNSGetPlayerInfo" />
		<rpc ref="DBSNSGetPlayerInfoCache" />
		<rpc ref="DBSNSUpdateRoleInfo" />
		<rpc ref="DBSNSGetRoleInfo" />
		<rpc ref="DBSNSUpdatePlayerInfo" />
		<rpc ref="DBSNSGetMessage" />
		<rpc ref="DBSNSUpdateMessage" />

		<rpc ref="DBRefGetReferral" />
		<rpc ref="DBRefGetReferrer" />
		<rpc ref="DBRefUpdateReferrer" />
		<rpc ref="DBRefUpdateReferral" />
		<rpc ref="DBRefWithdrawTrans"/>
		<rpc ref="DBChangeProfile"/>
		<rpc ref="DBClearConsumable"/>

		<protocol ref="RepairRoleList"/>
		<rpc ref="DBHometownGetInfo"/>
		<rpc ref="DBHometownPutInfo"/>
		<rpc ref="DBHometownPutCompoInfo"/>

		<rpc ref="DBFunGameGetInfo"/>
		<rpc ref="DBFunGameGetScore"/>
		<rpc ref="DBFunGamePutInfo"/>
		<rpc ref="DBFunGamePutScore"/>
		<!--Territory-->
		<rpc ref="DBTerritoryListLoad"/>
		<rpc ref="DBTerritoryListSave"/>
		<rpc ref="DBTerritoryChallenge"/>
		<rpc ref="DBTerritorySave"/>
	
		<rpc ref="DBUniqueAuctionLoad"/>
		<rpc ref="DBUniqueAuctionSave"/>

		<rpc ref="ModifyRoleCreateTime" baseclass="Rpc" />
		<!--Circle-->
		<rpc ref="DBCircleGet" baseclass="Rpc" />
		<rpc ref="DBCircleHisGet" baseclass="Rpc" />
		<rpc ref="DBCircleJoin" baseclass="Rpc" />
		<rpc ref="DBCircleAppoint" baseclass="Rpc" />
		<rpc ref="DBCircleSync" baseclass="Rpc" />
		<!--Consign-->
		<rpc ref="DBConsignTableLoad" baseclass="Rpc" />
		<rpc ref="DBConsignPrePost" baseclass="Rpc" />
		<rpc ref="DBConsignQuery" baseclass="Rpc" />
		<rpc ref="DBConsignFail" baseclass="Rpc" />
		<rpc ref="DBConsignPost" baseclass="Rpc" />
		<rpc ref="DBConsignPreCancel" baseclass="Rpc" />
		<rpc ref="DBConsignMail" baseclass="Rpc" />
		<rpc ref="DBConsignGetRoleSimpleInfo" baseclass="Rpc" />
		<rpc ref="DBConsignShelfCancel" baseclass="Rpc" />
		<rpc ref="DBConsignShelf" baseclass="Rpc" />
		<rpc ref="DBConsignSold" baseclass="Rpc" />
		<rpc ref="DBConsignQueryBackup" baseclass="Rpc" />
		<protocol ref="DBConsignSkipSN"/>
		<rpc ref="DBConsignPrePostRole" baseclass="Rpc" />
		<rpc ref="DBConsignSoldRole" baseclass="Rpc" />
		<rpc ref="DBConsignGetRole" baseclass="Rpc" />
		<rpc ref="DBConsignRoleFail" baseclass="Rpc" />
		<!--cross server-->
		<rpc ref="FetchPlayerData"/>
		<rpc ref="ActivatePlayerData"/>
		<rpc ref="TouchPlayerData"/>
		<rpc ref="SavePlayerData"/>
		<rpc ref="FreezePlayerData"/>
		<rpc ref="PlayerIdentityMatch"/>
		<rpc ref="DelPlayerData"/>
		<!--GameGate GT-->
		<rpc ref="DBGateGetUser"/>
		<rpc ref="DBGateGetRole"/>
		<rpc ref="DBGateRoleRelation"/>
		<rpc ref="DBGateActivate"/>
		<rpc ref="DBGateDeactivate"/>
		<!-- fast cash add-->
		<rpc ref="GetCashTotal"/>
		<!-- raid -->
		<rpc ref="DBRaidOpen"/>
		<!-- global drop item -->
		<rpc ref="AddGlobalCounter"/>
		<rpc ref="GetGlobalCounter"/>
		<rpc ref="DBChangeRolename"/>
		<rpc ref="DBRoleNameList"/>
		<rpc ref="DBQueryRoleName"/>
		<rpc ref="DBChangeFactionname"/>

		<rpc ref="DBKingdomLoad"/>
		<rpc ref="DBKingdomSetWinner"/>
		<rpc ref="DBKingdomSave"/>
		<rpc ref="DBKingdomAppoint"/>
		<rpc ref="DBKingdomDischarge"/>
		<rpc ref="DBKingdomTaskIssue"/>
		<rpc ref="DBKingdomTaskClose"/>
		<rpc ref="DBKingdomTaskEnd"/>
		<rpc ref="DBKingGetReward"/>

		<rpc ref="DBGetTouchOrder"/>
		<rpc ref="OperationCmd"/>
		<rpc ref="DBGetServiceForbidCmd"/>
		<rpc ref="DebugOperationCmd"/>
	</state>
	<state name="GameDBClient" timeout="86400">
		<rpc ref="PassportGetRoleList"/>
		<protocol ref="DelRoleAnnounce" />

		<rpc ref="DBCreateFacBase"/>
		<rpc ref="GetFacBase"/>
		<rpc ref="PutFacBase"/>
		<rpc ref="DBSaveWebOrder"/>
		<rpc ref="GetCashAvail"/>

		<rpc ref="DBCreateRole"/>
		<rpc ref="DBDeleteRole"/>
		<rpc ref="DBUndoDeleteRole"/>
		<rpc ref="DBDeleteFaction"/>
		<rpc ref="DBUndeleteFaction"/>
		<rpc ref="DBDeleteFamily"/>
		<rpc ref="DBUndeleteFamily"/>
		<rpc ref="PutUser"/>
		<rpc ref="GetUser"/>
		<rpc ref="DelUser"/>
		<rpc ref="GetRole" />
		<rpc ref="DelRole" />
		<rpc ref="DelRole" />
		<rpc ref="PutRoleBase" />
		<rpc ref="UpdateRoleBase" />
		<rpc ref="GetRoleBase" />
		<rpc ref="GetRoleInfo" />
		<rpc ref="PutRoleStatus" />
		<rpc ref="GetRoleStatus" />
		<rpc ref="PutRolePocket" />
		<rpc ref="GetRolePocket" />
		<rpc ref="PutRoleTask" />
		<rpc ref="GetRoleTask" />
		<rpc ref="TradeInventory" />
		<rpc ref="TradeSave" />
		<rpc ref="PutRole" />
		<rpc ref="GetMoneyInventory" />
		<rpc ref="PutMoneyInventory" />
		<rpc ref="GetRoleBaseStatus" />
		<rpc ref="PutRoleStorehouse" />
		<rpc ref="GetRoleStorehouse" />
		<rpc ref="PutRoleForbid" />
		<rpc ref="GetRoleForbid" />
		<rpc ref="GetRoleId" />
		<rpc ref="GetFriendList" />
		<rpc ref="PutFriendList"/>
		<rpc ref="PutMessage"/>
		<rpc ref="GetMessage"/>

		<!-- friend call back protocols -->
		<rpc ref="DBFriendCallbackInfo"/>
		<rpc ref="DBFriendCallbackMail"/>
		<rpc ref="DBUpdateCallbackInfo"/>
		<rpc ref="DBCheckAward"/>
		<rpc ref="DBFriendCallbackSubscribe"/>

		<rpc ref="GetUserRoles" />
		<rpc ref="CanChangeRolename" />
		<rpc ref="ClearStorehousePasswd" />
		<rpc ref="RenameRole" />
		<rpc ref="Uid2Logicuid"/>
		<rpc ref="Roleid2Uid"/>

		<rpc ref="GetTaskDataRpc"/>
		<rpc ref="DBSetCashPassword"/>
		<rpc ref="PutTaskDataRpc"/>

		<rpc ref="TransactionAcquire"/>
		<rpc ref="TransactionAbort"/>
		<rpc ref="TransactionCommit"/>
		<rpc ref="DBVerifyMaster"/>

		<!-- mail related rpcs -->
		<rpc ref="DBGetMailList"/>
		<rpc ref="DBGetMail"/>
		<rpc ref="DBGetMailAttach"/>
		<rpc ref="DBSetMailAttr"/>
		<rpc ref="DBSendMail"/>
		<rpc ref="DBDeleteMail"/>
		<rpc ref="DBGetMailAll"/>

		<rpc ref="DBAuctionOpen"/>
		<rpc ref="DBAuctionBid"/>
		<rpc ref="DBAuctionGet"/>
		<rpc ref="DBAuctionClose"/>
		<rpc ref="DBAuctionList"/>
		<rpc ref="DBAuctionTimeout"/>
		
		<!-- use cash -->
		<rpc ref="GetAddCashSN"/>
		<rpc ref="CashSerial"/>
		<protocol ref="AddCash"/>
		<protocol ref="AddCash_Re"/>
		<!--protocol ref="FakeAddCash_Re"/-->
		
		<!--CrssvrTeams-->
		<rpc ref="DBCrssvrTeamsGet"/>
		<rpc ref="DBCrssvrTeamsCreate"/>
		<rpc ref="DBCrssvrTeamsRename"/>
		<rpc ref="DBCrssvrTeamsDel"/>
		<rpc ref="DBCrssvrTeamsJoin"/>
		<rpc ref="DBCrssvrTeamsChgCaptain"/>
		<rpc ref="DBCrssvrTeamsLeave"/>
		<rpc ref="DBCrssvrTeamsRolePunishScore"/>
		<rpc ref="DBCrssvrTeamsGetSeasonTop"/>
		<rpc ref="DBCrssvrTeamsSeasonTopSave"/>

		<rpc ref="DBCrossCrssvrTeams"/>
		<rpc ref="DBCrossCrssvrTeamsDismiss"/>
		<rpc ref="DBCrossCrssvrTeamsRename"/>
		<rpc ref="DBCrossCrssvrTeamsSearch"/>

		<rpc ref="SyncCrssvrTeamsScore"/>
		<rpc ref="SyncCrssvrTeamsRole"/>	
		<rpc ref="SyncCrssvrTeams"/>

		<rpc ref="DBFactionAdd"/>
		<rpc ref="DBFactionDel"/>
		<rpc ref="DBFactionJoin"/>
		<rpc ref="DBFactionGet"/>
		<rpc ref="DBFactionLeave"/>
		<rpc ref="DBFactionSync"/>
		<rpc ref="DBFactionUpdate"/>
		<rpc ref="DBFactionBrief"/>
		<rpc ref="DBFactionAppoint"/>
		<rpc ref="DBFactionRename"/>
		<rpc ref="DBSectJoin"/>
		<rpc ref="DBSectQuit"/>
		<rpc ref="DBSectGet"/>
		<rpc ref="DBSectUpdate"/>

		<rpc ref="DBFamilyAdd"/>
		<rpc ref="DBFamilyGet"/>
		<rpc ref="DBFamilyDel"/>
		<rpc ref="DBFamilyJoin"/>
		<rpc ref="DBFamilyLeave"/>
		<rpc ref="DBFamilyUpdate"/>
		<rpc ref="DBFamilyAppoint"/>
		<rpc ref="DBFamilySync"/>
		<rpc ref="DBHostileAdd"/>
		<rpc ref="DBHostileDelete"/>
		<rpc ref="DBHostileUpdate"/>
		<rpc ref="DBHostileProtect"/>
		<rpc ref="DBFactionAddMoney"/>
		<rpc ref="DBFactionWithDrawMoney"/>

		<rpc ref="DBPutTopTable" />
		<rpc ref="DBGetTopTable" />
		<protocol ref="UpdateTopTable"/>
		<rpc ref="PutSpouse" />
		<rpc ref="DBStockLoad"/>
		<rpc ref="DBStockTransaction"/>
		<rpc ref="DBStockBalance"/>
		<rpc ref="DBStockCommission"/>
		<rpc ref="DBStockCancel"/>
		<rpc ref="DBAutolockSet"/>

		<rpc ref="DBSiegeLoad"/>
		<rpc ref="DBSiegeEnd"/>
		<rpc ref="DBSiegeSetAssistant"/>
		<rpc ref="DBSiegeChallenge"/>
		<rpc ref="DBInstancingActivate"/>
		<rpc ref="DBHometownExchgMoney"/>
		<rpc ref="DBSiegeGet"/>
		<rpc ref="DBSiegePutDetail"/>
		<rpc ref="DBBattleJoin"/>
		<protocol ref="DomainCmd_Re"/>
		<rpc ref="QueryUserid"/>
		<rpc ref="ForbidUser"/>
		<rpc ref="DBForbidUser"/>
		<rpc ref="DBGetCommonData" />
		<rpc ref="DBPutCommonData" />

		<rpc ref="DBSNSGetPlayerInfo" />
		<rpc ref="DBSNSGetPlayerInfoCache" />
		<rpc ref="DBSNSUpdateRoleInfo" />
		<rpc ref="DBSNSGetRoleInfo" />
		<rpc ref="DBSNSUpdatePlayerInfo" />
		<rpc ref="DBSNSGetMessage" />
		<rpc ref="DBSNSUpdateMessage" />

		<rpc ref="DBRefGetReferral" />
		<rpc ref="DBRefGetReferrer" />
		<rpc ref="DBRefUpdateReferrer" />
		<rpc ref="DBRefUpdateReferral" />
		<rpc ref="DBRefWithdrawTrans"/>
		<rpc ref="DBChangeProfile"/>
		<rpc ref="DBClearConsumable"/>
		<rpc ref="DBHometownGetInfo"/>
		<rpc ref="DBHometownPutInfo"/>
		<rpc ref="DBHometownPutCompoInfo"/>

		<rpc ref="DBFunGameGetInfo"/>
		<rpc ref="DBFunGameGetScore"/>
		<rpc ref="DBFunGamePutInfo"/>
		<rpc ref="DBFunGamePutScore"/>
		<!--Territory-->
		<rpc ref="DBTerritoryListLoad"/>
		<rpc ref="DBTerritoryListSave"/>
		<rpc ref="DBTerritoryChallenge"/>
		<rpc ref="DBTerritorySave"/>

		<rpc ref="DBUniqueAuctionLoad"/>
		<rpc ref="DBUniqueAuctionSave"/>
		
		<rpc ref="ModifyRoleCreateTime" baseclass="Rpc" />
		<!--Circle-->
		<rpc ref="DBCircleGet" baseclass="Rpc" />
		<rpc ref="DBCircleHisGet" baseclass="Rpc" />
		<rpc ref="DBCircleJoin" baseclass="Rpc" />
		<rpc ref="DBCircleAppoint" baseclass="Rpc" />
		<rpc ref="DBCircleSync" baseclass="Rpc" />
		<!--Consign-->
		<rpc ref="DBConsignTableLoad" baseclass="Rpc" />
		<rpc ref="DBConsignPrePost" baseclass="Rpc" />
		<rpc ref="DBConsignQuery" baseclass="Rpc" />
		<rpc ref="DBConsignFail" baseclass="Rpc" />
		<rpc ref="DBConsignPost" baseclass="Rpc" />
		<rpc ref="DBConsignPreCancel" baseclass="Rpc" />
		<rpc ref="DBConsignMail" baseclass="Rpc" />
		<rpc ref="DBConsignGetRoleSimpleInfo" baseclass="Rpc" />
		<rpc ref="DBConsignShelfCancel" baseclass="Rpc" />
		<rpc ref="DBConsignShelf" baseclass="Rpc" />
		<rpc ref="DBConsignSold" baseclass="Rpc" />
		<rpc ref="DBConsignQueryBackup" baseclass="Rpc" />
		<rpc ref="DBConsignPrePostRole" baseclass="Rpc" />
		<rpc ref="DBConsignSoldRole" baseclass="Rpc" />
		<rpc ref="DBConsignGetRole" baseclass="Rpc" />
		<rpc ref="DBConsignRoleFail" baseclass="Rpc" />
		<!--cross server-->
		<rpc ref="FetchPlayerData"/>
		<rpc ref="ActivatePlayerData"/>
		<rpc ref="TouchPlayerData"/>
		<rpc ref="SavePlayerData"/>
		<rpc ref="FreezePlayerData"/>
		<rpc ref="PlayerIdentityMatch"/>
		<rpc ref="DelPlayerData"/>
		<!-- fast cash add-->
		<rpc ref="GetCashTotal"/>
		<!-- raid -->
		<rpc ref="DBRaidOpen"/>
		<!-- global drop item -->
		<rpc ref="AddGlobalCounter"/>
		<rpc ref="GetGlobalCounter"/>
		<rpc ref="DBChangeRolename"/>
		<rpc ref="DBRoleNameList"/>
		<rpc ref="DBQueryRoleName"/>
		<rpc ref="DBChangeFactionname"/>

		<rpc ref="DBKingdomLoad"/>
		<rpc ref="DBKingdomSetWinner"/>
		<rpc ref="DBKingdomSave"/>
		<rpc ref="DBKingdomAppoint"/>
		<rpc ref="DBKingdomDischarge"/>
		<protocol ref="UpdateQueen"/>
		<rpc ref="DBKingdomTaskIssue"/>
		<rpc ref="DBKingdomTaskClose"/>
		<rpc ref="DBKingdomTaskEnd"/>
		<rpc ref="DBKingGetReward"/>
		
		<rpc ref="DBGetTopFlowerData"/>
		<rpc ref="DBUpdateTopFlowerData"/>
		<rpc ref="DBFlowerGetRoleId"/>
		<rpc ref="DBFlowerGetRoleExist"/>

		<rpc ref="DBGetTouchOrder"/>
		<rpc ref="OperationCmd"/>
		<rpc ref="DBGetServiceForbidCmd"/>
		<rpc ref="DebugOperationCmd"/>
	</state>
	<state name="UniqueNameServer" timeout="86400">
		<rpc ref="PreCreateRole"/>
		<rpc ref="PostCreateRole"/>
		<rpc ref="PostDeleteRole"/>
		<rpc ref="PostCrssvrTeamsCreate"/>
		<rpc ref="PostCrssvrTeamsRename"/>
		<rpc ref="PostCrssvrTeamsDel"/>
		<rpc ref="PreCreateFaction"/>
		<rpc ref="PreCrssvrTeamsCreate"/>
		<rpc ref="PreCrssvrTeamsRename"/>
		<rpc ref="PostCreateFaction"/>
		<rpc ref="PostDeleteFaction"/>
		<rpc ref="RolenameExists"/>
		<rpc ref="UserRoleCount"/>
		<rpc ref="MoveRoleCreate"/>
		<rpc ref="PreCreateFamily"/>
		<rpc ref="PostCreateFamily"/>
		<rpc ref="PostDeleteFamily"/>
		<rpc ref="DBRawRead"/>
		<protocol ref="KeepAlive"/>
		<rpc ref="PreChangeRolename"/>
		<rpc ref="PostChangeRolename"/>
		<rpc ref="PreChangeFactionname"/>
		<rpc ref="PostChangeFactionname"/>
	</state>
	<state name="UniqueNameClient" timeout="86400">
		<rpc ref="PreCreateRole"/>
		<rpc ref="PostCreateRole"/>
		<rpc ref="PostDeleteRole"/>
		<rpc ref="PreCreateFaction"/>
		<rpc ref="PostCrssvrTeamsCreate"/>
		<rpc ref="PostCrssvrTeamsRename"/>
		<rpc ref="PostCrssvrTeamsDel"/>
		<rpc ref="PreCrssvrTeamsCreate"/>
		<rpc ref="PreCrssvrTeamsRename"/>
		<rpc ref="PostCreateFaction"/>
		<rpc ref="PostDeleteFaction"/>
		<rpc ref="PreCreateFamily"/>
		<rpc ref="PostCreateFamily"/>
		<rpc ref="PostDeleteFamily"/>
		<rpc ref="PreChangeRolename"/>
		<rpc ref="PostChangeRolename"/>
		<rpc ref="PreChangeFactionname"/>
		<rpc ref="PostChangeFactionname"/>
	</state>
	
	<state name="GameDBGateClient" timeout="86400">
		<rpc ref="DBSNSGetRole"/>
		<rpc ref="DBGateGetUser"/>
		<rpc ref="DBGateGetRole"/>
		<rpc ref="DBGateRoleRelation"/>
		<rpc ref="DBGateActivate"/>
		<rpc ref="DBGateDeactivate"/>
		<rpc ref="DBFactionGet"/>
		<rpc ref="DBFamilyGet"/>
	</state>

	<!-- *********************************** -->
	<!--  STATES of Accountdb client/server  -->
	<!-- *********************************** -->
	<!-- Used to Create role and check whether rolename is unique-->
	<state name="GRoleDBServer" timeout="86400">
		<rpc ref="AccountAddRole"/>
		<rpc ref="AccountDelRole"/>
	</state>
	
	<state name="GRoleDBClient" timeout="86400">
		<rpc ref="AccountAddRole"/>
		<rpc ref="AccountDelRole"/>
	</state>

	<state name="CentralDeliveryServer" timeout="120">
		<protocol ref="LoadExchange"/>
		<protocol ref="DSAnnounceIdentity"/>
		<protocol ref="SendDataAndIdentity"/>
		<protocol ref="SendDataAndIdentity_Re"/>
		<protocol ref="RemoteLoginQuery_Re"/>
		<protocol ref="KickoutRemoteUser"/>
		<protocol ref="GetRemoteRoleInfo"/>
		<protocol ref="AddictionControl"/>
		<protocol ref="VIPAnnounce"/>
		<protocol ref="BattleGetField"/>
		<protocol ref="CrossBattleJoinTeam"/>
		<protocol ref="BattleEnter"/>
		<protocol ref="COpenBanquetJoin"/>
		<protocol ref="OpenBanquetEnter"/>
		<protocol ref="OpenBanquetLogout"/>
		<protocol ref="OpenBanquetCancel"/>
		<protocol ref="OpenBanquetQueueCount"/>
		<protocol ref="BattleLeave"/>
		<protocol ref="TeamRaidMappingSuccess_Re"/>
		<protocol ref="HideSeekMappingSuccess_Re"/>
		<protocol ref="GRaidTeamApply"/>
		<protocol ref="GHideSeekRaidApply"/>
		<protocol ref="GFengShenRaidApply"/>
		<protocol ref="CrssvrTeamsSearch"/>
		<protocol ref="TeamRaidQuit"/>
		<protocol ref="HideSeekRaidQuit"/>
		<rpc ref="SyncCrossCrssvrTeamsScore"/>
		<rpc ref="SyncCrossCrssvrTeamsTop"/>
		<rpc ref="SyncCrossCrssvrTeamsEndBrief"/>
		<rpc ref="SyncCrossCrssvrTeams"/>
		<rpc ref="SyncCrossCrssvrTeamsUpdate"/>
		<rpc ref="SyncCrossCrssvrTeamsAdd"/>
		<rpc ref="SyncCrossCrssvrTeamsDel"/>
		<rpc ref="SyncCrossCrssvrTeamsRename"/>
		<rpc ref="SyncCrossCrssvrTeamsChgCaptain"/>
		<rpc ref="CrossCrssvrTeamsGetTopTable" />
		<rpc ref="SyncCrossCrssvrTeamsDismiss"/>
	</state>
	
	<!-- *********************************** -->
	<!--  STATES of WebTrade client/server  -->
	<!-- *********************************** -->
	<!--state name="GWebTradeServer" timeout="86400">
		<protocol ref="Post" />	
		<protocol ref="GamePostCancel" />	
		<protocol ref="WebPostCancel_Re" />	
		<protocol ref="Shelf_Re" />	
		<protocol ref="ShelfCancel_Re" />	
		<protocol ref="Sold_Re" />	
		<protocol ref="PostExpire_Re" />	
		<protocol ref="WebGetRoleList_Re" />	
		<protocol ref="NewKeepAlive" />	
	</state-->
	
	<state name="GWebTradeClient" timeout="86400">
		<protocol ref="Post_Re" />	
		<protocol ref="GamePostCancel_Re" />	
		<protocol ref="WebPostCancel" />	
		<protocol ref="Shelf" />	
		<protocol ref="ShelfCancel" />	
		<protocol ref="Sold" />	
		<protocol ref="PostExpire" />	
		<protocol ref="WebGetRoleList" />	
		<rpc ref="QueryUserid"/>
	</state>

	<!-- *********************************** -->
	<!--  STATES of GTransformServer client/server  -->
	<!-- *********************************** -->
	<!--state name="GTransformServer" timeout="86400">
		<proto name="GetItemDesc_Re"/>
		<proto name="NewKeepAlive"/>
	</state-->
	<!--state name="GTransformClient" timeout="86400">
		<protocol ref=="GetItemDesc"/>
	</state-->

	<state name="CentralDeliveryClient" timeout="120">
		<protocol ref="LoadExchange"/>
		<protocol ref="DSAnnounceIdentity"/>
		<protocol ref="SendDataAndIdentity"/>
		<protocol ref="SendDataAndIdentity_Re"/>
		<protocol ref="RemoteLoginQuery"/>
		<protocol ref="RemoteLogout"/>
		<protocol ref="KickoutRemoteUser_Re"/>
		<protocol ref="ACKickoutUser"/>
		<protocol ref="ACForbidUser"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="SendRefLevelUp"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GetRemoteRoleInfo_Re"/>
		<protocol ref="BattleGetField_Re"/>
		<protocol ref="BattleEnter_Re"/>
		<protocol ref="BattleLeave_Re"/>
		<protocol ref="BattleStartNotify"/>
		<protocol ref="OpenBanquetDrag_Re"/>
		<protocol ref="OpenBanquetJoin_Re"/>
		<protocol ref="OpenBanquetQueueCount_Re"/>
		<protocol ref="CrossBattleJoinTeam"/>

		<protocol ref="GetTopTable_Re"/>
		<protocol ref="RaidEnter_Re"/>
		<protocol ref="CrossRaidEnter_Re"/>
		<protocol ref="RaidStart_Re"/>
		<protocol ref="RaidStartNotify"/>
		<protocol ref="TeamRaidMappingSuccess"/>
		<protocol ref="HideSeekMappingSuccess"/>
		<protocol ref="TeamRaidApplyNotice"/>
		<protocol ref="TeamRaidActiveApplyNotice"/>
		<protocol ref="RaidKickNotify"/>
		<protocol ref="TeamRaidApply_Re"/>
		<protocol ref="RaidQuit_Re"/>
		<protocol ref="CrossCrssvrTeamsOnlineStatus"/>
		<protocol ref="CrossCrssvrTeamsGetReq"/>
		<protocol ref="CrssvrTeamsSearch_Re"/>
		<rpc ref="SyncCrossCrssvrTeamsScore"/>
		<rpc ref="SyncCrossCrssvrTeamsTop"/>
		<rpc ref="SyncCrossCrssvrTeamsEndBrief"/>
		<rpc ref="SyncCrossCrssvrTeams"/>
		<rpc ref="SyncCrossCrssvrTeamsUpdate"/>
		<rpc ref="SyncCrossCrssvrTeamsAdd"/>
		<rpc ref="SyncCrossCrssvrTeamsDel"/>
		<rpc ref="SyncCrossCrssvrTeamsRename"/>
		<rpc ref="SyncCrossCrssvrTeamsChgCaptain"/>
		<rpc ref="SyncCrossCrssvrTeamsDismiss"/>
		<rpc ref="CrossCrssvrTeamsGetTopTable" />
	</state>

	<!-- ************************      -->
	<!--  STATES of GTPlatform client  -->
	<!-- ************************      -->
	<state name="GTPlatformClient" timeout="86400">
		<!--protocol ref="GameSysMsg" /-->
		<protocol ref="GameDataReq" />
		<!--protocol ref="GameDataResp" /-->
		<protocol ref="IMKeepAlive" />
		<protocol ref="AnnounceResp" />
		<protocol ref="RoleListReq" />
		<!--protocol ref="RoleListResp" /-->
		<protocol ref="RoleRelationReq" />
		<!--protocol ref="RoleRelationResp" /-->
		<protocol ref="RoleStatusReq" />
		<protocol ref="RoleStatusResp" />
		<protocol ref="RoleStatusUpdate" />
		<!--protocol ref="RoleGroupUpdate" /-->
		<!--protocol ref="RoleFriendUpdate" /-->
		<!--protocol ref="RoleBlacklistUpdate" /-->
		<protocol ref="RoleMsg" />
		<protocol ref="RoleOfflineMessages" />
		<protocol ref="RoleActivation" />
		<!--protocol ref="RemoveRole" /-->
		<!--protocol ref="RoleInfoUpdate" /-->
		<!--protocol ref="RoleForbidUpdate" /-->
		<protocol ref="RoleInfoReq" />
		<!--protocol ref="RoleInfoResp" /-->
		<protocol ref="FactionInfoReq" />
		<!--protocol ref="FactionInfoResp" /-->
		<!--protocol ref="FactionMemberUpdate" /-->
		<!--protocol ref="FactionInfoUpdate" /-->
		<protocol ref="FactionMsg" />
		<!--protocol ref="RemoveFaction" /-->
		<!--protocol ref="FactionForbidUpdate" /-->
		<protocol ref="RoleEnterVoiceChannel"/>
		<protocol ref="RoleLeaveVoiceChannel"/>
	</state>

	<!-- *****************************      -->
	<!--  STATES of GameGate server/client  -->
	<!-- *****************************      -->
	<state name="GameGateClient" timeout="86400">
      		<!--Token-->
		<protocol ref="GetKDCTokenToGate"/>

		<protocol ref="GateRoleLogin" />
		<protocol ref="GateRoleLogout" />
		<protocol ref="GateRoleCreate" />
		<protocol ref="GateOnlineList" />
		<protocol ref="GateGetGTRoleStatus" />
		<protocol ref="RoleGroupUpdate" />
		<protocol ref="RoleFriendUpdate" />
		<protocol ref="FactionMemberUpdate" />
		<protocol ref="FactionInfoUpdate" />
		<protocol ref="RemoveRole" />
		<protocol ref="RemoveFaction" />
		<protocol ref="PrivateChat" />
		<protocol ref="GateFactionChat" />
		<rpc ref="GateGetRoleRelation"/>
		<protocol ref="SyncRoleEvent2SNS" />
	</state>
	<state name="GameGateServer" timeout="86400">
      		<!--Token-->
		<protocol ref="GetKDCToken_Re"/>

		<protocol ref="GateOnlineList_Re" />
		<protocol ref="GateGetGTRoleStatus_Re" />
		<protocol ref="GateUpdateStatus" />
		<protocol ref="GateOfflineChat" />
		<protocol ref="PrivateChat" />
		<protocol ref="GateFactionChat" />
		<rpc ref="GateGetRoleRelation"/>
	</state>

	<!-- ************************ -->
	<!--  STATES of kds Client  -->
	<!-- ************************ -->
	<state name="KdsClient" timeout="86400">
		<protocol ref="KeysResp"/>
		<protocol ref="KDSKeepAlive"/>
	</state>

	<!-- ************************      -->
	<!--  STATES of SNSPlatform client  -->
	<!-- ************************      -->
	<state name="SNSPlatformClient" timeout="86400">
		<protocol ref="IMKeepAlive" />
		<protocol ref="RoleListReq" />
		<protocol ref="RoleRelationReq" />
		<protocol ref="FactionInfoReq" />
	</state>

	<!-- ****************************************************************************** -->
	<!--    Sevices of Game System                                                      -->
	<!-- ****************************************************************************** -->
	<service name="glinkd">
		<manager name="GLink" type="server" initstate="GLoginServer"/>
		<manager name="GDelivery" type="client" initstate="GDeliverClient" reconnect="1"/>
		<manager name="GProvider" type="server" initstate="GProviderLinkServer"/>
		
		<state ref="GLoginServer"/>
		<state ref="GResponseReceive"/>
		<state ref="GKeyReestablished"/>
		<state ref="GVerifyMatrix"/>
		<state ref="GKeyExchgSend"/> 
		<state ref="GKeyExchgSucc" />
		<state ref="GRoleList" />
		<state ref="GRoleList_OnGame"/>
		<state ref="GRoleListReceive" />
		<state ref="GSelectRoleServer" />
		<state ref="GSelectRoleReceive" />
		<state ref="GCreateRoleReceive" />
		<state ref="GDeleteRoleReceive"/>
		<state ref="GUndoDeleteRoleReceive"/>
		<state ref="GReadyGame" />
		<state ref="GDataExchgServer"/>
		<state ref="__only_for_stub"/>
		<state ref="GDomainServer" />
		
		<state ref="GDeliverClient"/>
		<state ref="GProviderLinkServer"/>

		<state ref="Null" />
		
		<!--Circle -->
		<protocol ref="CircleNotify"/>
		<protocol ref="GCircleChat"/>	
	
		<protocol ref="AuctionExitBid"/>
		<protocol ref="ErrorInfo"/>
		<protocol ref="ServerMessage"/>
		<protocol ref="Challenge"/>
		<protocol ref="MatrixChallenge"/>
		<protocol ref="LineList"/>

		<protocol ref="SelectRole_Re"/>
		<protocol ref="PlayerLogin"/>
		<protocol ref="PlayerOffline"/>
		<protocol ref="PlayerStatusSync"/>
		<protocol ref="C2SGamedataSend"/>

		<protocol ref="C2SFunGamedataSend"/>
        <protocol ref="C2SHometowndataSend"/>
		
		<protocol ref="ChatMessage"/>
		<protocol ref="WorldChat"/>

		<!--friend relative protocols-->
		<rpc ref="AddFriendRqst" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
		
		<!--trade relative protocols-->
		<rpc ref="TradeStartRqst" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
	
		<!--protocol ref="AnnounceProviderID"/--> <!-- announce linkserverid to facton server -->
		<rpc ref="CrssvrTeamsInvite" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
		<rpc ref="FactionInvite" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
		<rpc ref="SectInvite" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
		<rpc ref="CombatInvite" baseclass="ProxyRpc" sendmanager="GLinkServer"/>

		<!-- anti-cheat related protocols -->
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACProtoStat"/>
		<protocol ref="ReportIP"/>
		<rpc ref="GetLinePlayerLimit"/>
		<rpc ref="SetLinePlayerLimit"/>
		<!-- mail system related protocols -->
		<protocol ref="AnnounceNewMail"/>
		<protocol ref="GetCommonData_Re"/>
		<!--rpc ref="KingGuardInvite" baseclass="ProxyRpc" sendmanager="GLinkServer"/-->
		<!--rpc ref="QueenOpenBathInvite" baseclass="ProxyRpc" sendmanager="GLinkServer"/-->
	</service>
	
	<service name="gdeliveryd">
		<manager name="GDelivery" type="server" initstate="GDeliverServer"/>
		<manager name="GAuth" type="client" initstate="GAuthClient" reconnect="1"/>
		<manager name="GProvider" type="server" initstate="GProviderDeliveryServer" />
		<manager name="GameDB" type="client" initstate="GameDBClient" reconnect="1"/>
		<manager name="UniqueName" type="client" initstate="UniqueNameClient" reconnect="1"/>
		<manager name="GRoleDB" type="client" initstate="GRoleDBClient" reconnect="1"/>
		<manager name="GAntiCheat" type="client" initstate="ACClient" reconnect="1"/>
		<manager name="GWebTrade" type="client" initstate="GWebTradeClient" reconnect="1"/>
		<manager name="CentralDelivery" type="client" initstate="CentralDeliveryClient" reconnect="1"/>
		<manager name="CentralDelivery" type="server" initstate="CentralDeliveryServer" reconnect="1"/>
		<manager name="GameGate" type="server" initstate="GameGateServer" reconnect="1"/>

		<state ref="GDeliverServer"/>
		<state ref="GAuthClient"/>
		<state ref="GProviderDeliveryServer"/>
		<state ref="GameDBClient"/>
		<state ref="UniqueNameClient"/>
		<state ref="GRoleDBClient"/>
		<state ref="ACClient"/>
		<state ref="GWebTradeClient"/>
		<state ref="CentralDeliveryClient"/>
		<state ref="CentralDeliveryServer"/>
		<state ref="GameGateServer"/>

		<protocol ref="FactionMultiExpSync"/>
		<protocol ref="SyncRoleEvent2SNS"/>
		<protocol ref="GetFacActTopTable_Re"/>
		<protocol ref="FacBaseStopNotice"/>
		<protocol ref="CreateFacBase_Re"/>
		<protocol ref="FacBaseEnter_Re"/>
		<protocol ref="StartFacBase"/>
		<protocol ref="StopFacBase"/>
		<protocol ref="FacMallSync"/>
		<protocol ref="GetFactionDynamic_Re"/>
		<!--protocol ref="FactionPostMsg_Re"/-->
		<!--protocol ref="GetFactionMsg_Re"/-->
	        <protocol ref="GlobalDropRemainBroadCast"/>
		<!--kdctoken -->
		<protocol ref="GetKDCTokenToGate"/>
		<!--Raid -->
		<protocol ref="RaidJoinReq"/>
		<protocol ref="RaidOpen_Re"/>
		<protocol ref="RaidJoin_Re"/>
		<protocol ref="RaidJoinApplyList"/>
		<protocol ref="RaidJoinAccept_Re"/>
		<protocol ref="RaidEnter_Re"/>
		<protocol ref="CrossRaidEnter_Re"/>
		<protocol ref="RaidGetList_Re"/>
		<protocol ref="RaidStart_Re"/>
		<protocol ref="RaidAppoint_Re"/>
		<protocol ref="RaidAppointNotify"/>
		<protocol ref="RaidStartNotify"/>
		<protocol ref="RaidKick_Re"/>
		<protocol ref="RaidKickNotify"/>
		<protocol ref="RaidQuit_Re"/>
		<protocol ref="RaidGetRoom_Re"/>
	
		<protocol ref="GCrssvrTeamsPostScore" />
		<protocol ref="SendRaidStart"/>
	        <protocol ref="SendRaidEnter"/>
	        <protocol ref="GRaidMemberChange"/>
	        <protocol ref="SendRaidClose"/>
	        <protocol ref="SendRaidKickout"/>
		<protocol ref="RaidOpenVote_Re"/>
		<protocol ref="RaidBeginVotes"/>
		<protocol ref="RaidVoteResult"/>
		<protocol ref="RaidBriefInfo"/>
		<protocol ref="TeamRaidApply_Re"/>
		<protocol ref="TeamRaidApplyNotice"/>
		<protocol ref="TeamRaidActiveApplyNotice"/>
		<!--protocol ref="TeamRaidApplyQuery_Re"/-->
		<protocol ref="TeamRaidMappingSuccess"/>
		<protocol ref="HideSeekMappingSuccess"/>
		<protocol ref="TeamRaidBeginChooseChar"/>
		<protocol ref="TeamRaidUpdateChar"/>
		<protocol ref="TeamRaidAckTimeout"/>
		<protocol ref="FactionPkRaidChallenge_Re"/>
		<protocol ref="FactionPkRaidChallengeCancel_Re"/>
		<protocol ref="FactionPkRaidInvite"/>
		<protocol ref="FactionPkRaidBegin"/>
		<protocol ref="FactionPkRaidGetScore_Re"/>
		<protocol ref="FactionPkRaidGetList_Re"/>
		<protocol ref="FactionPkRaidStopFight"/>
		<protocol ref="FactionWithDrawBonus_Re"/>
	        <!--protocol ref="SendRaidRoleData"/-->
		
		<rpc ref="FlowerGiftTake"/>
		<rpc ref="FlowerTakeOff"/>
		<protocol ref="Open_Controler"/>
		
		<protocol ref="GOpenBanquetRoleDel"/>
		<protocol ref="GOpenBanquetClose"/>
		<!--protocol ref="FakeAddCash"/-->
		<!--GT-->
		<protocol ref="UpdateFriendGTStatus"/>
		<!--Circle -->
		<protocol ref="CircleList_Re"/>
		<protocol ref="GetCircleBaseInfo_Re"/>
		<!--protocol ref="GetCirclePoint_Re"/-->	
		<protocol ref="BonusExp"/>
		<protocol ref="UpdateRoleCircle"/>
		<protocol ref="CircleNotifyLink"/>
		<!--Consign-->
		<protocol ref="ConsignCancelPost_Re"/>
		<protocol ref="ConsignQuery_Re"/>
		<protocol ref="ConsignGetItem_Re"/>
		<protocol ref="ConsignListAll_Re"/>
		<protocol ref="ConsignListRole_Re"/>
		<protocol ref="ConsignListLargeCategory_Re"/>
		<protocol ref="ConsignStartErr"/>
		<protocol ref="DBConsignSkipSN"/>
		<protocol ref="ConsignPlayer_Re"/>
		<!--GameGate GT-->
		<protocol ref="GateRoleLogin" />
		<protocol ref="GateRoleCreate" />
		<protocol ref="GateRoleLogout" />
		<protocol ref="GateOnlineList" />
		<protocol ref="GateGetGTRoleStatus" />
		<protocol ref="RoleGroupUpdate" />
		<protocol ref="RoleFriendUpdate" />
		<protocol ref="FactionMemberUpdate" />
		<protocol ref="FactionInfoUpdate" />
		<protocol ref="RemoveRole" />
		<protocol ref="RemoveFaction" />
	
		<!-- webtrade server related -->
		<protocol ref="Post" />	
		<protocol ref="GamePostCancel" />	
		<protocol ref="WebPostCancel_Re" />	
		<protocol ref="Shelf_Re" />	
		<protocol ref="ShelfCancel_Re" />	
		<protocol ref="Sold_Re" />	
		<protocol ref="PostExpire_Re" />	
		<protocol ref="WebGetRoleList_Re" />	
		<protocol ref="NewKeepAlive" />	

		<!-- friend call back protocols -->
		<protocol ref="FriendCallbackInfo_Re"/>
		<protocol ref="FriendCallbackMail_Re"/>
		<protocol ref="FriendCallbackAward_Re"/>
		<protocol ref="FriendCallbackSubscribe_Re"/>
		<protocol ref="BonusItem"/>

		<protocol ref="AnnounceZoneid"/>
		<protocol ref="AnnounceZoneid2"/>
		<protocol ref="AnnounceZoneid3"/>
		<protocol ref="AnnounceChallengeAlgo"/>	
		<protocol ref="QueryUserPrivilege"/>
		<protocol ref="QueryUserPrivilege2"/>
		<protocol ref="QueryUserForbid"/>
		<protocol ref="QueryUserForbid2"/>
		<protocol ref="PlayerKickout"/>
		<protocol ref="PlayerOffline"/>
		<protocol ref="GetTaskData_Re"/>
		<protocol ref="SetTaskData_Re"/>
		<protocol ref="PlayerStatusAnnounce"/>	
		<protocol ref="OnlineAnnounce"/>
		<protocol ref="RoleList_Re"/>
		<protocol ref="CreateRole_Re"/>
		<protocol ref="DeleteRole_Re"/>
		<protocol ref="UndoDeleteRole_Re"/>
		<protocol ref="PlayerBaseInfo_Re"/>
		<protocol ref="PlayerBaseInfo2_Re"/>
		<protocol ref="PlayerBaseInfoCRC_Re"/>
		<protocol ref="GetPlayerIDByName_Re"/>
		<protocol ref="SetUIConfig_Re"/>
		<protocol ref="GetUIConfig_Re"/>
		<protocol ref="SetHelpStates_Re"/>
		<protocol ref="GetHelpStates_Re"/>
		<protocol ref="GetPlayerBriefInfo_Re"/>
		<protocol ref="CommonDataSync"/>
		<protocol ref="NotifyDailyTableChange"/>
		<rpc ref="CommonDataChange"/>

		<protocol ref="AccountingRequest" />
		
		<protocol ref="ChatBroadCast"/>
		<protocol ref="WorldChat"/>
		<protocol ref="ChatMultiCast"/>
		<protocol ref="ChatSingleCast"/>
		<protocol ref="RoleStatusAnnounce"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend_Re"/>
		<protocol ref="GetFriends_Re"/>
		<protocol ref="GetEnemies_Re"/>
		<protocol ref="UpdateEnemy_Re"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="GetSavedMsg_Re"/>
		<protocol ref="ChatRoomCreate_Re"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin_Re"/>
		<protocol ref="ChatRoomList_Re"/>

		<!--trade relative protocols-->
		<protocol ref="TradeStart_Re"/>
		<protocol ref="TradeAddGoods_Re"/>
		<protocol ref="TradeRemoveGoods_Re"/>
		<protocol ref="TradeSubmit_Re"/>
		<protocol ref="TradeMoveObj_Re"/>
		<protocol ref="TradeConfirm_Re"/>
		<protocol ref="TradeDiscard_Re"/>
		<protocol ref="TradeEnd"/>
		<protocol ref="GTradeStart"/>
		<protocol ref="GTradeEnd"/>

		<!--cert relative protocols -->
		<protocol ref="CertRequest"/>
		<protocol ref="CertAnswer"/>
		<protocol ref="CertKey"/>
		<protocol ref="CertFinish"/>
		<protocol ref="Game2AU"/>
	
		<rpc ref="GQueryPasswd" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="MatrixPasswd" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
                <rpc ref="MatrixPasswd2" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
                <rpc ref="MatrixToken" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="UserLogin" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="UserLogin2" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="CertChallenge" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="GetAddCashSN" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="CashSerial" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="PutSpouse" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="QueryUserid" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="ForbidUser" baseclass="ProxyRpc" sendmanager="GameDBClient" />
		<rpc ref="PlayerIdentityMatch" baseclass="ProxyRpc" sendmanager="GameDBClient" />
		<!--rpc ref="OperationCmd" baseclass="ProxyRpc" sendmanager="GameDBClient"/-->
		<rpc ref="PassportGetRoleList" baseclass="ProxyRpc" sendmanager="GameDBClient" />

		<protocol ref="RoleLogin" />

		<!-- GM related protocols -->
		<protocol ref="AnnounceGM"/> <!-- announce Gm's privilege to Gameserver-->
		<protocol ref="GMOnlineNum_Re"/>
		<protocol ref="GMListOnlineUser_Re"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="GMForbidSellPoint_Re"/>
		<protocol ref="GMKickoutRole_Re"/>
		<protocol ref="GMShutup_Re"/>
		<protocol ref="GMShutupRole_Re"/>
		<protocol ref="GMToggleChat_Re"/>
		<protocol ref="GMForbidRole_Re"/>
		<protocol ref="GMShutdownLine_Re"/>
		<protocol ref="Report2GM_Re"/>
		<protocol ref="Complain2GM_Re"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="SetMaxOnlineNum_Re"/>
		
		<!-- anti-cheat related protocols -->
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACStatusAnnounce"/>
		<protocol ref="ACStatusAnnounce2"/>

		<!-- mail system related protocols -->
		<protocol ref="AnnounceNewMail"/>
		<protocol ref="GetMailList_Re"/>
		<protocol ref="GetMail_Re"/>
		<protocol ref="GetMailAttachObj_Re"/>
		<protocol ref="DeleteMail_Re"/>
		<protocol ref="PreserveMail_Re"/>
		<protocol ref="PlayerSendMail_Re"/>
		<protocol ref="GMailEndSync"/>
		<protocol ref="SysSendMail_Re"/>
		<protocol ref="SysRecoveredObjMail_Re"/>

		<protocol ref="AuctionOpen_Re"/>
		<protocol ref="AuctionBid_Re"/>
		<protocol ref="AuctionClose_Re"/>
		<protocol ref="AuctionList_Re"/>
		<protocol ref="AuctionGet_Re"/>
		<protocol ref="AuctionGetItem_Re"/>
		<protocol ref="AuctionAttendList_Re"/>
		<protocol ref="AuctionExitBid_Re"/>

		<protocol ref="BattleGetMap_Re"/>
		<protocol ref="BattleGetList_Re"/>
		<protocol ref="BattleGetField_Re"/>
		<protocol ref="BattleJoin_Re"/>
		<protocol ref="BattleLeave_Re"/>
		<protocol ref="BattleEnter_Re"/>
		<protocol ref="BattleStart_Re"/>
		<protocol ref="BattleStart"/>
		<protocol ref="BattleStartNotify"/>
		<protocol ref="SendBattleEnter"/>

		<protocol ref="VIPInfoNotify"/>

		<protocol ref="SendInstancingStart"/>
		<protocol ref="SendInstancingEnter"/>
		<protocol ref="SendInstancingJoin"/>
		<protocol ref="InstancingGetList_Re"/>
		<protocol ref="InstancingGetField_Re"/>
		<protocol ref="InstancingKick_Re"/>
		<protocol ref="InstancingStart_Re"/>
		<protocol ref="InstancingAvailableList_Re"/>
		<protocol ref="InstancingJoinReq"/>
		<protocol ref="InstancingJoin_Re"/>
		<protocol ref="HometownExchgMoney_Re"/>
		<protocol ref="InstancingLeave_Re"/>
		<protocol ref="InstancingAppoint_Re"/>
		<protocol ref="InstancingAccept_Re"/>
		<protocol ref="InstancingAppointNotify"/>
		<protocol ref="InstancingKickNotify"/>
		<protocol ref="InstancingEnter_Re"/>
		<protocol ref="InstancingStartNotify"/>
		<protocol ref="InstancingCloseNotify"/>

		<!-- Activity related protocol  -->
		<protocol ref="QueryRewardType"/>
		<protocol ref="QueryRewardType_Re"/>

		<!-- Gameserver Attribute -->
		<protocol ref="QueryGameServerAttr_Re"/>
		<!-- Announce server attribute-->
		<protocol ref="AnnounceServerAttribute"/>
		<rpc ref="GetLinePlayerLimit"/>
		<rpc ref="SetLinePlayerLimit"/>

		<!--CrssvrTeams-->
		<protocol ref="CrssvrTeamsRoleNotify_Re"/>
		<protocol ref="CrssvrTeamsTeamBase_Re"/>
		<protocol ref="CrssvrTeamsRoleList_Re"/>
		<protocol ref="CrssvrTeamsNotify_Re"/>
		<protocol ref="CrssvrTeamsSearch_Re"/>

		<!--<protocol ref="CrssvrTeamsRecruit_Re"/>
		<protocol ref="CrssvrTeamsChgCaptain_Re"/>
		<protocol ref="CrssvrTeamsLeave_Re"/>
		<protocol ref="CrssvrTeamsRename_Re"/>-->
		<rpc ref="CrssvrTeamsInvite"/>

		<protocol ref="FactionAppoint_Re"/>
		<protocol ref="FactionAnnounce_Re"/>
		<protocol ref="FactionCreate_Re"/>
		<protocol ref="FamilyRecord"/>
		<protocol ref="FactionDismiss_Re"/>
		<protocol ref="FactionExpel_Re"/>
		<protocol ref="FactionList_Re"/>
		<protocol ref="FactionLeave_Re"/>
		<protocol ref="FactionNickname_Re"/>
		<protocol ref="FactionResign_Re"/>
		<protocol ref="FactionRecruit_Re"/>
		<protocol ref="FactionUpgrade_Re"/>
		<protocol ref="GetTopTable_Re"/>
		<rpc ref="FactionInvite"/>
		<protocol ref="SectList_Re"/>
		<protocol ref="SectRecruit_Re"/>
		<protocol ref="SectExpel_Re"/>
		<protocol ref="SectExpel"/>
		<protocol ref="SectQuit"/>
		<rpc ref="SectInvite"/>
		<protocol ref="GetFactionBaseInfo_Re"/>
		<protocol ref="GetFactionHostile_Re"/>
		<protocol ref="PlayerFactionInfo_Re"/>
		<protocol ref="SyncFactionLevel"/>
		<protocol ref="SyncPlayerFaction"/>
		<protocol ref="HostileAdd_Re"/>
		<protocol ref="HostileDelete_Re"/>
		<protocol ref="HostileProtect_Re"/>
		<protocol ref="SyncFactionHostiles"/>
		<protocol ref="OnDivorce"/>
		<protocol ref="StockCommission_Re"/>
		<protocol ref="StockAccount_Re"/>
		<protocol ref="StockTransaction_Re"/>
		<protocol ref="StockBill_Re"/>
		<protocol ref="StockCancel_Re"/>

		<protocol ref="CombatChallenge_Re"/>
		<protocol ref="CombatControl"/>
		<protocol ref="CombatStatus"/>
		<protocol ref="CombatTop_Re"/>
		<rpc ref="CombatInvite"/>
		<protocol ref="CashLock_Re"/>
		<protocol ref="CashPasswordSet_Re"/>
		<protocol ref="SyncFamilyData"/>
		<protocol ref="NetBarReward"/>
		<protocol ref="SendAsyncData"/>
		<protocol ref="DomainCmd_Re"/>
		<protocol ref="AutolockSet_Re"/>

		<!-- Siege relative -->
		<protocol ref="SendSiegeStart"/>
		<protocol ref="GSiegeStatus"/>
		<protocol ref="SiegeChallenge_Re"/>
		<protocol ref="SiegeSetAssistant_Re"/>
		<protocol ref="SiegeInfoGet_Re"/>
		<protocol ref="SiegeEnter_Re"/>
		<protocol ref="SiegeTop_Re"/>
		<protocol ref="ForwardChat"/>

		<!-- contest relative protocol -->
		<protocol ref="ContestInviteBroadcast"/>
		<protocol ref="ContestInvite"/>
		<protocol ref="ContestBegin"/>
		<protocol ref="ContestQuestion"/>
		<protocol ref="ContestAnswer_Re"/>
		<protocol ref="ContestPlaceNotify"/>
		<protocol ref="ContestEnd"/>
		<protocol ref="ContestResult"/>

		<protocol ref="S2CFunGamedataSend"/>
		<protocol ref="S2CHometowndataSend"/>

		<protocol ref="SendSNSResult"/>
		<protocol ref="SNSSetPlayerInfo_Re"/>
		<protocol ref="SNSPressMessage_Re"/>
		<protocol ref="SNSCancelMessage_Re"/>
		<protocol ref="SNSCancelLeaveMessage_Re"/>
		<protocol ref="SNSApply_Re"/>
		<protocol ref="SNSApplyNotify"/>
		<protocol ref="SNSListMessage_Re"/>
		<protocol ref="SNSGetMessage_Re"/>
		<protocol ref="SNSGetPlayerInfo_Re"/>
		<protocol ref="SNSVote_Re"/>
		<protocol ref="SNSAcceptApply_Re"/>

		<protocol ref="RefListReferrals_Re"/>
		<protocol ref="RefWithdrawExp_Re"/>
		<protocol ref="RefWithdrawBonus_Re"/>
		<protocol ref="SendRefAddExp" />
		<protocol ref="SendRefAddBonus" />
		<protocol ref="RefGetReferenceCode_Re"/>
		<protocol ref="SendChangeProfile_Re"/>

		<protocol ref="RepairRoleList"/>
		<protocol ref="GShopNotifyScheme"/>
		<protocol ref="NetMarbleLogout"/>
		<!--Territory-->
		<protocol ref="TerritoryMapGet_Re"/>
		<protocol ref="TerritoryChallenge_Re"/>
		<protocol ref="TerritoryEnter_Re"/>
		<protocol ref="TerritoryLeave_Re"/>
		<protocol ref="SendTerritoryStart"/>
		<protocol ref="SyncTerritoryList"/>
		<protocol ref="TerritoryEnterRemind"/>
		<protocol ref="TerritoryScoreUpdate"/>

		<protocol ref="UniqueBidHistory_Re"/>
		<protocol ref="UniqueBid_Re"/>
		<protocol ref="UniqueGetItem_Re"/>
		<!--cross server-->
		<protocol ref="PlayerChangeGS"/>
		<protocol ref="PlayerChangeDS"/>
		<protocol ref="ChangeDS_Re"/>
		<protocol ref="TryChangeGS_Re"/>
		<protocol ref="DoChangeGS_Re"/>
		<!--Consign -->
		<!--protocol ref="GConsignStart"/-->
		<protocol ref="GConsignEnd"/>
		<protocol ref="PlayerConsignOffline"/>
		<protocol ref="GConsignEndRole"/>
		<!--AutoLock-->
		<protocol ref="DisableAutolock"/>
		<protocol ref="FastPay_Re"/>
		<protocol ref="FastPayBindInfo"/>
		<protocol ref="GChangeRolename_Re"/>
		<protocol ref="GChangeFactionName_Re"/>
		<protocol ref="QueryRolenameHistory_Re"/>
		<protocol ref="ChangeRolename_Re"/>
		<protocol ref="ChangeFactionName_Re"/>
		<protocol ref="FriendNameChange"/>
		<!--kingdom-->
		<protocol ref="KingdomBattleStart"/>
		<protocol ref="KingdomBattleStop"/>
		<protocol ref="KingdomInfoSync"/>
		<protocol ref="KingdomTitleSync"/>
		<protocol ref="KingdomPointSync"/>
		<protocol ref="KingdomBattleEnter_Re"/>
		<protocol ref="KingdomBattleLeave_Re"/>
		<protocol ref="KingdomAnnounce_Re"/>
		<protocol ref="KingdomAppoint_Re"/>
		<protocol ref="KingdomDischarge_Re"/>
		<protocol ref="KingdomSetGameAttri_Re"/>
		<protocol ref="KingdomGetInfo_Re"/>
		<protocol ref="KingdomGetTitle_Re"/>
		<protocol ref="KingdomTitleChange"/>
		<protocol ref="KingdomPointChange"/>
		<protocol ref="KingdomKingChange"/>
		<protocol ref="KingCallGuards_Re"/>
		<protocol ref="KingCallGuard"/>
		<protocol ref="QueenOpenBath"/>
		<protocol ref="QueenCloseBath"/>
		<protocol ref="QueenOpenBath_Re"/>
		<protocol ref="KingIssueTask_Re"/>
		<protocol ref="GKingIssueTask_Re"/>
		<protocol ref="GKingGetReward_Re"/>
		<protocol ref="GetKingTask_Re"/>
		<protocol ref="KingGetReward_Re"/>
		
		<rpc ref="DBGetTopFlowerData"/>
		<rpc ref="DBUpdateTopFlowerData"/>
		<rpc ref="DBFlowerGetRoleId"/>
		<rpc ref="DBFlowerGetRoleExist"/>

		<protocol ref="TopFlower_Re"/>
		<protocol ref="TopFlower_Err"/>
		<protocol ref="TopFlowerMsg_Re"/>

		<protocol ref="OpenBanquetJoin_Re"/>
		<protocol ref="OpenBanquetNotify_Re"/>
		<protocol ref="OpenBanquetDrag_Re"/>
		<protocol ref="OpenBanquetQueueCount_Re"/>
		<protocol ref="OpenBanquetEnter_Re"/>
		<protocol ref="OpenBanquetGetField_Re"/>

		<protocol ref="GTouchPointExchange_Re"/>
		<protocol ref="GetTouchPoint_Re"/>
		<protocol ref="GetPassportCashAdd_Re"/>
		<protocol ref="TouchPointExchange_Re"/>
		<protocol ref="ForbidService"/>
		<protocol ref="SysSendMail4_Re"/>
		<protocol ref="WebOrderNotice"/>

                <protocol ref="TryReconnect_Re"/>
                <protocol ref="PlayerReconnect"/>
	</service>
	
	<service name="gauthd">
		<manager name="GAuth" type="server" initstate="GAuthServer"/>

		<state ref="GAuthServer"/>

		<protocol ref="QueryUserPrivilege_Re"/>
		<protocol ref="QueryUserForbid_Re"/>

		<protocol ref="KickoutUser" />
		<protocol ref="AccountingResponse" />
		<protocol ref="AuthdVersion" />
	</service>
	
	<service name="gclient">
		<manager name="GLink" type="client" initstate="GLoginClient"/>

		<state ref="GLoginClient"/>
		<state ref="GSelectRoleClient"/>
		<state ref="GDataExchgClient"/>

		<protocol ref="GetFacActTopTable"/>
		<protocol ref="CreateFacBase"/>
		<protocol ref="GetFactionDynamic"/>
		<!--protocol ref="FactionPostMsg"/-->
		<!--protocol ref="GetFactionMsg"/-->
		<protocol ref="ACClientTimeout"/>
      		<!--Raid-->
		<protocol ref="RaidStart"/>
		<protocol ref="RaidEnter"/>
		<protocol ref="RaidQuit"/>
		<protocol ref="TeamRaidQuit"/>
		<protocol ref="HideSeekRaidQuit"/>
		<protocol ref="GetCommonData"/>
		<protocol ref="RaidGetList"/>
		<protocol ref="RaidAppoint"/>
		<protocol ref="RaidKick"/>
		<protocol ref="RaidGetRoom"/>
		<protocol ref="RaidJoinAccept"/>
		<protocol ref="RaidOpenVote"/>
		<protocol ref="RaidVotes"/>
		<!--protocol ref="TeamRaidApplyQuery"/-->
		<protocol ref="TeamRaidMappingSuccess_Re"/>
		<protocol ref="HideSeekMappingSuccess_Re"/>
		<protocol ref="TeamRaidUpdateChar"/>
		<protocol ref="FactionPkRaidChallenge"/>
		<protocol ref="FactionPkRaidChallengeCancel"/>
		<protocol ref="FactionPkRaidInvite_Re"/>
		<protocol ref="FactionPkRaidGetScore"/>
		<!--protocol ref="FactionPkRaidJoin"/-->
		<protocol ref="FactionPkRaidGetList"/>
		<protocol ref="FactionWithDrawBonus"/>

		<!--GT-->
		<protocol ref="GetFriendGTStatus" />
		<!--Circle -->
		<protocol ref="ClaimCircleGradBonus"/>
		<protocol ref="GCircleChat"/>
		<protocol ref="GetCircleBaseInfo"/>
		<protocol ref="CircleList"/>
		<!--Consign-->
		<protocol ref="ConsignCancelPost"/>
		<protocol ref="ConsignQuery"/>
		<protocol ref="ConsignGetItem"/>
		<protocol ref="ConsignListAll"/>
		<protocol ref="ConsignListRole"/>
		<protocol ref="ConsignListLargeCategory"/>

		<protocol ref="Response"/>
		<protocol ref="SelectRole"/>
		<protocol ref="EnterWorld"/>
		<protocol ref="RoleList"/>
		<protocol ref="CreateRole"/>
		<protocol ref="DeleteRole"/>
		<protocol ref="UndoDeleteRole"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="PlayerBaseInfo2"/>
		<protocol ref="PlayerBaseInfoCRC"/>
		<protocol ref="GetPlayerIDByName"/>
		<protocol ref="SetUIConfig"/>
		<protocol ref="GetUIConfig"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="GetPlayerBriefInfo"/>
		<protocol ref="TryReconnect"/>

		<!-- friend call back protocols -->
		<protocol ref="FriendCallbackInfo"/>
		<protocol ref="FriendCallbackMail"/>
		<protocol ref="FriendCallbackAward"/>
		<protocol ref="FriendCallbackSubscribe"/>

		<protocol ref="PublicChat"/>

		<!--friend relative protocols-->
		<protocol ref="GetFriends"/>
		<protocol ref="GetEnemies"/>
		<protocol ref="UpdateEnemy"/>
		<protocol ref="AddFriend"/>
		<protocol ref="SetGroupName"/>
		<protocol ref="SetFriendGroup"/>
		<protocol ref="DelFriend"/>
		<protocol ref="FriendStatus"/>
		<protocol ref="GetSavedMsg"/>

		<!-- chatroom relative protocols-->
		<protocol ref="ChatRoomCreate"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList"/>

		<!-- battle relative protocols-->
		<protocol ref="BattleGetMap"/>
		<protocol ref="BattleGetList"/>
		<protocol ref="BattleGetField"/>
		<protocol ref="BattleJoin"/>
		<protocol ref="BattleLeave"/>
		<protocol ref="BattleEnter"/>

		<protocol ref="InstancingGetList"/>
		<protocol ref="InstancingGetField"/>
		<protocol ref="InstancingKick"/>
		<protocol ref="InstancingStart"/>
		<protocol ref="InstancingAvailableList"/>
		<protocol ref="InstancingAccept"/>
		<protocol ref="InstancingLeave"/>
		<protocol ref="InstancingAppoint"/>
		<protocol ref="InstancingEnter"/>

		<!--trade relative protocols-->

		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeAddGoods"/>
		<protocol ref="TradeRemoveGoods"/>
		<protocol ref="TradeSubmit"/>
		<protocol ref="TradeMoveObj"/>
		<protocol ref="TradeConfirm"/>
		<protocol ref="TradeDiscard"/>

		<!-- GM related protocols -->
		<protocol ref="GMOnlineNum"/>
		<protocol ref="GMListOnlineUser"/>
		<protocol ref="GMKickoutUser"/>
		<!--protocol ref="GMForbidSellPoint"/-->
		<protocol ref="GMKickoutRole"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GMShutupRole"/>
		<protocol ref="GMToggleChat"/>
		<protocol ref="GMForbidRole"/>
		<protocol ref="Report2GM"/>
		<protocol ref="Complain2GM"/>
		<protocol ref="GMRestartServer"/>

		<protocol ref="GetTopTable"/>
		<protocol ref="CashLock"/>
		<protocol ref="CashPasswordSet"/>

		<!-- anti-cheat related protocols -->
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="ACAccuse"/>

		<!-- mail system related -->
		<protocol ref="CheckNewMail"/>
		<protocol ref="AnnounceNewMail"/>

		<protocol ref="GetMailList"/>
		<protocol ref="GetMail"/>
		<protocol ref="GetMailAttachObj"/>
		<protocol ref="DeleteMail"/>
		<protocol ref="PreserveMail"/>
		<protocol ref="PlayerSendMail"/>

		<protocol ref="AuctionOpen"/>
		<protocol ref="AuctionBid"/>
		<protocol ref="AuctionList"/>
		<protocol ref="AuctionClose"/>
		<protocol ref="AuctionGet"/>
		<protocol ref="AuctionGetItem"/>
		<protocol ref="AuctionAttendList"/>
		<protocol ref="AuctionExitBid"/>
	
		<!--CrssvrTeams-->
		<protocol ref="CrssvrTeamsGetRoleNotify"/>

		<protocol ref="CrssvrTeamsGetTeamBase"/>
		<protocol ref="CrssvrTeamsGetRoleList"/>
		<protocol ref="CrssvrTeamsRename"/>
		<protocol ref="CrssvrTeamsDismiss"/>
		<protocol ref="CrssvrTeamsRecruit"/>
		<protocol ref="CrssvrTeamsChgCaptain"/>
		<protocol ref="CrssvrTeamsLeave"/>
		<protocol ref="CrssvrTeamsKick"/>
		<protocol ref="CrssvrTeamsSearch"/>

		<!-- faction related protocols -->
		<protocol ref="GetFactionBaseInfo"/>
		<protocol ref="GetFactionBaseInfo_Re"/>
		<protocol ref="FactionChat"/>
		<protocol ref="FactionAnnounce"/>
		<protocol ref="FactionAppoint"/>
		<protocol ref="FactionDismiss"/>
		<protocol ref="FactionRecruit"/>
		<protocol ref="FactionExpel"/>
		<protocol ref="FactionResign"/>
		<protocol ref="FactionLeave"/>
		<protocol ref="FactionNickname"/>
		<protocol ref="FactionUpgrade"/>
		<protocol ref="FactionList"/>
		<protocol ref="FamilyRecord"/>
		<protocol ref="StockCommission"/>
		<protocol ref="StockBill"/>
		<protocol ref="StockAccount"/>
		<protocol ref="StockCancel"/>
		<protocol ref="CombatChallenge"/>
		<protocol ref="CombatTop"/>
		<!--protocol ref="PlayerChangeGS"/-->
		<protocol ref="DoChangeGS"/>
		<protocol ref="HostileDelete"/>
		<protocol ref="HostileAdd"/>
		<!-- siege relative -->
		<protocol ref="SiegeInfoGet"/>
		<protocol ref="SiegeEnter"/>
		<protocol ref="SiegeTop"/>
		<protocol ref="SectRecruit"/>
		<protocol ref="SectExpel"/>

		<!-- contest relative protocols -->
		<protocol ref="ContestInvite_Re"/>
		<protocol ref="ContestAnswer"/>
		<protocol ref="ContestExit"/>

		<protocol ref="SNSSetPlayerInfo"/>
		<protocol ref="SNSGetPlayerInfo"/>
		<protocol ref="SNSCancelMessage"/>
		<protocol ref="SNSCancelLeaveMessage"/>
		<protocol ref="SNSListMessage"/>
		<protocol ref="SNSGetMessage"/>
		<protocol ref="SNSAcceptApply"/>

		<rpc ref="TradeStartRqst" />
		<rpc ref="AddFriendRqst" />

		<protocol ref="RefListReferrals"/>
		<protocol ref="RefWithdrawExp"/>
		<protocol ref="RefWithdrawBonus"/>
		<protocol ref="RefGetReferenceCode"/>
		<!--Territory-->
		<protocol ref="TerritoryMapGet"/>

		<protocol ref="UniqueBidHistory"/>
		<!--cross server-->
		<protocol ref="KeyReestablish"/>
		<protocol ref="TryChangeGS"/>

		<protocol ref="SSOGetTicketReq"/>
		<protocol ref="FastPay"/>
		<protocol ref="QueryRolenameHistory"/>
		
		<protocol ref="SendFlowerReq"/>
		<protocol ref="TopFlowerReq"/>
		<protocol ref="TopFlowerGetGift"/>

		<protocol ref="OpenBanquetCancel"/>
		<protocol ref="OpenBanquetQueueCount"/>
		<protocol ref="OpenBanquetEnter"/>
		<protocol ref="OpenBanquetGetField"/>

		<protocol ref="KingdomAnnounce"/>
		<protocol ref="KingdomAppoint"/>
		<protocol ref="KingdomDischarge"/>
		<protocol ref="KingdomSetGameAttri"/>
		<protocol ref="KingdomGetInfo"/>
		<protocol ref="KingdomGetTitle"/>
		<protocol ref="QueenTryOpenBath"/>
		<protocol ref="GetKingTask"/>

		<protocol ref="GetTouchPoint"/>
		<protocol ref="GetPassportCashAdd"/>
	</service>
	
	<service name="gamed">
		<manager name="GProvider" type="client" initstate="GProviderClient" reconnect="1"/>
		
		<state ref="GProviderClient"/>

		<protocol ref="SyncPlayerFacCouponAdd"/>
		<protocol ref="StartFactionMultiExp"/>
		<protocol ref="FacBaseDataBroadcast"/>
		<protocol ref="SyncGsRoleInfo2Platform"/>
		<protocol ref="SyncRoleEvent2SNS"/>
		<protocol ref="FacDynDonateCash"/>
		<protocol ref="FacDynPutAuction"/>
		<protocol ref="FacDynWinAuction"/>
		<protocol ref="FacDynBuyAuction"/>
		<protocol ref="FacDynBuildingUpgrade"/>
		<protocol ref="FacDynBuildingComplete"/>
		<protocol ref="GFacBaseEnter"/>
		<protocol ref="GFacBaseLeave"/>
		<protocol ref="StartFacBase_Re"/>
		<protocol ref="StopFacBase_Re"/>
		<protocol ref="GUpdateFacAct"/>
		<protocol ref="GFacBaseServerRegister"/>
		<protocol ref="GlobalDropBroadCast"/>
		<protocol ref="RegisterGlobalCounter"/>
		<!--Raid-->
	        <protocol ref="GRaidServerRegister"/>
	        <protocol ref="GRaidOpen"/>
	        <protocol ref="GRaidJoin"/>
	        <protocol ref="GRaidMemberChange"/>
	        <protocol ref="GRaidLeave"/>
	        <protocol ref="GRaidEnterSuccess"/>
	        <protocol ref="GRaidEnd"/>
	        <protocol ref="SendRaidStart_Re"/>
	        <protocol ref="SendRaidEnter_Re"/>
		<protocol ref="GCrssvrTeamsGetScore"/>
		<protocol ref="GRaidTeamApply"/>
		<protocol ref="GHideSeekRaidApply"/>
		<protocol ref="GFengShenRaidApply"/>
	        <protocol ref="GFactionPkRaidKill"/>
	        <protocol ref="GFactionPkRaidDeposit"/>
		<protocol ref="GFactionPkRaidFightNotify"/>
	
		<!--Circle -->
		<!--protocol ref="BonusExp"/-->
		<!--protocol ref="GetCirclePoint_Re"/-->
		<protocol ref="GCircleChat"/>
		<protocol ref="AddCirclePoint"/>		
		
		<protocol ref="PlayerKickout_Re"/>
		<protocol ref="PlayerLogin_Re"/>
		<protocol ref="PlayerOffline_Re"/>
		<protocol ref="PlayerLogout"/>
		<protocol ref="PlayerReconnect_Re"/>

		<protocol ref="QueryPlayerStatus"/>
		<protocol ref="GetTaskData"/>
		<protocol ref="SetTaskData"/>
		<protocol ref="S2CGamedataSend"/>
		<protocol ref="S2CMulticast"/>
		<protocol ref="S2CMulticast2"/>
		<protocol ref="S2CBroadcast"/>
		<protocol ref="SetChatEmotion"/>

		<protocol ref="BattleFlagStart"/>
		<protocol ref="QueryBattleFlagBuff"/>
		<protocol ref="GetCouponsRep"/>

		<protocol ref="ChatMultiCast"/>
		<protocol ref="ChatBroadCast"/>
		<protocol ref="ChatSingleCast"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="PlayerHeartBeat"/>
		<protocol ref="DisconnectPlayer"/>

		<protocol ref="GTradeStart_Re"/>
		<protocol ref="GTradeDiscard"/>

		<protocol ref="BattleEnter"/>
		<protocol ref="BattleServerRegister"/>
		<protocol ref="BattleEnterFail"/>
		<protocol ref="GBattleEnd"/>
		<protocol ref="GBattleLeave"/>
		<protocol ref="BattleStart_Re"/>
	
		<protocol ref="GOpenBanquetLeave"/>
		<protocol ref="GOpenBanquetJoin"/> 

		<protocol ref="InstancingRegister"/>
		<protocol ref="InstancingEnterFail"/>
		<protocol ref="GInstancingEnd"/>
		<protocol ref="SendInstancingStart_Re"/>
		<protocol ref="GInstancingLeave"/>
		<protocol ref="SendInstancingJoin"/>

		<protocol ref="GMRestartServer_Re"/>

		<!-- mail system related -->
		<protocol ref="GetMailList"/>
		<protocol ref="GetMail"/>
		<protocol ref="GetMailAttachObj"/>
		<protocol ref="DeleteMail"/>
		<protocol ref="PreserveMail"/>
		<protocol ref="PlayerSendMail"/>

		<!-- auction related -->
		<protocol ref="AuctionOpen"/>
		<protocol ref="AuctionBid"/>
		<protocol ref="SendAuctionBid"/>
		<protocol ref="AuctionList"/>
		<protocol ref="AuctionClose"/>
		<protocol ref="AuctionGet"/>
		<protocol ref="AuctionGetItem"/>
		<protocol ref="AuctionAttendList"/>
		<protocol ref="AuctionExitBid"/>

		<!-- Activity related protocol  -->
		<protocol ref="QueryRewardType"/>
		<protocol ref="QueryRewardType_Re"/>
		<protocol ref="QueryNetBarReward"/>
		
		<!-- Anti Cheater -->
		<protocol ref="ACTriggerQuestion"/>
		
		<!-- CrssvrTeams -->
                <protocol ref="SendCrssvrTeamsCreate"/>

		<!-- game server attribute -->
		<protocol ref="QueryGameServerAttr"/>
		<protocol ref="SendFactionCreate"/>
		<protocol ref="FactionCreate"/>
		<protocol ref="FactionDismiss"/>
		<protocol ref="FactionUpgrade"/>
		<protocol ref="PlayerFactionInfo"/>
		<protocol ref="SyncPlayerFaction"/>
		<protocol ref="DebugCommand"/>
		<protocol ref="SyncRoleData"/>
		<protocol ref="UpdateEnemy"/>
		<rpc ref="PutSpouse" baseclass="Rpc" />
		<protocol ref="StockCommission"/>
		<protocol ref="StockAccount"/>
		<protocol ref="StockTransaction"/>
		<protocol ref="StockBill"/>
		<protocol ref="StockCancel"/>
		<protocol ref="CombatKill"/>
		<protocol ref="PlayerChangeGS_Re"/>
		<protocol ref="FamilyUseSkill"/>
		<protocol ref="FamilyExpShare"/>
		<protocol ref="GHostileProtect"/>
		<protocol ref="HostileProtect"/>

		<protocol ref="CommonDataSync"/>
		<rpc ref="CommonDataChange"/>
		
		<!-- Siege relative -->
		<protocol ref="GSiegeServerRegister"/>
		<protocol ref="GSiegeEnd"/>
		<protocol ref="SendSiegeStart_Re"/>
		<protocol ref="SendSiegeChallenge"/>
		<protocol ref="SiegeSetAssistant"/>
		<protocol ref="SiegeChallenge"/>
		<protocol ref="SiegeKill"/>
		<protocol ref="SiegeBroadcat"/>
		<protocol ref="SectUpdate"/>
		
		<!-- Cert Challenge -->
		<rpc ref="CertChallenge" baseclass="Rpc" />

		<!-- SNS Related -->
		<protocol ref="SendSNSPressMessage"/>
		<protocol ref="SendSNSApply"/>
		<protocol ref="SendSNSVote"/>
	
		<protocol ref="SendRefCashUsed"/>
		<protocol ref="SendRefLevelUp"/>
		<protocol ref="SendChangeProfile"/>
		
		<protocol ref="AchievementMessage"/>
		<protocol ref="PKMessage"/>
		<protocol ref="RefineMessage"/>
		<protocol ref="GInstancingStatus"/>
		<protocol ref="SendHometownExchgMoney"/>
		
		<!--openbanquet-->
		<!--Territory-->
		<protocol ref="GTerritoryChallenge" />
		<protocol ref="TerritoryServerRegister" />
		<protocol ref="SendTerritoryStart_Re" />
		<protocol ref="GTerritoryEnd" />
		<protocol ref="GTerritoryEnter" />
		<protocol ref="GTerritoryLeave" />
		<!--cross server-->
		<protocol ref="TryChangeDS" />
		<protocol ref="PlayerChangeDS_Re" />
		<!--Consign -->
		<protocol ref="GConsignStart"/>
		<protocol ref="GConsignStartRole"/>
		<protocol ref="PlayerConsignOffline_Re"/>
		<protocol ref="GChangeRolename"/>
		<protocol ref="GChangeFactionName"/>
		<!--GT-->
		<protocol ref="GTSyncTeams"/>
		<protocol ref="GTTeamCreate"/>
		<protocol ref="GTTeamDismiss"/>
		<protocol ref="GTTeamMemberUpdate"/>
		<!--kingdom-->
		<protocol ref="GKingdomBattleRegister" />
		<protocol ref="KingdomBattleStart_Re" />
		<protocol ref="GKingdomBattleEnd" />
		<protocol ref="GKingdomBattleHalf" />
		<protocol ref="GKingdomAttackerFail" />
		<protocol ref="GKingdomBattleEnter" />
		<protocol ref="GKingdomBattleLeave" />
		<protocol ref="GKingdomPointChange" />
		<protocol ref="GKingTryCallGuards" />
		<protocol ref="GKingIssueTask" />
		<protocol ref="GKingGetReward" />

		<protocol ref="S2CLineBroadcast" />
		<protocol ref="GTouchPointExchange" />

		<protocol ref="GOpenBanquetRoleDel"/>
		<protocol ref="GOpenBanquetClose"/>
	</service>

	<service name="gamedbd">
		<manager name="GameDB" type="server" initstate="GameDBServer"/>
		<manager name="GameDB" type="client" initstate="GameDBClient" reconnect="1" />

		<state ref="GameDBServer"/>
		<state ref="GameDBClient" />
		
		<!--protocol ref="FakeAddCash_Re"/-->
		<rpc ref="GetAddCashSN" baseclass="Rpc"/>
		<rpc ref="CashSerial" baseclass="Rpc"/>
		<rpc ref="PutSpouse" baseclass="Rpc"/>
		<rpc ref="ForbidUser" baseclass="Rpc" />
		<!--rpc ref="DBCircleGet" baseclass="Rpc" />
		<rpc ref="DBCircleHisGet" baseclass="Rpc" />
		<rpc ref="DBCircleJoin" baseclass="Rpc" />
		<rpc ref="DBCircleAppoint" baseclass="Rpc" />
		<rpc ref="DBCircleSync" baseclass="Rpc" /-->
		<protocol ref="TransBuyPoint"/>
		<protocol ref="UpdateTopTable"/>
		<protocol ref="LogStockCommission" />
		<protocol ref="LogStockBalance" />
		<protocol ref="LogStockTransaction" />
		<protocol ref="DomainCmd_Re"/>
		<rpc ref="PlayerIdentityMatch" baseclass="Rpc" />
		<protocol ref="UpdateQueen"/>
	</service>

	<service name="uniquenamed">
		<manager name="UniqueName" type="server" initstate="UniqueNameServer"/>
		<state ref="UniqueNameServer"/>
	</service>

	<service name="gacd">
		<manager name="GAntiCheater" type="server" initstate="ACServer"/>
		<manager name="GACControl" type="server" initstate="ACControlServer"/>
		
		<state ref="ACServer"/>
		<state ref="ACControlServer"/>

		<protocol ref="ACReport"/>
		<protocol ref="ACProtoStat"/>
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACStatusAnnounce"/>
		<protocol ref="ACRemoteCode"/>
		<protocol ref="ACQuestion"/>
		<protocol ref="ACConnectRe"/>
		<protocol ref="ACReloadConfig"/>
		<protocol ref="ACReloadConfigRe"/>
		<protocol ref="ACRemoteExe"/>
		<protocol ref="ACRemoteExeRe"/>
		<protocol ref="ACQuery"/>
		<protocol ref="ACSendCode"/>
		<protocol ref="ACQLogInfo"/>
		<protocol ref="ACQUserStrs"/>
		<protocol ref="ACQUserOnline"/>
		<protocol ref="ACQMouseInfo" />
		<protocol ref="ACQThreadTimes" />
		<protocol ref="ACQProtocolStats" />
		<protocol ref="ACQStrOwner"/>
		<protocol ref="ACVersion"/>
		<protocol ref="ACCheaters"/>
		<protocol ref="ACQPatterns"/>
		<protocol ref="ACForbidProcess"/>
		<protocol ref="ACQPlatformInfo"/>
		<protocol ref="ACBriefInfo"/>
		<protocol ref="ACPeriodInfo"/>
		<protocol ref="ACQCodeRes"/>
		<protocol ref="ACReportCheater"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="ACStatusAnnounce2"/>
		<protocol ref="ACKickoutUser"/>
		<protocol ref="ACForbidUser"/>
	</service>

	<service name="gacdclient">
		<manager name="GAntiCheater" type="client" initstate="ACControlClient"/>
		<state ref="ACControlClient"/>
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACReloadConfig"/>
		<protocol ref="ACReloadConfigRe"/>
		<protocol ref="ACRemoteExe"/>
		<protocol ref="ACRemoteExeRe"/>
		<protocol ref="ACQuery"/>
		<protocol ref="ACSendCode"/>
		<protocol ref="ACQLogInfo"/>
		<protocol ref="ACQUserStrs"/>
		<protocol ref="ACQUserOnline"/>
		<protocol ref="ACQMouseInfo" />
		<protocol ref="ACQThreadTimes" />
		<protocol ref="ACQProtocolStats" />
		<protocol ref="ACQStrOwner"/>
		<protocol ref="ACVersion"/>
		<protocol ref="ACCheaters"/>
		<protocol ref="ACQPatterns"/>
		<protocol ref="ACForbidProcess"/>
		<protocol ref="ACQPlatformInfo"/>
		<protocol ref="ACBriefInfo"/>
		<protocol ref="ACPeriodInfo"/>
		<protocol ref="ACQCodeRes"/>
		<protocol ref="ACConnectRe"/>
	</service>

	<service name="gdbclient">
		<manager name="Gamedb" type="client" initstate="GameDBClient" reconnect="1" />

		<state ref="GameDBClient" />
	</service>
	<!--service name="ghintclient">
		<manager name="ElementHint" type="client" initstate="GTransformClient" reconnect="1" />
		<state ref="GTransformClient" />
		<protocol ref="GetItemDesc_Re"/>
		<protocol ref="NewKeepAlive"/>
	</service-->

	<service name="ggated">
		<manager name="GameGate" type="client" initstate="GameGateClient" reconnect="1"/>
		<manager name="GameDB" type="client" initstate="GameDBGateClient" reconnect="1"/>
		<manager name="GTPlatform" type="client" initstate="GTPlatformClient" reconnect="1"/>
		<manager name="Kds" type="client" initstate="KdsClient" reconnect="1"/>
		<manager name="GProvider" type="server" initstate="GProviderGateServer" />
		<manager name="SNSPlatform" type="client" initstate="SNSPlatformClient" reconnect="1"/>

		<state ref="GameGateClient"/>
		<state ref="GameDBGateClient"/>
		<state ref="GTPlatformClient"/>
		<state ref="KdsClient"/>
		<state ref="GProviderGateServer"/>
		<state ref="SNSPlatformClient"/>
		<!--state ref="Null" /-->
	
		<protocol ref="KeysReq"/>

		<protocol ref="GateOnlineList_Re" />
		<protocol ref="GateGetGTRoleStatus_Re" />
		<protocol ref="GateUpdateStatus" />
		<protocol ref="GateOfflineChat" />

		<!--not used-->
		<!--protocol ref="GameSysMsg" /-->
		<!--protocol ref="RoleBlacklistUpdate" /-->
		<!--protocol ref="RoleForbidUpdate" /-->
		<!--protocol ref="FactionForbidUpdate" /-->
		
		<protocol ref="GetKDCToken_Re"/>
		<protocol ref="AnnounceZoneidToIM" />
		<protocol ref="GameDataResp" />
		<protocol ref="RoleListResp" />
		<protocol ref="RoleRelationResp" />
		<protocol ref="FactionInfoResp" />
		<protocol ref="RoleInfoResp" />
		<protocol ref="RoleInfoUpdate" />
		<!--GameGateClient state include-->
		<!--protocol ref="RoleGroupUpdate" />
		<protocol ref="RoleFriendUpdate" />
		<protocol ref="FactionMemberUpdate" />
		<protocol ref="FactionInfoUpdate" />
		<protocol ref="RemoveRole" />
		<protocol ref="RemoveFaction" /-->

		<protocol ref="GTReconnect"/>
		<protocol ref="RoleEnterVoiceChannelAck"/>
		<protocol ref="RoleLeaveVoiceChannelAck"/>
	</service>

</application>

