	public:
		int map_id;
		std::vector<TeamRaidApplyingRole> roles;
		char issrc;
		int src_zoneid;
		int src_gsid;
		enum { PROTOCOL_TYPE = PROTOCOL_GFENGSHENRAIDAPPLY };
	public:
		GFengShenRaidApply() { type = PROTOCOL_GFENGSHENRAIDAPPLY; }
		GFengShenRaidApply(void*) : Protocol(PROTOCOL_GFENGSHENRAIDAPPLY) { }
		GFengShenRaidApply (int l_map_id,const std::vector<TeamRaidApplyingRole>& l_roles = std::vector<TeamRaidApplyingRole>(),char l_issrc = 0,
			int l_src_zoneid = 0,int l_src_gsid = 0)
			 : map_id(l_map_id),roles(l_roles),issrc(l_issrc)
			,src_zoneid(l_src_zoneid),src_gsid(l_src_gsid)
		{
			type = PROTOCOL_GFENGSHENRAIDAPPLY;
		}

		GFengShenRaidApply(const GFengShenRaidApply &rhs)
			: Protocol(rhs),map_id(rhs.map_id),roles(rhs.roles),issrc(rhs.issrc)
			,src_zoneid(rhs.src_zoneid),src_gsid(rhs.src_gsid) { }

		GNET::Protocol *Clone() const { return new GFengShenRaidApply(*this); }

		OctetsStream& marshal(OctetsStream & os) const
		{
			os << map_id;
			os << roles;
			os << issrc;
			os << src_zoneid;
			os << src_gsid;
			return os;
		}

		const OctetsStream& unmarshal(const OctetsStream &os)
		{
			os >> map_id;
			os >> roles;
			os >> issrc;
			os >> src_zoneid;
			os >> src_gsid;
			return os;
		}

		int PriorPolicy( ) const { return 1; }

		bool SizePolicy(size_t size) const { return size <= 1024; }
